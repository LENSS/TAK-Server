{"ast":null,"code":"import _createClass from \"/home/radu/Server/src/takserver-tool-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/home/radu/Server/src/takserver-tool-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/home/radu/Server/src/takserver-tool-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/radu/Server/src/takserver-tool-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"/home/radu/Server/src/takserver-tool-ui/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport * as React from 'react';\nimport { getGridCellElement, getGridColumnHeaderElement, getGridRowElement } from '../../../utils/domUtils';\nimport { GRID_ID_AUTOGENERATED } from './gridRowsUtils';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { gridFocusCellSelector, gridTabIndexCellSelector } from '../focus/gridFocusStateSelector';\nexport var MissingRowIdError = /*#__PURE__*/function (_Error) {\n  _inherits(MissingRowIdError, _Error);\n  var _super = _createSuper(MissingRowIdError);\n  function MissingRowIdError() {\n    _classCallCheck(this, MissingRowIdError);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(MissingRowIdError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\n/**\n * @requires useGridColumns (method)\n * @requires useGridRows (method)\n * @requires useGridFocus (state)\n * @requires useGridEditing (method)\n * TODO: Impossible priority - useGridEditing also needs to be after useGridParamsApi\n * TODO: Impossible priority - useGridFocus also needs to be after useGridParamsApi\n */\nexport function useGridParamsApi(apiRef, props) {\n  var getRowId = props.getRowId;\n  var getColumnHeaderParams = React.useCallback(function (field) {\n    return {\n      field: field,\n      colDef: apiRef.current.getColumn(field)\n    };\n  }, [apiRef]);\n  var getRowParams = React.useCallback(function (id) {\n    var row = apiRef.current.getRow(id);\n    if (!row) {\n      throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n    }\n    var params = {\n      id: id,\n      columns: apiRef.current.getAllColumns(),\n      row: row\n    };\n    return params;\n  }, [apiRef]);\n  var getBaseCellParams = React.useCallback(function (id, field) {\n    var row = apiRef.current.getRow(id);\n    var rowNode = apiRef.current.getRowNode(id);\n    if (!row || !rowNode) {\n      throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n    }\n    var cellFocus = gridFocusCellSelector(apiRef);\n    var cellTabIndex = gridTabIndexCellSelector(apiRef);\n    var params = {\n      id: id,\n      field: field,\n      row: row,\n      rowNode: rowNode,\n      value: row[field],\n      colDef: apiRef.current.getColumn(field),\n      cellMode: apiRef.current.getCellMode(id, field),\n      api: apiRef.current,\n      hasFocus: cellFocus !== null && cellFocus.field === field && cellFocus.id === id,\n      tabIndex: cellTabIndex && cellTabIndex.field === field && cellTabIndex.id === id ? 0 : -1\n    };\n    return params;\n  }, [apiRef]);\n  var getCellParams = React.useCallback(function (id, field) {\n    var colDef = apiRef.current.getColumn(field);\n    var value = apiRef.current.getCellValue(id, field);\n    var row = apiRef.current.getRow(id);\n    var rowNode = apiRef.current.getRowNode(id);\n    if (!row || !rowNode) {\n      throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n    }\n    var cellFocus = gridFocusCellSelector(apiRef);\n    var cellTabIndex = gridTabIndexCellSelector(apiRef);\n    var params = {\n      id: id,\n      field: field,\n      row: row,\n      rowNode: rowNode,\n      colDef: colDef,\n      cellMode: apiRef.current.getCellMode(id, field),\n      hasFocus: cellFocus !== null && cellFocus.field === field && cellFocus.id === id,\n      tabIndex: cellTabIndex && cellTabIndex.field === field && cellTabIndex.id === id ? 0 : -1,\n      value: value,\n      formattedValue: value,\n      isEditable: false\n    };\n    if (colDef && colDef.valueFormatter) {\n      params.formattedValue = colDef.valueFormatter({\n        id: id,\n        field: params.field,\n        value: params.value,\n        api: apiRef.current\n      });\n    }\n    params.isEditable = colDef && apiRef.current.isCellEditable(params);\n    return params;\n  }, [apiRef]);\n  var getCellValue = React.useCallback(function (id, field) {\n    var colDef = apiRef.current.getColumn(field);\n    if (!colDef || !colDef.valueGetter) {\n      var rowModel = apiRef.current.getRow(id);\n      if (!rowModel) {\n        throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n      }\n      return rowModel[field];\n    }\n    return colDef.valueGetter(getBaseCellParams(id, field));\n  }, [apiRef, getBaseCellParams]);\n  var getRowValue = React.useCallback(function (row, colDef) {\n    var _getRowId;\n    var id = GRID_ID_AUTOGENERATED in row ? row[GRID_ID_AUTOGENERATED] : (_getRowId = getRowId == null ? void 0 : getRowId(row)) != null ? _getRowId : row.id;\n    var field = colDef.field;\n    if (!colDef || !colDef.valueGetter) {\n      return row[field];\n    }\n    return colDef.valueGetter(getBaseCellParams(id, field));\n  }, [getBaseCellParams, getRowId]);\n  var getRowFormattedValue = React.useCallback(function (row, colDef) {\n    var _ref;\n    var value = getRowValue(row, colDef);\n    if (!colDef || !colDef.valueFormatter) {\n      return value;\n    }\n    var id = (_ref = getRowId ? getRowId(row) : row.id) != null ? _ref : row[GRID_ID_AUTOGENERATED];\n    var field = colDef.field;\n    return colDef.valueFormatter({\n      id: id,\n      field: field,\n      value: value,\n      api: apiRef.current\n    });\n  }, [apiRef, getRowId, getRowValue]);\n  var getColumnHeaderElement = React.useCallback(function (field) {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridColumnHeaderElement(apiRef.current.rootElementRef.current, field);\n  }, [apiRef]);\n  var getRowElement = React.useCallback(function (id) {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridRowElement(apiRef.current.rootElementRef.current, id);\n  }, [apiRef]);\n  var getCellElement = React.useCallback(function (id, field) {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridCellElement(apiRef.current.rootElementRef.current, {\n      id: id,\n      field: field\n    });\n  }, [apiRef]);\n  var paramsApi = {\n    getCellValue: getCellValue,\n    getCellParams: getCellParams,\n    getCellElement: getCellElement,\n    getRowValue: getRowValue,\n    getRowFormattedValue: getRowFormattedValue,\n    getRowParams: getRowParams,\n    getRowElement: getRowElement,\n    getColumnHeaderParams: getColumnHeaderParams,\n    getColumnHeaderElement: getColumnHeaderElement\n  };\n  useGridApiMethod(apiRef, paramsApi, 'public');\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}