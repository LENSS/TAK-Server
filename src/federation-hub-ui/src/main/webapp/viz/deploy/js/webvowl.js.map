{"version":3,"sources":["webpack:///webpack/bootstrap 77ccdaf55732107f4077","webpack:///./src/webvowl/js/entry.js","webpack:///./src/webvowl/css/vowl.css","webpack:///./src/webvowl/js/elements/nodes/nodeMap.js","webpack:///external \"d3\"","webpack:///./src/webvowl/js/elements/nodes/implementations/ExternalClass.js","webpack:///./src/webvowl/js/elements/nodes/RoundNode.js","webpack:///./src/webvowl/js/elements/nodes/BaseNode.js","webpack:///./src/webvowl/js/elements/BaseElement.js","webpack:///./src/webvowl/js/util/languageTools.js","webpack:///./src/webvowl/js/util/constants.js","webpack:///./src/webvowl/js/elements/forceLayoutNodeFunctions.js","webpack:///./src/webvowl/js/elements/nodes/drawTools.js","webpack:///./src/webvowl/js/util/textElement.js","webpack:///./src/webvowl/js/util/textTools.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlClass.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlComplementOf.js","webpack:///./src/webvowl/js/elements/nodes/SetOperatorNode.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlDeprecatedClass.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlEquivalentClass.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlIntersectionOf.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlNothing.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlThing.js","webpack:///./src/webvowl/js/elements/nodes/implementations/OwlUnionOf.js","webpack:///./src/webvowl/js/elements/nodes/implementations/RdfsClass.js","webpack:///./src/webvowl/js/elements/nodes/implementations/RdfsDatatype.js","webpack:///./src/webvowl/js/elements/nodes/DatatypeNode.js","webpack:///./src/webvowl/js/elements/nodes/RectangularNode.js","webpack:///./src/webvowl/js/elements/rectangularElementTools.js","webpack:///./src/webvowl/js/elements/nodes/implementations/RdfsLiteral.js","webpack:///./src/webvowl/js/elements/nodes/implementations/RdfsResource.js","webpack:///./src/webvowl/js/elements/properties/propertyMap.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlDatatypeProperty.js","webpack:///./src/webvowl/js/elements/properties/BaseProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlDisjointWith.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlDeprecatedProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlEquivalentProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlFunctionalProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlInverseFunctionalProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlObjectProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlSymmetricProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/OwlTransitiveProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/RdfProperty.js","webpack:///./src/webvowl/js/elements/properties/implementations/RdfsSubClassOf.js","webpack:///./src/webvowl/js/elements/properties/implementations/SetOperatorProperty.js","webpack:///./src/webvowl/js/graph.js","webpack:///./src/webvowl/js/util/math.js","webpack:///./src/webvowl/js/parsing/linkCreator.js","webpack:///./src/webvowl/js/util/set.js","webpack:///./src/webvowl/js/elements/links/link.js","webpack:///./src/webvowl/js/elements/links/Label.js","webpack:///./src/webvowl/js/elements/links/linkPart.js","webpack:///./src/webvowl/js/util/elementTools.js","webpack:///./src/webvowl/js/options.js","webpack:///./src/webvowl/js/parser.js","webpack:///./src/webvowl/js/parsing/attributeParser.js","webpack:///./src/webvowl/js/modules/compactNotationSwitch.js","webpack:///./src/webvowl/js/modules/datatypeFilter.js","webpack:///./src/webvowl/js/util/filterTools.js","webpack:///./src/webvowl/js/modules/disjointFilter.js","webpack:///./src/webvowl/js/modules/focuser.js","webpack:///./src/webvowl/js/modules/nodeDegreeFilter.js","webpack:///./src/webvowl/js/modules/nodeScalingSwitch.js","webpack:///./src/webvowl/js/modules/pickAndPin.js","webpack:///./src/webvowl/js/modules/selectionDetailsDisplayer.js","webpack:///./src/webvowl/js/modules/setOperatorFilter.js","webpack:///./src/webvowl/js/modules/statistics.js","webpack:///./src/webvowl/js/modules/subclassFilter.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;;;AAGA;;;;;;;AC9CA,0C;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;;ACrBA,qB;;;;;;ACAA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACdD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;AC1LD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;;AAGA;AACA,EAAC;;;;;;;AChID;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA,EAAC;;;;;;;AC5KD;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACjDD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;;;;;AC1DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACpED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;AC7IA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,YAAY,oBAAoB,mBAAmB;AACxF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;;;;;ACzDA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACbD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACxCD;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;ACjCD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACdD;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9DD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClDD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACtBD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AChDD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACdD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACdD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACXD;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9ED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACxBA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7BD;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACvBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;;;;;;;;ACpBA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAI;AACJ;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA,EAAC;;;;;;;ACtYD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACvBD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACdD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACfD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC/BD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjBD;AACA;AACA;;;AAGA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,gDAA+C;AAC/C;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,oCAAoC;AAC9D,gEAA+D;AAC/D;AACA;AACA;AACA;AACA,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,sCAAsC;AAC3D;AACA,wBAAuB,kDAAkD;AACzE;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,wBAAuB,6CAA6C;AACpE;AACA;AACA;AACA;AACA,4BAA2B,8CAA8C;AACzE;AACA;AACA;AACA;AACA;AACA,sBAAqB,mCAAmC;AACxD;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA,8BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAmB,2CAA2C;AAC9D;AACA;AACA,iGAAgG;AAChG;AACA,QAAO,2GAA2G;AAClH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,2GAA2G;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA,oBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA;;AAEA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,2BAA0B;AAC1B,qBAAoB;AACpB,8BAA6B;AAC7B,qBAAoB;AACpB;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,wCAAwC;AAC7D;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT,iFAAgF;AAChF;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA,iHAAgH;AAChH,uEAAsE;AACtE;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,sCAAsC;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,iCAAiC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,uBAAuB;AAC1C;AACA,gDAA+C;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA,gDAA+C,iBAAiB;AAChE;AACA;;AAEA;AACA,kDAAiD,iBAAiB;AAClE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,6CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;ACr4BA;AACA;AACA;AACA;AACA;;AAEA,eAAc;AACd;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,WAAU;AACV;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAgB,mCAAmC;AACnD,iBAAgB;;AAEhB;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW;AACX;;AAEA;;AAEA;AACA;AACA;;AAEA,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC5ID;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAmC,OAAO;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA,yCAAwC,OAAO;AAC/C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC,OAAO;AACxC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACnHD;AACA;AACA;AACA;AACA;;AAEA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;AC9BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;;AAGA;AACA;;;;;;;AC/IA;;;AAGA;;AAEA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA,cAAa,8BAA8B;AAC3C,cAAa;AACb,GAAE;;;AAGF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;AC1CD;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA,eAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA;;AAEA,KAAI;AACJ;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qCAAoC,OAAO;AAC3C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uCAAsC,OAAO;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAuC,OAAO;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oDAAmD,OAAO;AAC1D;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,qCAAoC,OAAO;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oCAAmC,OAAO;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,YAAY;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,8CAA6C,YAAY;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACjqBA;AACA;AACA,cAAa;AACb;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4CAA2C,OAAO;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sCAAqC,OAAO;AAC5C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sCAAqC,OAAO;AAC5C;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AC1FD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;ACtDA;AACA;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;AC3DA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,iCAAiC;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,EAAC;;;;;;;AC1DD;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qCAAoC,OAAO;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;AC/DA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACjCA;AACA;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,OAAO;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;AChGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;ACtDA;;AAEA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAQ,OAAO;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AClCA;AACA,iBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AC3CA;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;AC3DA;AACA;AACA;AACA;;AAEA;;AAEA,qBAAoB;AACpB;AACA,yCAAwC;AACxC;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yCAAwC,OAAO;AAC/C;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;;;;ACxMA;;AAEA;;AAEA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL,qCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;AAEA,qCAAoC,OAAO;AAC3C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAuC,OAAO;AAC9C;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8CAA6C,OAAO;AACpD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kDAAiD,OAAO;AACxD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA","file":"js/webvowl.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 77ccdaf55732107f4077\n **/","require(\"../css/vowl.css\");\r\n\r\nvar nodeMap = require(\"./elements/nodes/nodeMap\")();\r\nvar propertyMap = require(\"./elements/properties/propertyMap\")();\r\n\r\n\r\nvar webvowl = {};\r\nwebvowl.graph = require(\"./graph\");\r\nwebvowl.options = require(\"./options\");\r\nwebvowl.version = \"@@WEBVOWL_VERSION\";\r\n\r\nwebvowl.util = {};\r\nwebvowl.util.constants = require(\"./util/constants\");\r\nwebvowl.util.languageTools = require(\"./util/languageTools\");\r\nwebvowl.util.elementTools = require(\"./util/elementTools\");\r\n\r\nwebvowl.modules = {};\r\nwebvowl.modules.compactNotationSwitch = require(\"./modules/compactNotationSwitch\");\r\nwebvowl.modules.datatypeFilter = require(\"./modules/datatypeFilter\");\r\nwebvowl.modules.disjointFilter = require(\"./modules/disjointFilter\");\r\nwebvowl.modules.focuser = require(\"./modules/focuser\");\r\nwebvowl.modules.nodeDegreeFilter = require(\"./modules/nodeDegreeFilter\");\r\nwebvowl.modules.nodeScalingSwitch = require(\"./modules/nodeScalingSwitch\");\r\nwebvowl.modules.pickAndPin = require(\"./modules/pickAndPin\");\r\nwebvowl.modules.selectionDetailsDisplayer = require(\"./modules/selectionDetailsDisplayer\");\r\nwebvowl.modules.setOperatorFilter = require(\"./modules/setOperatorFilter\");\r\nwebvowl.modules.statistics = require(\"./modules/statistics\");\r\nwebvowl.modules.subclassFilter = require(\"./modules/subclassFilter\");\r\n\r\n\r\nwebvowl.nodes = {};\r\nnodeMap.entries().forEach(function (entry) {\r\n\tmapEntryToIdentifier(webvowl.nodes, entry);\r\n});\r\n\r\nwebvowl.properties = {};\r\npropertyMap.entries().forEach(function (entry) {\r\n\tmapEntryToIdentifier(webvowl.properties, entry);\r\n});\r\n\r\nfunction mapEntryToIdentifier(map, entry) {\r\n\tvar identifier = entry.key.replace(\":\", \"\").toLowerCase();\r\n\tmap[identifier] = entry.value;\r\n}\r\n\r\n\r\nmodule.exports = webvowl;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/entry.js\n ** module id = 0\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/css/vowl.css\n ** module id = 1\n ** module chunks = 0\n **/","var nodes = [];\r\nnodes.push(require(\"./implementations/ExternalClass\"));\r\nnodes.push(require(\"./implementations/OwlClass\"));\r\nnodes.push(require(\"./implementations/OwlComplementOf\"));\r\nnodes.push(require(\"./implementations/OwlDeprecatedClass\"));\r\nnodes.push(require(\"./implementations/OwlEquivalentClass\"));\r\nnodes.push(require(\"./implementations/OwlIntersectionOf\"));\r\nnodes.push(require(\"./implementations/OwlNothing\"));\r\nnodes.push(require(\"./implementations/OwlThing\"));\r\nnodes.push(require(\"./implementations/OwlUnionOf\"));\r\nnodes.push(require(\"./implementations/RdfsClass\"));\r\nnodes.push(require(\"./implementations/RdfsDatatype\"));\r\nnodes.push(require(\"./implementations/RdfsLiteral\"));\r\nnodes.push(require(\"./implementations/RdfsResource\"));\r\n\r\nvar map = d3.map(nodes, function (Prototype) {\r\n\treturn new Prototype().type();\r\n});\r\n\r\nmodule.exports = function () {\r\n\treturn map;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/nodeMap.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = d3;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 6\n ** module chunks = 0 1\n **/","var RoundNode = require(\"../RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"external\"])\r\n\t\t\t.type(\"ExternalClass\");\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/ExternalClass.js\n ** module id = 7\n ** module chunks = 0\n **/","var BaseNode = require(\"./BaseNode\");\r\nvar drawTools = require(\"./drawTools\")();\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseNode.apply(this, arguments);\r\n\r\n\t\tvar that = this,\r\n\t\t\tcollapsible = false,\r\n\t\t\tradius = 50,\r\n\t\t\tcollapsingGroupElement,\r\n\t\t\tpinGroupElement,\r\n\t\t\ttextBlock;\r\n\r\n\r\n\t\t// Properties\r\n\t\tthis.collapsible = function (p) {\r\n\t\t\tif (!arguments.length) return collapsible;\r\n\t\t\tcollapsible = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.textBlock = function (p) {\r\n\t\t\tif (!arguments.length) return textBlock;\r\n\t\t\ttextBlock = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * This might not be equal to the actual radius, because the instance count is used for its calculation.\r\n\t\t * @param p\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\tthis.radius = function (p) {\r\n\t\t\tif (!arguments.length) return radius;\r\n\t\t\tradius = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\r\n\t\t// Functions\r\n\t\tthis.setHoverHighlighting = function (enable) {\r\n\t\t\tthat.nodeElement().selectAll(\"circle\").classed(\"hovered\", enable);\r\n\t\t};\r\n\r\n\t\tthis.textWidth = function () {\r\n\t\t\treturn this.actualRadius() * 2;\r\n\t\t};\r\n\r\n\t\tthis.toggleFocus = function () {\r\n\t\t\tthat.focused(!that.focused());\r\n\t\t\tthat.nodeElement().select(\"circle\").classed(\"focused\", that.focused());\r\n\t\t};\r\n\r\n\t\tthis.actualRadius = function () {\r\n\t\t\tif (!graph.options().scaleNodesByIndividuals() || that.individuals().length <= 0) {\r\n\t\t\t\treturn that.radius();\r\n\t\t\t} else {\r\n\t\t\t\t// we could \"listen\" for radius and maxIndividualCount changes, but this is easier\r\n\t\t\t\tvar MULTIPLIER = 8,\r\n\t\t\t\t\tadditionalRadius = Math.log(that.individuals().length + 1) * MULTIPLIER + 5;\r\n\r\n\t\t\t\treturn that.radius() + additionalRadius;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.distanceToBorder = function () {\r\n\t\t\treturn that.actualRadius();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Draws the pin on a round node on a position depending on its radius.\r\n\t\t */\r\n\t\tthis.drawPin = function () {\r\n\t\t\tthat.pinned(true);\r\n\r\n\t\t\tpinGroupElement = that.nodeElement()\r\n\t\t\t\t.append(\"g\")\r\n\t\t\t\t.classed(\"hidden-in-export\", true)\r\n\t\t\t\t.attr(\"transform\", function () {\r\n\t\t\t\t\tvar dx = (2 / 5) * that.actualRadius(),\r\n\t\t\t\t\t\tdy = (-7 / 10) * that.actualRadius();\r\n\t\t\t\t\treturn \"translate(\" + dx + \",\" + dy + \")\";\r\n\t\t\t\t});\r\n\r\n\t\t\tpinGroupElement.append(\"circle\")\r\n\t\t\t\t.classed(\"class pin feature\", true)\r\n\t\t\t\t.attr(\"r\", 12)\r\n\t\t\t\t.on(\"click\", function () {\r\n\t\t\t\t\tthat.removePin();\r\n\t\t\t\t\td3.event.stopPropagation();\r\n\t\t\t\t});\r\n\r\n\t\t\tpinGroupElement.append(\"line\")\r\n\t\t\t\t.attr(\"x1\", 0)\r\n\t\t\t\t.attr(\"x2\", 0)\r\n\t\t\t\t.attr(\"y1\", 12)\r\n\t\t\t\t.attr(\"y2\", 16);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Removes the pin and refreshs the graph to update the force layout.\r\n\t\t */\r\n\t\tthis.removePin = function () {\r\n\t\t\tthat.pinned(false);\r\n\t\t\tif (pinGroupElement) {\r\n\t\t\t\tpinGroupElement.remove();\r\n\t\t\t}\r\n\t\t\tgraph.updateStyle();\r\n\t\t};\r\n\r\n\t\tthis.drawCollapsingButton = function () {\r\n\r\n\t\t\tcollapsingGroupElement = that.nodeElement()\r\n\t\t\t\t.append(\"g\")\r\n\t\t\t\t.classed(\"hidden-in-export\", true)\r\n\t\t\t\t.attr(\"transform\", function () {\r\n\t\t\t\t\tvar dx = (-2 / 5) * that.actualRadius(),\r\n\t\t\t\t\t\tdy = (1 / 2) * that.actualRadius();\r\n\t\t\t\t\treturn \"translate(\" + dx + \",\" + dy + \")\";\r\n\t\t\t\t});\r\n\r\n\t\t\tcollapsingGroupElement.append(\"rect\")\r\n\t\t\t\t.classed(\"class pin feature\", true)\r\n\t\t\t\t.attr(\"x\", 0)\r\n\t\t\t\t.attr(\"y\", 0)\r\n\t\t\t\t.attr(\"width\", 40)\r\n\t\t\t\t.attr(\"height\", 24);\r\n\r\n\t\t\tcollapsingGroupElement.append(\"line\")\r\n\t\t\t\t.attr(\"x1\", 13)\r\n\t\t\t\t.attr(\"y1\", 12)\r\n\t\t\t\t.attr(\"x2\", 27)\r\n\t\t\t\t.attr(\"y2\", 12);\r\n\r\n\t\t\tcollapsingGroupElement.append(\"line\")\r\n\t\t\t\t.attr(\"x1\", 20)\r\n\t\t\t\t.attr(\"y1\", 6)\r\n\t\t\t\t.attr(\"x2\", 20)\r\n\t\t\t\t.attr(\"y2\", 18);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Draws a circular node.\r\n\t\t * @param parentElement the element to which this node will be appended\r\n\t\t * @param [additionalCssClasses] additional css classes\r\n\t\t */\r\n\t\tthis.draw = function (parentElement, additionalCssClasses) {\r\n\t\t\tvar cssClasses = that.collectCssClasses();\r\n\r\n\t\t\tthat.nodeElement(parentElement);\r\n\r\n\t\t\tif (additionalCssClasses instanceof Array) {\r\n\t\t\t\tcssClasses = cssClasses.concat(additionalCssClasses);\r\n\t\t\t}\r\n\t\t\tdrawTools.appendCircularClass(parentElement, that.actualRadius(), cssClasses, that.labelForCurrentLanguage());\r\n\r\n\t\t\tthat.postDrawActions(parentElement);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Common actions that should be invoked after drawing a node.\r\n\t\t */\r\n\t\tthis.postDrawActions = function () {\r\n\t\t\tvar textBlock = require(\"../../util/textElement\")(that.nodeElement());\r\n\t\t\ttextBlock.addText(that.labelForCurrentLanguage());\r\n\t\t\tif (!graph.options().compactNotation()) {\r\n\t\t\t\ttextBlock.addSubText(that.indicationString());\r\n\t\t\t}\r\n\t\t\ttextBlock.addInstanceCount(that.individuals().length);\r\n\t\t\tthat.textBlock(textBlock);\r\n\r\n\t\t\tthat.addMouseListeners();\r\n\t\t\tif (that.pinned()) {\r\n\t\t\t\tthat.drawPin();\r\n\t\t\t}\r\n\t\t\tif (that.collapsible()) {\r\n\t\t\t\tthat.drawCollapsingButton();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(BaseNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/RoundNode.js\n ** module id = 8\n ** module chunks = 0\n **/","var BaseElement = require(\"../BaseElement\");\r\nvar forceLayoutNodeFunctions = require(\"../forceLayoutNodeFunctions\")();\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar Base = function (graph) {\r\n\t\tBaseElement.apply(this, arguments);\r\n\r\n\t\tvar that = this,\r\n\t\t// Basic attributes\r\n\t\t\tcomplement,\r\n\t\t\tdisjointWith,\r\n\t\t\tindividuals = [],\r\n\t\t\tintersection,\r\n\t\t\tunion,\r\n\t\t// Additional attributes\r\n\t\t\tmaxIndividualCount,\r\n\t\t// Element containers\r\n\t\t\tnodeElement;\r\n\r\n\r\n\t\t// Properties\r\n\t\tthis.complement = function (p) {\r\n\t\t\tif (!arguments.length) return complement;\r\n\t\t\tcomplement = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.disjointWith = function (p) {\r\n\t\t\tif (!arguments.length) return disjointWith;\r\n\t\t\tdisjointWith = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.individuals = function (p) {\r\n\t\t\tif (!arguments.length) return individuals;\r\n\t\t\tindividuals = p || [];\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.intersection = function (p) {\r\n\t\t\tif (!arguments.length) return intersection;\r\n\t\t\tintersection = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.maxIndividualCount = function (p) {\r\n\t\t\tif (!arguments.length) return maxIndividualCount;\r\n\t\t\tmaxIndividualCount = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.nodeElement = function (p) {\r\n\t\t\tif (!arguments.length) return nodeElement;\r\n\t\t\tnodeElement = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.union = function (p) {\r\n\t\t\tif (!arguments.length) return union;\r\n\t\t\tunion = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\r\n\t\t/**\r\n\t\t * Returns css classes generated from the data of this object.\r\n\t\t * @returns {Array}\r\n\t\t */\r\n\t\tthat.collectCssClasses = function () {\r\n\t\t\tvar cssClasses = [];\r\n\r\n\t\t\tif (typeof that.styleClass() === \"string\") {\r\n\t\t\t\tcssClasses.push(that.styleClass());\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof that.visualAttribute() === \"string\") {\r\n\t\t\t\tcssClasses.push(that.visualAttribute());\r\n\t\t\t}\r\n\r\n\t\t\treturn cssClasses;\r\n\t\t};\r\n\r\n\r\n\t\t// Reused functions TODO refactor\r\n\t\tthis.addMouseListeners = function () {\r\n\t\t\t// Empty node\r\n\t\t\tif (!that.nodeElement()) {\r\n\t\t\t\tconsole.warn(this);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthat.nodeElement().selectAll(\"*\")\r\n\t\t\t\t.on(\"mouseover\", onMouseOver)\r\n\t\t\t\t.on(\"mouseout\", onMouseOut);\r\n\t\t};\r\n\r\n\t\tfunction onMouseOver() {\r\n\t\t\tif (that.mouseEntered()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar selectedNode = that.nodeElement().node(),\r\n\t\t\t\tnodeContainer = selectedNode.parentNode;\r\n\r\n\t\t\t// Append hovered element as last child to the container list.\r\n\t\t\tnodeContainer.appendChild(selectedNode);\r\n\r\n\t\t\tthat.setHoverHighlighting(true);\r\n\r\n\t\t\tthat.mouseEntered(true);\r\n\t\t}\r\n\r\n\t\tfunction onMouseOut() {\r\n\t\t\tthat.setHoverHighlighting(false);\r\n\r\n\t\t\tthat.mouseEntered(false);\r\n\t\t}\r\n\r\n\r\n\t\tforceLayoutNodeFunctions.addTo(this);\r\n\t};\r\n\r\n\tBase.prototype = Object.create(BaseElement.prototype);\r\n\tBase.prototype.constructor = Base;\r\n\r\n\r\n\treturn Base;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/BaseNode.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\r\n * The base element for all visual elements of webvowl.\r\n */\r\nmodule.exports = (function () {\r\n\r\n\tvar DEFAULT_LABEL = \"DEFAULT_LABEL\";\r\n\r\n\tvar Base = function (graph) {\r\n\t\t// Basic attributes\r\n\t\tvar equivalents = [],\r\n\t\t\tid,\r\n\t\t\tlabel,\r\n\t\t\ttype,\r\n\t\t\tiri,\r\n\t\t\tlinks,\r\n\t\t// Additional attributes\r\n\t\t\tannotations,\r\n\t\t\tattributes = [],\r\n\t\t\tvisualAttribute,\r\n\t\t\tcomment,\r\n\t\t\tdescription,\r\n\t\t\tequivalentBase,\r\n\t\t// Style attributes\r\n\t\t\tfocused = false,\r\n\t\t\tindications = [],\r\n\t\t\tmouseEntered = false,\r\n\t\t\tstyleClass,\r\n\t\t\tvisible = true,\r\n\t\t// Other\r\n\t\t\tlanguageTools = require(\"../util/languageTools\")();\r\n\r\n\r\n\t\t// Properties\r\n\t\tthis.attributes = function (p) {\r\n\t\t\tif (!arguments.length) return attributes;\r\n\t\t\tattributes = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.annotations = function (p) {\r\n\t\t\tif (!arguments.length) return annotations;\r\n\t\t\tannotations = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.comment = function (p) {\r\n\t\t\tif (!arguments.length) return comment;\r\n\t\t\tcomment = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.description = function (p) {\r\n\t\t\tif (!arguments.length) return description;\r\n\t\t\tdescription = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.equivalents = function (p) {\r\n\t\t\tif (!arguments.length) return equivalents;\r\n\t\t\tequivalents = p || [];\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.equivalentBase = function (p) {\r\n\t\t\tif (!arguments.length) return equivalentBase;\r\n\t\t\tequivalentBase = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.focused = function (p) {\r\n\t\t\tif (!arguments.length) return focused;\r\n\t\t\tfocused = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.id = function (p) {\r\n\t\t\tif (!arguments.length) return id;\r\n\t\t\tid = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.indications = function (p) {\r\n\t\t\tif (!arguments.length) return indications;\r\n\t\t\tindications = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.iri = function (p) {\r\n\t\t\tif (!arguments.length) return iri;\r\n\t\t\tiri = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.label = function (p) {\r\n\t\t\tif (!arguments.length) return label;\r\n\t\t\tlabel = p || DEFAULT_LABEL;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.links = function (p) {\r\n\t\t\tif (!arguments.length) return links;\r\n\t\t\tlinks = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.mouseEntered = function (p) {\r\n\t\t\tif (!arguments.length) return mouseEntered;\r\n\t\t\tmouseEntered = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.styleClass = function (p) {\r\n\t\t\tif (!arguments.length) return styleClass;\r\n\t\t\tstyleClass = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.type = function (p) {\r\n\t\t\tif (!arguments.length) return type;\r\n\t\t\ttype = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.visible = function (p) {\r\n\t\t\tif (!arguments.length) return visible;\r\n\t\t\tvisible = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.visualAttribute = function (p) {\r\n\t\t\tif (!arguments.length) return visualAttribute;\r\n\t\t\tvisualAttribute = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\r\n\t\tthis.commentForCurrentLanguage = function () {\r\n\t\t\treturn languageTools.textInLanguage(this.comment(), graph.language());\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * @returns {string} the css class of this node..\r\n\t\t */\r\n\t\tthis.cssClassOfNode = function () {\r\n\t\t\treturn \"node\" + this.id();\r\n\t\t};\r\n\r\n\t\tthis.descriptionForCurrentLanguage = function () {\r\n\t\t\treturn languageTools.textInLanguage(this.description(), graph.language());\r\n\t\t};\r\n\r\n\t\tthis.defaultLabel = function () {\r\n\t\t\treturn languageTools.textInLanguage(this.label(), \"default\");\r\n\t\t};\r\n\r\n\t\tthis.indicationString = function () {\r\n\t\t\treturn this.indications().join(\", \");\r\n\t\t};\r\n\r\n\t\tthis.labelForCurrentLanguage = function () {\r\n\t\t\treturn languageTools.textInLanguage(this.label(), graph.language());\r\n\t\t};\r\n\t};\r\n\r\n\tBase.prototype.constructor = Base;\r\n\r\n\tBase.prototype.equals = function(other) {\r\n\t\treturn other instanceof Base && this.id() === other.id();\r\n\t};\r\n\r\n\r\n\treturn Base;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/BaseElement.js\n ** module id = 10\n ** module chunks = 0\n **/","var constants = require(\"./constants\")();\r\n\r\n/**\r\n * Encapsulates methods which return a label in a specific language for a preferred language.\r\n */\r\nmodule.exports = (function () {\r\n\r\n\tvar languageTools = {};\r\n\r\n\r\n\tlanguageTools.textInLanguage = function (textObject, preferredLanguage) {\r\n\t\tif (typeof textObject === \"undefined\") {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\tif (typeof textObject === \"string\") {\r\n\t\t\treturn textObject;\r\n\t\t}\r\n\r\n\t\tif (preferredLanguage && textObject.hasOwnProperty(preferredLanguage)) {\r\n\t\t\treturn textObject[preferredLanguage];\r\n\t\t}\r\n\r\n\t\tvar textForLanguage = searchLanguage(textObject, \"en\");\r\n\t\tif (textForLanguage) {\r\n\t\t\treturn textForLanguage;\r\n\t\t}\r\n\t\ttextForLanguage = searchLanguage(textObject, constants.LANG_UNDEFINED);\r\n\t\tif (textForLanguage) {\r\n\t\t\treturn textForLanguage;\r\n\t\t}\r\n\r\n\t\treturn textObject[constants.LANG_IRIBASED];\r\n\t};\r\n\r\n\r\n\tfunction searchLanguage(textObject, preferredLanguage) {\r\n\t\tfor (var language in textObject) {\r\n\t\t\tif (language === preferredLanguage && textObject.hasOwnProperty(language)) {\r\n\t\t\t\treturn textObject[language];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn function () {\r\n\t\t/* Use a function here to keep a consistent style like webvowl.path.to.module()\r\n\t\t * despite having just a single languageTools object. */\r\n\t\treturn languageTools;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/languageTools.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = (function () {\r\n\r\n\tvar constants = {};\r\n\r\n\tconstants.LANG_IRIBASED = \"IRI-based\";\r\n\tconstants.LANG_UNDEFINED = \"undefined\";\r\n\r\n\treturn function () {\r\n\t\t/* Use a function here to keep a consistent style like webvowl.path.to.module()\r\n\t\t * despite having just a single object. */\r\n\t\treturn constants;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/constants.js\n ** module id = 12\n ** module chunks = 0\n **/","/**\r\n * The functions for controlling attributes of nodes of the force layout can't be modelled to the element hierarchy,\r\n * which is used for inheriting visual and OWL-like attributes.\r\n *\r\n * To reduce code redundancy the common functions for controlling the force layout node attributes are excluded into this\r\n * module, which can add them to the node objects.\r\n *\r\n * @type {{}}\r\n */\r\nvar nodeFunctions = {};\r\nmodule.exports = function () {\r\n\treturn nodeFunctions;\r\n};\r\n\r\n\r\nnodeFunctions.addTo = function (node) {\r\n\taddFixedLocationFunctions(node);\r\n};\r\n\r\nfunction addFixedLocationFunctions(node) {\r\n\tvar locked = false,\r\n\t\tfrozen = false,\r\n\t\tpinned = false;\r\n\r\n\tnode.locked = function (p) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn locked;\r\n\t\t}\r\n\t\tlocked = p;\r\n\t\tapplyFixedLocationAttributes();\r\n\t\treturn node;\r\n\t};\r\n\r\n\tnode.frozen = function (p) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn frozen;\r\n\t\t}\r\n\t\tfrozen = p;\r\n\t\tapplyFixedLocationAttributes();\r\n\t\treturn node;\r\n\t};\r\n\r\n\tnode.pinned = function (p) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn pinned;\r\n\t\t}\r\n\t\tpinned = p;\r\n\t\tapplyFixedLocationAttributes();\r\n\t\treturn node;\r\n\t};\r\n\r\n\tfunction applyFixedLocationAttributes() {\r\n\t\tif (node.locked() || node.frozen() || node.pinned()) {\r\n\t\t\tnode.fixed = true;\r\n\t\t} else {\r\n\t\t\tnode.fixed = false;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/forceLayoutNodeFunctions.js\n ** module id = 13\n ** module chunks = 0\n **/","/**\r\n * Contains reusable function for drawing nodes.\r\n */\r\nmodule.exports = (function () {\r\n\r\n\tvar tools = {};\r\n\r\n\t/**\r\n\t * Append a circular class node with the passed attributes.\r\n\t * @param parent the parent element to which the circle will be appended\r\n\t * @param radius\r\n\t * @param cssClasses an array of additional css classes\r\n\t * @param [tooltip]\r\n\t * @returns {*}\r\n\t */\r\n\ttools.appendCircularClass = function (parent, radius, cssClasses, tooltip) {\r\n\t\tvar circle = parent.append(\"circle\")\r\n\t\t\t.classed(\"class\", true)\r\n\t\t\t.attr(\"r\", radius);\r\n\r\n\t\taddCssClasses(circle, cssClasses);\r\n\t\taddToolTip(circle, tooltip);\r\n\r\n\t\treturn circle;\r\n\t};\r\n\r\n\tfunction addCssClasses(element, cssClasses) {\r\n\t\tif (cssClasses instanceof Array) {\r\n\t\t\tcssClasses.forEach(function (cssClass) {\r\n\t\t\t\telement.classed(cssClass, true);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction addToolTip(element, tooltip) {\r\n\t\tif (tooltip) {\r\n\t\t\telement.append(\"title\").text(tooltip);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Appends a rectangular class node with the passed attributes.\r\n\t * @param parent the parent element to which the rectangle will be appended\r\n\t * @param width\r\n\t * @param height\r\n\t * @param cssClasses an array of additional css classes\r\n\t * @param [tooltip]\r\n\t * @returns {*}\r\n\t */\r\n\ttools.appendRectangularClass = function (parent, width, height, cssClasses, tooltip) {\r\n\t\tvar rectangle = parent.append(\"rect\")\r\n\t\t\t.classed(\"class\", true)\r\n\t\t\t.attr(\"x\", -width / 2)\r\n\t\t\t.attr(\"y\", -height / 2)\r\n\t\t\t.attr(\"width\", width)\r\n\t\t\t.attr(\"height\", height);\r\n\r\n\t\taddCssClasses(rectangle, cssClasses);\r\n\t\taddToolTip(rectangle, tooltip);\r\n\r\n\t\treturn rectangle;\r\n\t};\r\n\r\n\r\n\treturn function () {\r\n\t\t// Encapsulate into function to maintain default.module.path()\r\n\t\treturn tools;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/drawTools.js\n ** module id = 14\n ** module chunks = 0\n **/","var textTools = require(\"./textTools\")();\r\n\r\n/**\r\n * Creates a new textblock in the specified element.\r\n * @param element The element/group where the text block should be appended.\r\n * @constructor New text block where additional <tspan>'s can be applied to.\r\n */\r\nmodule.exports = function (element) {\r\n\r\n\tvar textElement = {},\r\n\t\tLINE_DISTANCE = 1,\r\n\t\tSUBTEXT_CSS_CLASS = \"subtext\",\r\n\t\ttextBlock = element.append(\"text\")\r\n\t\t\t.classed(\"text\", true)\r\n\t\t\t.attr(\"text-anchor\", \"middle\");\r\n\r\n\t/**\r\n\t * Repositions the textblock according to its own offsetHeight.\r\n\t */\r\n\tfunction repositionTextBlock() {\r\n\t\t// Nothing to do if no child elements exist\r\n\t\tvar lineCount = getLineCount();\r\n\t\tif (lineCount < 1) {\r\n\t\t\ttextBlock.attr(\"y\", 0);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar textBlockHeight = getTextBlockHeight(textBlock);\r\n\t\ttextBlock.attr(\"y\", -textBlockHeight * 0.6 + \"px\");\r\n\t}\r\n\r\n\t/**\r\n\t * Adds a new line of text to the element.\r\n\t * @param text\r\n\t */\r\n\ttextElement.addText = function (text) {\r\n\t\taddTextline(text);\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a line of text in subproperty style.\r\n\t * @param text\r\n\t */\r\n\ttextElement.addSubText = function (text) {\r\n\t\taddTextline(text, SUBTEXT_CSS_CLASS, \"(\", \")\");\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a line of text in equivalent node listing style.\r\n\t * @param text\r\n\t */\r\n\ttextElement.addEquivalents = function (text) {\r\n\t\taddTextline(text, SUBTEXT_CSS_CLASS, \"[\", \"]\");\r\n\t};\r\n\r\n\t/**\r\n\t * Adds a label with the instance count.\r\n\t * @param instanceCount\r\n\t */\r\n\ttextElement.addInstanceCount = function (instanceCount) {\r\n\t\tif (instanceCount) {\r\n\t\t\taddTextline(instanceCount.toString(), \"instance-count\");\r\n\t\t}\r\n\t};\r\n\r\n\tfunction getLineCount() {\r\n\t\treturn textBlock.property(\"childElementCount\") - textBlock.selectAll(\".instance-count\").size();\r\n\t}\r\n\r\n\tfunction addTextline(text, subtextCssClass, prefix, postfix) {\r\n\t\tif (!text) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar truncatedText, tspan;\r\n\r\n\t\tsubtextCssClass = subtextCssClass || \"text\";\r\n\t\ttruncatedText = textTools.truncate(text, element.datum().textWidth(), subtextCssClass);\r\n\r\n\t\ttspan = textBlock.append(\"tspan\")\r\n\t\t\t.classed(\"text\", true)\r\n\t\t\t.classed(subtextCssClass, true)\r\n\t\t\t.text(applyPreAndPostFix(truncatedText, prefix, postfix))\r\n\t\t\t.attr(\"x\", 0)\r\n\t\t\t.attr(\"dy\", function () {\r\n\t\t\t\tvar heightInPixels = getPixelHeightOfTextLine(d3.select(this)),\r\n\t\t\t\t\tsiblingCount = getLineCount() - 1,\r\n\t\t\t\t\tlineDistance = siblingCount > 0 ? LINE_DISTANCE : 0;\r\n\t\t\t\treturn heightInPixels + lineDistance + \"px\";\r\n\t\t\t});\r\n\r\n\t\trepositionTextBlock();\r\n\t}\r\n\r\n\tfunction applyPreAndPostFix(text, prefix, postfix) {\r\n\t\tif (prefix) {\r\n\t\t\ttext = prefix + text;\r\n\t\t}\r\n\t\tif (postfix) {\r\n\t\t\ttext += postfix;\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n\tfunction getPixelHeightOfTextLine(textElement) {\r\n\t\t/* Due to browser incompatibilities this has to be hardcoded. This is because Firefox has no\r\n\t\t * \"offsetHeight\" attribute like Chrome to retrieve the absolute pixel height. */\r\n\t\tif (textElement.classed(\"subtext\")) {\r\n\t\t\treturn 10;\r\n\t\t} else {\r\n\t\t\treturn 14;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTextBlockHeight(textBlock) {\r\n\t\t/* Hardcoded due to the same reasons like in the getPixelHeightOfTextLine function. */\r\n\r\n\t\tvar children = textBlock.selectAll(\"*\"),\r\n\t\t\tchildCount = children.size();\r\n\t\tif (childCount === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Values retrieved by testing\r\n\t\tvar pixelHeight = childCount * LINE_DISTANCE;\r\n\t\tchildren.each(function () {\r\n\t\t\tpixelHeight += getPixelHeightOfTextLine(d3.select(this));\r\n\t\t});\r\n\r\n\t\treturn pixelHeight;\r\n\t}\r\n\r\n\ttextElement.setTranslation = function (x, y) {\r\n\t\ttextBlock.attr(\"transform\", \"translate(\" + x + \", \" + y + \")\");\r\n\t};\r\n\r\n\ttextElement.clear = function () {\r\n\t\ttextBlock.selectAll(\"*\").remove();\r\n\t};\r\n\r\n\treturn textElement;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/textElement.js\n ** module id = 15\n ** module chunks = 0\n **/","var ADDITIONAL_TEXT_SPACE = 4;\r\n\r\nvar tools = {};\r\n\r\nfunction measureTextWidth(text, textStyle) {\r\n\t// Set a default value\r\n\tif (!textStyle) {\r\n\t\ttextStyle = \"text\";\r\n\t}\r\n\tvar d = d3.select(\"body\")\r\n\t\t\t.append(\"div\")\r\n\t\t\t.attr(\"class\", textStyle)\r\n\t\t\t.attr(\"id\", \"width-test\") // tag this element to identify it\r\n\t\t\t.attr(\"style\", \"position:absolute; float:left; white-space:nowrap; visibility:hidden;\")\r\n\t\t\t.text(text),\r\n\t\tw = document.getElementById(\"width-test\").offsetWidth;\r\n\td.remove();\r\n\treturn w;\r\n}\r\n\r\ntools.truncate = function (text, maxWidth, textStyle, additionalTextSpace) {\r\n\tmaxWidth -= isNaN(additionalTextSpace) ? ADDITIONAL_TEXT_SPACE : additionalTextSpace;\r\n\tif (isNaN(maxWidth) || maxWidth <= 0) {\r\n\t\treturn text;\r\n\t}\r\n\r\n\tvar truncatedText = text,\r\n\t\tnewTruncatedTextLength,\r\n\t\ttextWidth,\r\n\t\tratio;\r\n\r\n\twhile (true) {\r\n\t\ttextWidth = measureTextWidth(truncatedText, textStyle);\r\n\t\tif (textWidth <= maxWidth) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tratio = textWidth / maxWidth;\r\n\t\tnewTruncatedTextLength = Math.floor(truncatedText.length / ratio);\r\n\r\n\t\t// detect if nothing changes\r\n\t\tif (truncatedText.length === newTruncatedTextLength) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\ttruncatedText = truncatedText.substring(0, newTruncatedTextLength);\r\n\t}\r\n\r\n\tif (text.length > truncatedText.length) {\r\n\t\treturn text.substring(0, truncatedText.length - 3) + \"...\";\r\n\t}\r\n\treturn text;\r\n};\r\n\r\n\r\nmodule.exports = function () {\r\n\treturn tools;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/textTools.js\n ** module id = 16\n ** module chunks = 0\n **/","var RoundNode = require(\"../RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tthis.type(\"owl:Class\");\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlClass.js\n ** module id = 17\n ** module chunks = 0\n **/","var SetOperatorNode = require(\"../SetOperatorNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tSetOperatorNode.apply(this, arguments);\r\n\r\n\t\tvar that = this;\r\n\r\n\t\tthis.styleClass(\"complementof\")\r\n\t\t\t.type(\"owl:complementOf\");\r\n\r\n\t\tthis.draw = function (element) {\r\n\t\t\tthat.nodeElement(element);\r\n\r\n\t\t\telement.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", that.type())\r\n\t\t\t\t.classed(\"class\", true)\r\n\t\t\t\t.classed(\"special\", true)\r\n\t\t\t\t.attr(\"r\", that.actualRadius());\r\n\r\n\t\t\tvar symbol = element.append(\"g\").classed(\"embedded\", true);\r\n\r\n\t\t\tsymbol.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", \"symbol\")\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.attr(\"r\", (that.radius() - 15));\r\n\t\t\tsymbol.append(\"path\")\r\n\t\t\t\t.attr(\"class\", \"nofill\")\r\n\t\t\t\t.attr(\"d\", \"m -7,-1.5 12,0 0,6\");\r\n\r\n\t\t\tsymbol.attr(\"transform\", \"translate(-\" + (that.radius() - 15) / 100 + \",-\" + (that.radius() - 15) / 100 + \")\");\r\n\r\n\t\t\tthat.postDrawActions();\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(SetOperatorNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlComplementOf.js\n ** module id = 18\n ** module chunks = 0\n **/","var RoundNode = require(\"./RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar radius = 40;\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tvar that = this,\r\n\t\t\tsuperHoverHighlightingFunction = this.setHoverHighlighting,\r\n\t\t\tsuperPostDrawActions = this.postDrawActions;\r\n\r\n\t\tthis.radius(radius);\r\n\r\n\t\tthis.setHoverHighlighting = function (enable) {\r\n\t\t\tsuperHoverHighlightingFunction(enable);\r\n\r\n\t\t\td3.selectAll(\".special.\" + that.cssClassOfNode()).classed(\"hovered\", enable);\r\n\t\t};\r\n\r\n\t\tthis.postDrawActions = function () {\r\n\t\t\tsuperPostDrawActions();\r\n\r\n\t\t\tthat.textBlock().clear();\r\n\t\t\tthat.textBlock().addInstanceCount(that.individuals().length);\r\n\t\t\tthat.textBlock().setTranslation(0, that.radius() - 15);\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/SetOperatorNode.js\n ** module id = 19\n ** module chunks = 0\n **/","var RoundNode = require(\"../RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"deprecated\"])\r\n\t\t\t.type(\"owl:DeprecatedClass\");\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlDeprecatedClass.js\n ** module id = 20\n ** module chunks = 0\n **/","var RoundNode = require(\"../RoundNode\");\r\nvar drawTools = require(\"../drawTools\")();\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tvar CIRCLE_SIZE_DIFFERENCE = 4;\r\n\r\n\t\tvar that = this,\r\n\t\t\tsuperActualRadiusFunction = that.actualRadius;\r\n\r\n\t\tthis.styleClass(\"equivalentclass\")\r\n\t\t\t.type(\"owl:equivalentClass\");\r\n\r\n\t\tthis.actualRadius = function () {\r\n\t\t\treturn superActualRadiusFunction() + CIRCLE_SIZE_DIFFERENCE;\r\n\t\t};\r\n\r\n\r\n\t\tthis.draw = function (parentElement) {\r\n\t\t\tvar cssClasses = that.collectCssClasses();\r\n\r\n\t\t\tthat.nodeElement(parentElement);\r\n\r\n\t\t\t// draw the outer circle at first and afterwards the inner circle\r\n\t\t\tdrawTools.appendCircularClass(parentElement, that.actualRadius(), [\"white\", \"embedded\"]);\r\n\t\t\tdrawTools.appendCircularClass(parentElement, that.actualRadius() - CIRCLE_SIZE_DIFFERENCE, cssClasses, that.labelForCurrentLanguage());\r\n\r\n\t\t\tthat.postDrawActions();\r\n\t\t\tappendEquivalentClasses(that.textBlock(), that.equivalents());\r\n\t\t};\r\n\r\n\t\tfunction appendEquivalentClasses(textBlock, equivalentClasses) {\r\n\t\t\tif (typeof equivalentClasses === \"undefined\") {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar equivalentNames,\r\n\t\t\t\tequivalentNamesString;\r\n\r\n\t\t\tequivalentNames = equivalentClasses.map(function (node) {\r\n\t\t\t\treturn node.labelForCurrentLanguage();\r\n\t\t\t});\r\n\t\t\tequivalentNamesString = equivalentNames.join(\", \");\r\n\r\n\t\t\ttextBlock.addEquivalents(equivalentNamesString);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Sets the hover highlighting of this node.\r\n\t\t * @param enable\r\n\t\t */\r\n\t\tthat.setHoverHighlighting = function (enable) {\r\n\t\t\tthat.nodeElement().selectAll(\"circle:last-of-type\").classed(\"hovered\", enable);\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlEquivalentClass.js\n ** module id = 21\n ** module chunks = 0\n **/","var SetOperatorNode = require(\"../SetOperatorNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tSetOperatorNode.apply(this, arguments);\r\n\r\n\t\tvar that = this;\r\n\r\n\t\tthis.styleClass(\"intersectionof\")\r\n\t\t\t.type(\"owl:intersectionOf\");\r\n\r\n\t\tthis.draw = function (element) {\r\n\t\t\tthat.nodeElement(element);\r\n\r\n\t\t\telement.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", that.type())\r\n\t\t\t\t.classed(\"class\", true)\r\n\t\t\t\t.classed(\"special\", true)\r\n\t\t\t\t.attr(\"r\", that.actualRadius());\r\n\r\n\t\t\tvar symbol = element.append(\"g\").classed(\"embedded\", true);\r\n\r\n\t\t\tsymbol.append(\"path\")\r\n\t\t\t\t.attr(\"class\", \"nostroke\")\r\n\t\t\t\t.classed(\"symbol\", true).attr(\"d\", \"m 24.777,0.771 c0,16.387-13.607,23.435-19.191,23.832S-15.467,\" +\r\n\t\t\t\t\t\"14.526-15.467,0.424S-1.216-24.4,5.437-24.4 C12.09-24.4,24.777-15.616,24.777,0.771z\");\r\n\t\t\tsymbol.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", \"nofill\")\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.attr(\"r\", (that.radius() - 15));\r\n\t\t\tsymbol.append(\"circle\")\r\n\t\t\t\t.attr(\"cx\", 10)\r\n\t\t\t\t.attr(\"class\", \"nofill\")\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.attr(\"r\", (that.radius() - 15));\r\n\t\t\tsymbol.append(\"path\")\r\n\t\t\t\t.attr(\"class\", \"nofill\")\r\n\t\t\t\t.attr(\"d\", \"m 9,5 c 0,-2 0,-4 0,-6 0,0 0,0 0,0 0,0 0,-1.8 -1,-2.3 -0.7,-0.6 -1.7,-0.8 -2.9,\" +\r\n\t\t\t\t\t\t   \"-0.8 -1.2,0 -2,0 -3,0.8 -0.7,0.5 -1,1.4 -1,2.3 0,2 0,4 0,6\");\r\n\r\n\t\t\tsymbol.attr(\"transform\", \"translate(-\" + (that.radius() - 15) / 5 + \",-\" + (that.radius() - 15) / 100 + \")\");\r\n\r\n\t\t\tthat.postDrawActions();\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(SetOperatorNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlIntersectionOf.js\n ** module id = 22\n ** module chunks = 0\n **/","var OwlThing = require(\"./OwlThing\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tOwlThing.apply(this, arguments);\r\n\r\n\t\tthis.label(\"Nothing\")\r\n\t\t\t.type(\"owl:Nothing\")\r\n\t\t\t.iri(\"http://www.w3.org/2002/07/owl#Nothing\");\r\n\t};\r\n\to.prototype = Object.create(OwlThing.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlNothing.js\n ** module id = 23\n ** module chunks = 0\n **/","var RoundNode = require(\"../RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tvar superDrawFunction = this.draw;\r\n\r\n\t\tthis.label(\"Thing\")\r\n\t\t\t.type(\"owl:Thing\")\r\n\t\t\t.iri(\"http://www.w3.org/2002/07/owl#Thing\")\r\n\t\t\t.radius(30);\r\n\r\n\t\tthis.draw = function (element) {\r\n\t\t\tsuperDrawFunction(element, [\"white\", \"special\"]);\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlThing.js\n ** module id = 24\n ** module chunks = 0\n **/","var SetOperatorNode = require(\"../SetOperatorNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tSetOperatorNode.apply(this, arguments);\r\n\r\n\t\tvar that = this;\r\n\r\n\t\tthis.styleClass(\"unionof\")\r\n\t\t\t.type(\"owl:unionOf\");\r\n\r\n\t\tthis.draw = function (element) {\r\n\t\t\tthat.nodeElement(element);\r\n\r\n\t\t\telement.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", that.type())\r\n\t\t\t\t.classed(\"class\", true)\r\n\t\t\t\t.classed(\"special\", true)\r\n\t\t\t\t.attr(\"r\", that.actualRadius());\r\n\r\n\t\t\tvar symbol = element.append(\"g\").classed(\"embedded\", true);\r\n\r\n\t\t\tsymbol.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", \"symbol\")\r\n\t\t\t\t.attr(\"r\", (that.radius() - 15));\r\n\t\t\tsymbol.append(\"circle\")\r\n\t\t\t\t.attr(\"cx\", 10)\r\n\t\t\t\t.attr(\"class\", \"symbol\")\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.attr(\"r\", (that.radius() - 15));\r\n\t\t\tsymbol.append(\"circle\")\r\n\t\t\t\t.attr(\"class\", \"nofill\")\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.attr(\"r\", (that.radius() - 15));\r\n\t\t\tsymbol.append(\"path\")\r\n\t\t\t\t.attr(\"class\", \"link\")\r\n\t\t\t\t.attr(\"d\", \"m 1,-3 c 0,2 0,4 0,6 0,0 0,0 0,0 0,2 2,3 4,3 2,0 4,-1 4,-3 0,-2 0,-4 0,-6\");\r\n\r\n\t\t\tsymbol.attr(\"transform\", \"translate(-\" + (that.radius() - 15) / 5 + \",-\" + (that.radius() - 15) / 100 + \")\");\r\n\r\n\t\t\tthat.postDrawActions();\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(SetOperatorNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/OwlUnionOf.js\n ** module id = 25\n ** module chunks = 0\n **/","var RoundNode = require(\"../RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"rdf\"])\r\n\t\t\t.type(\"rdfs:Class\");\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/RdfsClass.js\n ** module id = 26\n ** module chunks = 0\n **/","var DatatypeNode = require(\"../DatatypeNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tDatatypeNode.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"datatype\"])\r\n\t\t\t.type(\"rdfs:Datatype\");\r\n\t};\r\n\to.prototype = Object.create(DatatypeNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/RdfsDatatype.js\n ** module id = 27\n ** module chunks = 0\n **/","var RectangularNode = require(\"./RectangularNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRectangularNode.apply(this, arguments);\r\n\t};\r\n\to.prototype = Object.create(RectangularNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/DatatypeNode.js\n ** module id = 28\n ** module chunks = 0\n **/","var BaseNode = require(\"./BaseNode\");\r\nvar drawTools = require(\"./drawTools\")();\r\nvar rectangularElementTools = require(\"../rectangularElementTools\")();\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseNode.apply(this, arguments);\r\n\r\n\t\tvar that = this,\r\n\t\t\theight = 20,\r\n\t\t\twidth = 60,\r\n\t\t\tsmallestRadius = height / 2;\r\n\r\n\r\n\t\t// Properties\r\n\t\tthis.height = function (p) {\r\n\t\t\tif (!arguments.length) return height;\r\n\t\t\theight = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.width = function (p) {\r\n\t\t\tif (!arguments.length) return width;\r\n\t\t\twidth = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\r\n\t\t// Functions\r\n\t\t// for compatibility reasons // TODO resolve\r\n\t\tthis.actualRadius = function () {\r\n\t\t\treturn smallestRadius;\r\n\t\t};\r\n\r\n\t\tthis.distanceToBorder = function (dx, dy) {\r\n\t\t\treturn rectangularElementTools.distanceToBorder(that, dx, dy);\r\n\t\t};\r\n\r\n\t\tthis.setHoverHighlighting = function (enable) {\r\n\t\t\tthat.nodeElement().selectAll(\"rect\").classed(\"hovered\", enable);\r\n\t\t};\r\n\r\n\t\tthis.textWidth = function () {\r\n\t\t\treturn this.width();\r\n\t\t};\r\n\r\n\t\tthis.toggleFocus = function () {\r\n\t\t\tthat.focused(!that.focused());\r\n\t\t\tthat.nodeElement().select(\"rect\").classed(\"focused\", that.focused());\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Draws the rectangular node.\r\n\t\t * @param parentElement the element to which this node will be appended\r\n\t\t * @param [additionalCssClasses] additional css classes\r\n\t\t */\r\n\t\tthis.draw = function (parentElement, additionalCssClasses) {\r\n\t\t\tvar textBlock,\r\n\t\t\t\tcssClasses = that.collectCssClasses();\r\n\r\n\t\t\tthat.nodeElement(parentElement);\r\n\r\n\t\t\tif (additionalCssClasses instanceof Array) {\r\n\t\t\t\tcssClasses = cssClasses.concat(additionalCssClasses);\r\n\t\t\t}\r\n\t\t\tdrawTools.appendRectangularClass(parentElement, that.width(), that.height(), cssClasses, that.labelForCurrentLanguage());\r\n\r\n\t\t\ttextBlock = require(\"../../util/textElement\")(parentElement);\r\n\t\t\ttextBlock.addText(that.labelForCurrentLanguage());\r\n\r\n\t\t\tthat.addMouseListeners();\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(BaseNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/RectangularNode.js\n ** module id = 29\n ** module chunks = 0\n **/","var tools = {};\r\nmodule.exports = function () {\r\n\treturn tools;\r\n};\r\n\r\ntools.distanceToBorder = function (rect, dx, dy) {\r\n\tvar width = rect.width(),\r\n\t\theight = rect.height();\r\n\r\n\tvar innerDistance,\r\n\t\tm_link = Math.abs(dy / dx),\r\n\t\tm_rect = height / width;\r\n\r\n\tif (m_link <= m_rect) {\r\n\t\tvar timesX = dx / (width / 2),\r\n\t\t\trectY = dy / timesX;\r\n\t\tinnerDistance = Math.sqrt(Math.pow(width / 2, 2) + Math.pow(rectY, 2));\r\n\t} else {\r\n\t\tvar timesY = dy / (height / 2),\r\n\t\t\trectX = dx / timesY;\r\n\t\tinnerDistance = Math.sqrt(Math.pow(height / 2, 2) + Math.pow(rectX, 2));\r\n\t}\r\n\r\n\treturn innerDistance;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/rectangularElementTools.js\n ** module id = 30\n ** module chunks = 0\n **/","var DatatypeNode = require(\"../DatatypeNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tDatatypeNode.apply(this, arguments);\r\n\r\n\t\tvar superDrawFunction = this.draw,\r\n\t\t\tsuperLabelFunction = this.label;\r\n\r\n\t\tthis.attributes([\"datatype\"])\r\n\t\t\t.label(\"Literal\")\r\n\t\t\t.styleClass(\"literal\")\r\n\t\t\t.type(\"rdfs:Literal\")\r\n\t\t\t.iri(\"http://www.w3.org/2000/01/rdf-schema#Literal\");\r\n\r\n\t\tthis.draw = function (element) {\r\n\t\t\tsuperDrawFunction(element, [\"special\"]);\r\n\t\t};\r\n\r\n\t\tthis.label = function (p) {\r\n\t\t\tif (!arguments.length) return superLabelFunction();\r\n\t\t\treturn this;\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(DatatypeNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/RdfsLiteral.js\n ** module id = 31\n ** module chunks = 0\n **/","var RoundNode = require(\"../RoundNode\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tRoundNode.apply(this, arguments);\r\n\r\n\t\tvar superDrawFunction = this.draw;\r\n\r\n\t\tthis.attributes([\"rdf\"])\r\n\t\t\t.label(\"Resource\")\r\n\t\t\t.radius(30)\r\n\t\t\t.styleClass(\"rdfsresource\")\r\n\t\t\t.type(\"rdfs:Resource\");\r\n\r\n\t\tthis.draw = function (element) {\r\n\t\t\tsuperDrawFunction(element, [\"rdf\", \"special\"]);\r\n\t\t};\r\n\t};\r\n\to.prototype = Object.create(RoundNode.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/nodes/implementations/RdfsResource.js\n ** module id = 32\n ** module chunks = 0\n **/","var properties = [];\r\nproperties.push(require(\"./implementations/OwlDatatypeProperty\"));\r\nproperties.push(require(\"./implementations/OwlDeprecatedProperty\"));\r\nproperties.push(require(\"./implementations/OwlDisjointWith\"));\r\nproperties.push(require(\"./implementations/OwlEquivalentProperty\"));\r\nproperties.push(require(\"./implementations/OwlFunctionalProperty\"));\r\nproperties.push(require(\"./implementations/OwlInverseFunctionalProperty\"));\r\nproperties.push(require(\"./implementations/OwlObjectProperty\"));\r\nproperties.push(require(\"./implementations/OwlSymmetricProperty\"));\r\nproperties.push(require(\"./implementations/OwlTransitiveProperty\"));\r\nproperties.push(require(\"./implementations/RdfProperty\"));\r\nproperties.push(require(\"./implementations/RdfsSubClassOf\"));\r\nproperties.push(require(\"./implementations/SetOperatorProperty\"));\r\n\r\nvar map = d3.map(properties, function (Prototype) {\r\n\treturn new Prototype().type();\r\n});\r\n\r\nmodule.exports = function () {\r\n\treturn map;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/propertyMap.js\n ** module id = 33\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"datatype\"])\r\n\t\t\t.styleClass(\"datatypeproperty\")\r\n\t\t\t.type(\"owl:DatatypeProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlDatatypeProperty.js\n ** module id = 34\n ** module chunks = 0\n **/","var BaseElement = require(\"../BaseElement\");\r\nvar rectangularElementTools = require(\"../rectangularElementTools\")();\r\n\r\nmodule.exports = (function () {\r\n\r\n\t// Static variables\r\n\tvar labelHeight = 28,\r\n\t\tlabelWidth = 80,\r\n\t\tsmallestRadius = labelHeight / 2;\r\n\r\n\r\n\t// Constructor, private variables and privileged methods\r\n\tvar Base = function (graph) {\r\n\t\tBaseElement.apply(this, arguments);\r\n\r\n\t\tvar that = this,\r\n\t\t// Basic attributes\r\n\t\t\tcardinality,\r\n\t\t\tdomain,\r\n\t\t\tinverse,\r\n\t\t\tlink,\r\n\t\t\tminCardinality,\r\n\t\t\tmaxCardinality,\r\n\t\t\trange,\r\n\t\t\tsubproperties,\r\n\t\t\tsuperproperties,\r\n\t\t// Style attributes\r\n\t\t\tlinkType = \"normal\",\r\n\t\t\tmarkerType = \"normal\",\r\n\t\t\tlabelVisible = true,\r\n\t\t// Element containers\r\n\t\t\tcardinalityElement,\r\n\t\t\tlabelElement,\r\n\t\t\tlinkGroup,\r\n\t\t\tmarkerElement,\r\n\t\t// Other\r\n\t\t\tredundantProperties = [];\r\n\r\n\r\n\t\t// Properties\r\n\t\tthis.cardinality = function (p) {\r\n\t\t\tif (!arguments.length) return cardinality;\r\n\t\t\tcardinality = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.cardinalityElement = function (p) {\r\n\t\t\tif (!arguments.length) return cardinalityElement;\r\n\t\t\tcardinalityElement = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.domain = function (p) {\r\n\t\t\tif (!arguments.length) return domain;\r\n\t\t\tdomain = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.inverse = function (p) {\r\n\t\t\tif (!arguments.length) return inverse;\r\n\t\t\tinverse = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.labelElement = function (p) {\r\n\t\t\tif (!arguments.length) return labelElement;\r\n\t\t\tlabelElement = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.labelVisible = function (p) {\r\n\t\t\tif (!arguments.length) return labelVisible;\r\n\t\t\tlabelVisible = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.link = function (p) {\r\n\t\t\tif (!arguments.length) return link;\r\n\t\t\tlink = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.linkGroup = function (p) {\r\n\t\t\tif (!arguments.length) return linkGroup;\r\n\t\t\tlinkGroup = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.linkType = function (p) {\r\n\t\t\tif (!arguments.length) return linkType;\r\n\t\t\tlinkType = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.markerElement = function (p) {\r\n\t\t\tif (!arguments.length) return markerElement;\r\n\t\t\tmarkerElement = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.markerType = function (p) {\r\n\t\t\tif (!arguments.length) return markerType;\r\n\t\t\tmarkerType = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.maxCardinality = function (p) {\r\n\t\t\tif (!arguments.length) return maxCardinality;\r\n\t\t\tmaxCardinality = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.minCardinality = function (p) {\r\n\t\t\tif (!arguments.length) return minCardinality;\r\n\t\t\tminCardinality = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.range = function (p) {\r\n\t\t\tif (!arguments.length) return range;\r\n\t\t\trange = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.redundantProperties = function (p) {\r\n\t\t\tif (!arguments.length) return redundantProperties;\r\n\t\t\tredundantProperties = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.subproperties = function (p) {\r\n\t\t\tif (!arguments.length) return subproperties;\r\n\t\t\tsubproperties = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.superproperties = function (p) {\r\n\t\t\tif (!arguments.length) return superproperties;\r\n\t\t\tsuperproperties = p;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\r\n\t\t// Functions\r\n\t\tthis.distanceToBorder = function (dx, dy) {\r\n\t\t\treturn rectangularElementTools.distanceToBorder(that, dx, dy);\r\n\t\t};\r\n\r\n\t\tthis.isSpecialLink = function () {\r\n\t\t\treturn linkType === \"special\";\r\n\t\t};\r\n\r\n\t\tthis.markerId = function () {\r\n\t\t\treturn \"marker\" + that.id();\r\n\t\t};\r\n\r\n\t\tthis.toggleFocus = function () {\r\n\t\t\tthat.focused(!that.focused());\r\n\t\t\tlabelElement.select(\"rect\").classed(\"focused\", that.focused());\r\n\t\t};\r\n\r\n\r\n\t\t// Reused functions TODO refactor\r\n\t\tthis.draw = function (labelGroup) {\r\n\t\t\tfunction attachLabel(property) {\r\n\t\t\t\t// Draw the label and its background\r\n\t\t\t\tvar label = labelGroup.append(\"g\")\r\n\t\t\t\t\t.datum(property)\r\n\t\t\t\t\t.classed(\"label\", true)\r\n\t\t\t\t\t.attr(\"id\", property.id());\r\n\t\t\t\tproperty.addRect(label);\r\n\r\n\t\t\t\t// Attach the text and perhaps special elements\r\n\t\t\t\tvar textBox = require(\"../../util/textElement\")(label);\r\n\t\t\t\tif (property instanceof require(\"./implementations/OwlDisjointWith\")) {\r\n\t\t\t\t\tproperty.addDisjointLabel(labelGroup, textBox);\r\n\t\t\t\t\treturn label;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttextBox.addText(property.labelForCurrentLanguage());\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttextBox.addSubText(property.indicationString());\r\n\t\t\t\tproperty.addEquivalentsToLabel(textBox);\r\n\r\n\t\t\t\treturn label;\r\n\t\t\t}\r\n\r\n\t\t\tif (!that.labelVisible()) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t\tthat.labelElement(attachLabel(that));\r\n\r\n\t\t\t// Draw an inverse label and reposition both labels if necessary\r\n\t\t\tif (that.inverse()) {\r\n\t\t\t\tvar yTransformation = (that.height() / 2) + 1 /* additional space */;\r\n\t\t\t\tthat.inverse()\r\n\t\t\t\t\t.labelElement(attachLabel(that.inverse()));\r\n\r\n\t\t\t\tthat.labelElement()\r\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + 0 + \",-\" + yTransformation + \")\");\r\n\t\t\t\tthat.inverse()\r\n\t\t\t\t\t.labelElement()\r\n\t\t\t\t\t.attr(\"transform\", \"translate(\" + 0 + \",\" + yTransformation + \")\");\r\n\t\t\t}\r\n\r\n\t\t\treturn that.labelElement();\r\n\t\t};\r\n\r\n\t\tthis.addRect = function (groupTag) {\r\n\t\t\tvar rect = groupTag.append(\"rect\")\r\n\t\t\t\t.classed(that.styleClass(), true)\r\n\t\t\t\t.classed(\"property\", true)\r\n\t\t\t\t.attr(\"x\", -that.width() / 2)\r\n\t\t\t\t.attr(\"y\", -that.height() / 2)\r\n\t\t\t\t.attr(\"width\", that.width())\r\n\t\t\t\t.attr(\"height\", that.height())\r\n\t\t\t\t.on(\"mouseover\", function () {\r\n\t\t\t\t\tonMouseOver();\r\n\t\t\t\t})\r\n\t\t\t\t.on(\"mouseout\", function () {\r\n\t\t\t\t\tonMouseOut();\r\n\t\t\t\t});\r\n\r\n\t\t\trect.append(\"title\")\r\n\t\t\t\t.text(that.labelForCurrentLanguage());\r\n\r\n\t\t\tif (that.visualAttribute()) {\r\n\t\t\t\trect.classed(that.visualAttribute(), true);\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.addDisjointLabel = function (groupTag, textTag) {\r\n\t\t\tgroupTag.append(\"circle\")\r\n\t\t\t\t.classed(\"symbol\", true)\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.classed(\"embedded\", true)\r\n\t\t\t\t.attr(\"cx\", -12.5)\r\n\t\t\t\t.attr(\"r\", 10);\r\n\r\n\t\t\tgroupTag.append(\"circle\")\r\n\t\t\t\t.classed(\"symbol\", true)\r\n\t\t\t\t.classed(\"fineline\", true)\r\n\t\t\t\t.classed(\"embedded\", true)\r\n\t\t\t\t.attr(\"cx\", 12.5)\r\n\t\t\t\t.attr(\"r\", 10);\r\n\r\n\t\t\tif (!graph.options().compactNotation()) {\r\n\t\t\t\ttextTag.addSubText(\"disjoint\");\r\n\t\t\t}\r\n\t\t\ttextTag.setTranslation(0, 20);\r\n\t\t};\r\n\t\tthis.addEquivalentsToLabel = function (textBox) {\r\n\t\t\tif (that.equivalents()) {\r\n\t\t\t\tvar equivalentLabels,\r\n\t\t\t\t\tequivalentString;\r\n\r\n\t\t\t\tequivalentLabels = that.equivalents().map(function (property) {\r\n\t\t\t\t\treturn property.labelForCurrentLanguage();\r\n\t\t\t\t});\r\n\t\t\t\tequivalentString = equivalentLabels.join(\", \");\r\n\r\n\t\t\t\ttextBox.addEquivalents(equivalentString);\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.drawCardinality = function (cardinalityGroup) {\r\n\t\t\tif (that.minCardinality() === undefined &&\r\n\t\t\t\tthat.maxCardinality() === undefined &&\r\n\t\t\t\tthat.cardinality() === undefined) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// Drawing cardinality groups\r\n\t\t\tthat.cardinalityElement(cardinalityGroup.classed(\"cardinality\", true));\r\n\r\n\t\t\tvar cardText = cardinalityGroup.append(\"text\")\r\n\t\t\t\t.classed(\"cardinality\", true)\r\n\t\t\t\t.attr(\"text-anchor\", \"middle\")\r\n\t\t\t\t.attr(\"dy\", \"0.5ex\");\r\n\r\n\t\t\tif (that.minCardinality() !== undefined) {\r\n\t\t\t\tvar cardString = that.minCardinality() + \"..\";\r\n\t\t\t\tcardString += that.maxCardinality() !== undefined ? that.maxCardinality() : \"*\";\r\n\r\n\t\t\t\tcardText.text(cardString);\r\n\t\t\t} else if (that.maxCardinality() !== undefined) {\r\n\t\t\t\tcardText.text(\"*..\" + that.maxCardinality());\r\n\t\t\t} else if (that.cardinality() !== undefined) {\r\n\t\t\t\tcardText.text(that.cardinality());\r\n\t\t\t}\r\n\r\n\t\t\treturn that.cardinalityElement();\r\n\t\t};\r\n\t\tfunction onMouseOver() {\r\n\t\t\tif (that.mouseEntered()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthat.mouseEntered(true);\r\n\r\n\t\t\tsetHighlighting(true);\r\n\r\n\t\t\tthat.foreground();\r\n\t\t\tforegroundSubAndSuperProperties();\r\n\t\t}\r\n\r\n\t\tfunction setHighlighting(enable) {\r\n\t\t\tthat.labelElement().select(\"rect\").classed(\"hovered\", enable);\r\n\t\t\tthat.linkGroup().selectAll(\"path, text\").classed(\"hovered\", enable);\r\n\t\t\tthat.markerElement().select(\"path\").classed(\"hovered\", enable);\r\n\t\t\tif (that.cardinalityElement()) {\r\n\t\t\t\tthat.cardinalityElement().classed(\"hovered\", enable);\r\n\t\t\t}\r\n\r\n\t\t\tvar subAndSuperProperties = getSubAndSuperProperties();\r\n\t\t\tsubAndSuperProperties.forEach(function (property) {\r\n\t\t\t\tproperty.labelElement().select(\"rect\")\r\n\t\t\t\t\t.classed(\"indirectHighlighting\", enable);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Combines the sub- and superproperties into a single array, because\r\n\t\t * they're often used equivalently.\r\n\t\t * @returns {Array}\r\n\t\t */\r\n\t\tfunction getSubAndSuperProperties() {\r\n\t\t\tvar properties = [];\r\n\r\n\t\t\tif (that.subproperties()) {\r\n\t\t\t\tproperties = properties.concat(that.subproperties());\r\n\t\t\t}\r\n\t\t\tif (that.superproperties()) {\r\n\t\t\t\tproperties = properties.concat(that.superproperties());\r\n\t\t\t}\r\n\r\n\t\t\treturn properties;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Foregrounds the property, its inverse and the link.\r\n\t\t */\r\n\t\tthis.foreground = function () {\r\n\t\t\tvar selectedLabelGroup = that.labelElement().node().parentNode,\r\n\t\t\t\tlabelContainer = selectedLabelGroup.parentNode,\r\n\t\t\t\tselectedLinkGroup = that.linkGroup().node(),\r\n\t\t\t\tlinkContainer = that.linkGroup().node().parentNode;\r\n\r\n\t\t\t// Append hovered element as last child to the container list.\r\n\t\t\tlabelContainer.appendChild(selectedLabelGroup);\r\n\t\t\tlinkContainer.appendChild(selectedLinkGroup);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Foregrounds the sub- and superproperties of this property.\r\n\t\t * This is separated from the foreground-function to prevent endless loops.\r\n\t\t */\r\n\t\tfunction foregroundSubAndSuperProperties() {\r\n\t\t\tvar subAndSuperProperties = getSubAndSuperProperties();\r\n\r\n\t\t\tsubAndSuperProperties.forEach(function (property) {\r\n\t\t\t\tproperty.foreground();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction onMouseOut() {\r\n\t\t\tthat.mouseEntered(false);\r\n\r\n\t\t\tsetHighlighting(false);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tBase.prototype = Object.create(BaseElement.prototype);\r\n\tBase.prototype.constructor = Base;\r\n\r\n\tBase.prototype.height = function () {\r\n\t\treturn labelHeight;\r\n\t};\r\n\r\n\tBase.prototype.width = function () {\r\n\t\treturn labelWidth;\r\n\t};\r\n\r\n\tBase.prototype.actualRadius = function() {\r\n\t\treturn smallestRadius;\r\n\t};\r\n\r\n\tBase.prototype.textWidth = Base.prototype.width;\r\n\r\n\r\n\treturn Base;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/BaseProperty.js\n ** module id = 35\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tvar label = \"Disjoint With\";\r\n\t\t// Disallow overwriting the label\r\n\t\tthis.label = function (p) {\r\n\t\t\tif (!arguments.length) return label;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.markerType(\"special\")\r\n\t\t\t.linkType(\"special\")\r\n\t\t\t.styleClass(\"disjointwith\")\r\n\t\t\t.type(\"owl:disjointWith\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlDisjointWith.js\n ** module id = 36\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"deprecated\"])\r\n\t\t\t.styleClass(\"deprecatedproperty\")\r\n\t\t\t.type(\"owl:DeprecatedProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlDeprecatedProperty.js\n ** module id = 37\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.styleClass(\"equivalentproperty\")\r\n\t\t\t.type(\"owl:equivalentProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlEquivalentProperty.js\n ** module id = 38\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"functional\"])\r\n\t\t\t.styleClass(\"functionalproperty\")\r\n\t\t\t.type(\"owl:FunctionalProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlFunctionalProperty.js\n ** module id = 39\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"inverse functional\"])\r\n\t\t\t.styleClass(\"inversefunctionalproperty\")\r\n\t\t\t.type(\"owl:InverseFunctionalProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlInverseFunctionalProperty.js\n ** module id = 40\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"object\"])\r\n\t\t\t.styleClass(\"objectproperty\")\r\n\t\t\t.type(\"owl:ObjectProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlObjectProperty.js\n ** module id = 41\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"symmetric\"])\r\n\t\t\t.styleClass(\"symmetricproperty\")\r\n\t\t\t.type(\"owl:SymmetricProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlSymmetricProperty.js\n ** module id = 42\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"transitive\"])\r\n\t\t\t.styleClass(\"transitiveproperty\")\r\n\t\t\t.type(\"owl:TransitiveProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/OwlTransitiveProperty.js\n ** module id = 43\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.attributes([\"rdf\"])\r\n\t\t\t.styleClass(\"rdfproperty\")\r\n\t\t\t.type(\"rdf:Property\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/RdfProperty.js\n ** module id = 44\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tvar that = this,\r\n\t\t\tsuperDrawFunction = that.draw,\r\n\t\t\tlabel = \"Subclass of\";\r\n\r\n\t\tthis.draw = function (labelGroup) {\r\n\t\t\tthat.labelVisible(!graph.options().compactNotation());\r\n\t\t\treturn superDrawFunction(labelGroup);\r\n\t\t};\r\n\r\n\t\t// Disallow overwriting the label\r\n\t\tthis.label = function (p) {\r\n\t\t\tif (!arguments.length) return label;\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tthis.linkType(\"dotted\")\r\n\t\t\t.markerType(\"dotted\")\r\n\t\t\t.styleClass(\"subclass\")\r\n\t\t\t.type(\"rdfs:subClassOf\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/RdfsSubClassOf.js\n ** module id = 45\n ** module chunks = 0\n **/","var BaseProperty = require(\"../BaseProperty\");\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar o = function (graph) {\r\n\t\tBaseProperty.apply(this, arguments);\r\n\r\n\t\tthis.markerType(\"special\")\r\n\t\t\t.labelVisible(false)\r\n\t\t\t.linkType(\"special\")\r\n\t\t\t.styleClass(\"setoperatorproperty\")\r\n\t\t\t.type(\"setOperatorProperty\");\r\n\t};\r\n\to.prototype = Object.create(BaseProperty.prototype);\r\n\to.prototype.constructor = o;\r\n\r\n\treturn o;\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/properties/implementations/SetOperatorProperty.js\n ** module id = 46\n ** module chunks = 0\n **/","var math = require(\"./util/math\")();\nvar linkCreator = require(\"./parsing/linkCreator\")();\nvar elementTools = require(\"./util/elementTools\")();\n\n\nmodule.exports = function(graphContainerSelector) {\n  var graph = {},\n    CARDINALITY_HDISTANCE = 20,\n    CARDINALITY_VDISTANCE = 10,\n    curveFunction = d3.svg.line()\n    .x(function(d) {\n      return d.x;\n    })\n    .y(function(d) {\n      return d.y;\n    })\n    .interpolate(\"cardinal\"),\n    options = require(\"./options\")(),\n    parser = require(\"./parser\")(graph),\n    language = \"default\",\n    // Container for visual elements\n    graphContainer,\n    nodeContainer,\n    labelContainer,\n    cardinalityContainer,\n    linkContainer,\n    // Visual elements\n    nodeElements,\n    labelGroupElements,\n    linkGroups,\n    linkPathElements,\n    cardinalityElements,\n    // Internal data\n    classNodes,\n    labelNodes,\n    links,\n    properties,\n    unfilteredNodes,\n    unfilteredProperties,\n    // Graph behaviour\n    force,\n    dragBehaviour,\n    zoom;\n\n  /**\n   * Recalculates the positions of nodes, links, ... and updates them.\n   */\n  function recalculatePositions() {\n    // Set node positions\n    nodeElements.attr(\"transform\", function(node) {\n      return \"translate(\" + node.x + \",\" + node.y + \")\";\n    });\n\n    // Set label group positions\n    labelGroupElements.attr(\"transform\", function(label) {\n      var position;\n\n      // force centered positions on single-layered links\n      var link = label.link();\n      if (link.layers().length === 1 && !link.loops()) {\n        var linkDomainIntersection = math.calculateIntersection(link.range(), link.domain(), 0);\n        var linkRangeIntersection = math.calculateIntersection(link.domain(), link.range(), 0);\n        position = math.calculateCenter(linkDomainIntersection, linkRangeIntersection);\n        label.x = position.x;\n        label.y = position.y;\n      } else {\n        position = label;\n      }\n\n      return \"translate(\" + position.x + \",\" + position.y + \")\";\n    });\n\n    // Set link paths and calculate additional informations\n    linkPathElements.attr(\"d\", function(l) {\n      if (l.isLoop()) {\n        return math.calculateLoopPath(l);\n      }\n\n      var curvePoint = l.label();\n      var pathStart = math.calculateIntersection(curvePoint, l.domain(), 1);\n      var pathEnd = math.calculateIntersection(curvePoint, l.range(), 1);\n\n      return curveFunction([pathStart, curvePoint, pathEnd]);\n    });\n\n    // Set cardinality positions\n    cardinalityElements.attr(\"transform\", function(property) {\n      var label = property.link().label(),\n        pos = math.calculateIntersection(label, property.range(), CARDINALITY_HDISTANCE),\n        normalV = math.calculateNormalVector(label, property.domain(), CARDINALITY_VDISTANCE);\n\n      return \"translate(\" + (pos.x + normalV.x) + \",\" + (pos.y + normalV.y) + \")\";\n    });\n  }\n\n  /**\n   * Adjusts the containers current scale and position.\n   */\n  function zoomed() {\n    graphContainer.attr(\"transform\", \"translate(\" + d3.event.translate + \")scale(\" + d3.event.scale + \")\");\n  }\n\n  /**\n   * Initializes the graph.\n   */\n  function initializeGraph() {\n    options.graphContainerSelector(graphContainerSelector);\n\n    force = d3.layout.force()\n      .on(\"tick\", recalculatePositions);\n\n    dragBehaviour = d3.behavior.drag()\n      .origin(function(d) {\n        return d;\n      })\n      .on(\"dragstart\", function(d) {\n        d3.event.sourceEvent.stopPropagation(); // Prevent panning\n        d.locked(true);\n      })\n      .on(\"drag\", function(d) {\n        d.px = d3.event.x;\n        d.py = d3.event.y;\n        force.resume();\n      })\n      .on(\"dragend\", function(d) {\n        d.locked(false);\n      });\n\n    // Apply the zooming factor.\n    zoom = d3.behavior.zoom()\n      .duration(150)\n      .scaleExtent([options.minMagnification(), options.maxMagnification()])\n      .on(\"zoom\", zoomed);\n\n  }\n\n  initializeGraph();\n\n  /**\n   * Returns the graph options of this graph (readonly).\n   * @returns {webvowl.options} a graph options object\n   */\n  graph.graphOptions = function() {\n    return options;\n  };\n\n  /**\n   * Loads all settings, removes the old graph (if it exists) and draws a new one.\n   */\n  graph.start = function() {\n    force.stop();\n    loadGraphData();\n    redrawGraph();\n    setZoomLevel(0.5);\n    graph.update();\n  };\n\n  /**\n   * Updates only the style of the graph.\n   */\n  graph.updateStyle = function() {\n    refreshGraphStyle();\n    force.start();\n  };\n\n  graph.reload = function() {\n    loadGraphData();\n    this.update();\n  };\n\n  /**\n   * Updates the graphs displayed data and style.\n   */\n  graph.update = function() {\n    refreshGraphData();\n    refreshGraphStyle();\n    force.start();\n    redrawContent();\n  };\n\n  /**\n   * Stops the influence of the force directed layout on all nodes. They are still manually movable.\n   */\n  graph.freeze = function() {\n    force.nodes().forEach(function(n) {\n      n.frozen(true);\n    });\n  };\n\n  /**\n   * Allows the influence of the force directed layout on all nodes.\n   */\n  graph.unfreeze = function() {\n    force.nodes().forEach(function(n) {\n      n.frozen(false);\n    });\n    force.resume();\n  };\n\n  /**\n   * Resets visual settings like zoom or panning.\n   */\n  graph.reset = function() {\n    zoom.translate([0, 0])\n      .scale(1);\n  };\n\n  /**\n   * Calculate the link distance of a single link part.\n   * The visible link distance does not contain e.g. radii of round nodes.\n   * @param linkPart the link\n   * @returns {*}\n   */\n  function calculateLinkPartDistance(linkPart) {\n    var link = linkPart.link();\n\n    if (link.isLoop()) {\n      return options.loopDistance();\n    }\n\n    var completeLinkDistance = getVisibleLinkDistance(link);\n    completeLinkDistance += link.domain().actualRadius();\n    completeLinkDistance += link.range().actualRadius();\n    // divide by 2 to receive the length of a single link part\n    return completeLinkDistance / 2;\n  }\n\n  function getVisibleLinkDistance(link) {\n    if (elementTools.isDatatype(link.domain()) || elementTools.isDatatype(link.range())) {\n      return options.datatypeDistance();\n    } else {\n      return options.classDistance();\n    }\n  }\n\n  /**\n   * Empties the last graph container and draws a new one with respect to the\n   * value the graph container selector has.\n   */\n  function redrawGraph() {\n    remove();\n\n    graphContainer = d3.selectAll(options.graphContainerSelector())\n      .append(\"svg\")\n      .classed(\"vowlGraph\", true)\n      .attr(\"width\", options.width())\n      .attr(\"height\", options.height())\n      .call(zoom)\n      .on(\"dblclick.zoom\", null) //Disable dblclick zoom\n      .append(\"g\");\n  }\n\n  /**\n   * Redraws all elements like nodes, links, ...\n   */\n  function redrawContent() {\n    var markerContainer;\n\n    if (!graphContainer) {\n      return;\n    }\n\n    // Empty the graph container\n    graphContainer.selectAll(\"*\").remove();\n\n    // Last container -> elements of this container overlap others\n    linkContainer = graphContainer.append(\"g\").classed(\"linkContainer\", true);\n    cardinalityContainer = graphContainer.append(\"g\").classed(\"cardinalityContainer\", true);\n    labelContainer = graphContainer.append(\"g\").classed(\"labelContainer\", true);\n    nodeContainer = graphContainer.append(\"g\").classed(\"nodeContainer\", true);\n\n    // Add an extra container for all markers\n    markerContainer = linkContainer.append(\"defs\");\n\n    // Draw nodes\n    nodeElements = nodeContainer.selectAll(\".node\")\n      .data(classNodes).enter()\n      .append(\"g\")\n      .classed(\"node\", true)\n      .attr(\"id\", function(d) {\n        return d.id();\n      })\n      .call(dragBehaviour);\n\n    nodeElements.each(function(node) {\n      node.draw(d3.select(this));\n    });\n\n    // Draw label groups (property + inverse)\n    labelGroupElements = labelContainer.selectAll(\".labelGroup\")\n      .data(labelNodes).enter()\n      .append(\"g\")\n      .classed(\"labelGroup\", true)\n      .call(dragBehaviour);\n\n    labelGroupElements.each(function(label) {\n      var success = label.draw(d3.select(this));\n      // Remove empty groups without a label.\n      if (!success) {\n        d3.select(this).remove();\n      }\n    });\n\n    // Place subclass label groups on the bottom of all labels\n    labelGroupElements.each(function(label) {\n      // the label might be hidden e.g. in compact notation\n      if (!this.parentNode) {\n        return;\n      }\n\n      if (elementTools.isRdfsSubClassOf(label.property())) {\n        var parentNode = this.parentNode;\n        parentNode.insertBefore(this, parentNode.firstChild);\n      }\n    });\n\n    // Draw cardinalities\n    cardinalityElements = cardinalityContainer.selectAll(\".cardinality\")\n      .data(properties).enter()\n      .append(\"g\")\n      .classed(\"cardinality\", true);\n\n    cardinalityElements.each(function(property) {\n      var success = property.drawCardinality(d3.select(this));\n\n      // Remove empty groups without a label.\n      if (!success) {\n        d3.select(this).remove();\n      }\n    });\n\n    // Draw links\n    linkGroups = linkContainer.selectAll(\".link\")\n      .data(links).enter()\n      .append(\"g\")\n      .classed(\"link\", true);\n\n    linkGroups.each(function(link) {\n      link.draw(d3.select(this), markerContainer);\n    });\n\n    // Select the path for direct access to receive a better performance\n    linkPathElements = linkGroups.selectAll(\"path\");\n\n    addClickEvents();\n  }\n\n  /**\n   * Applies click listeneres to nodes and properties.\n   */\n  function addClickEvents() {\n    function executeModules(selectedElement) {\n      options.selectionModules().forEach(function(module) {\n        module.handle(selectedElement);\n      });\n    }\n\n    nodeElements.on(\"click\", function(clickedNode) {\n      executeModules(clickedNode);\n    });\n\n    nodeElements.on(\"dblclick\", function(clickedNode) {\n      loadGraphDataByClass(clickedNode.id());\n      if (window.parent.selectNodeInTree !== undefined) {\n        window.parent.selectNodeInTree(clickedNode.id());\n      }\n    });\n\n    labelGroupElements.selectAll(\".label\").on(\"click\", function(clickedProperty) {\n      executeModules(clickedProperty);\n    });\n  }\n\n  var classHierarchy;\n\n  function loadGraphData() {\n    var theSubset;\n    if (options.data() !== undefined) {\n      var a = performance.now();\n      classHierarchy = buildClassHierarchy(options.data()); //~ 26ms pre-cache\n      var b = performance.now();\n      // alert('It took buildClassHierarchy ' + (b - a) + ' ms.');\n      //  printTreeAll(classHierarchy);\n      //Update the Treeview\n      // var scope = angular.element(document.getElementById(\"TreeViewDiv\")).scope();\n      // scope.$apply(function() {\n      //   var treeViewModel = [];\n      //   var thing = {\n      //     id: \"Thing\",\n      //     name: \"Thing\",\n      //     children: []\n      //   };\n      //   treeViewModel.push(thing);\n      //   for (var i = 0; i < classHierarchy.topLevel.length; i++) {\n      //     if (classHierarchy.topLevel[i].name !== \"Thing\") { //Hide Thing from Treeview. Why is there more than one Thing? -> OWL2VOWL makes multiple things to produce a nicer looking force graph.\n      //       thing.children.push(classHierarchy.topLevel[i]);\n      //     }\n      //   }\n      //   scope.refreshTreeData(treeViewModel);\n      // });\n      theSubset = getontologyJsonSubset(\"Thing\", options.data(), classHierarchy);\n\n    }\n    parser.parse(theSubset);\n    unfilteredNodes = parser.nodes();\n    unfilteredProperties = parser.properties();\n  }\n\n  window.loadFullDataSet = function(data) {\n    options.data(data);\n    loadGraphData();\n    graph.update();\n  };\n  var loadGraphDataByClass = function(classId) {\n    var theSubset = getontologyJsonSubset(classId, options.data(), classHierarchy);\n    parser.parse(theSubset);\n    unfilteredNodes = parser.nodes();\n    unfilteredProperties = parser.properties();\n    setZoomLevel(zoom.scale());\n    graph.update();\n    pinClass(classId);\n  };\n\n  function setZoomLevel(scale) {\n    var zoomWidth = (options.width() - scale * options.width()) / 2;\n    var zoomHeight = (options.height() - scale * options.height()) / 2;\n    zoom.translate([zoomWidth, zoomHeight]).scale(scale);\n  }\n\n  window.loadGraphDataByClass = loadGraphDataByClass;\n\n  function pinClass(classId) {\n    var nodeElements = nodeContainer.selectAll(\".node\");\n    nodeElements.each(function(node) {\n      if (node.id() === classId) {\n        if (!node.focused()) {\n          node.toggleFocus();\n        }\n        node.drawPin();\n        //Center Node\n        node.px = nodeContainer[0].parentNode.clientWidth / 2;\n        node.py = nodeContainer[0].parentNode.clientHeight / 2;\n      }\n    });\n  }\n\n  function getontologyJsonSubset(startingClassId, ontologyJson, myClassHierarchy) {\n    /* jshint shadow:true */\n    //var ontologyJson =JSON.parse(JSON.stringify(ontologyJson));\n    var theSubset = {\n      \"_comment\": \"Created with OWL2VOWL (version 0.2.2-SNAPSHOT), http://vowl.visualdataweb.org\",\n      \"namespace\": [],\n      \"header\": {\n        \"languages\": [\"IRI-based\", \"undefined\"],\n        \"iri\": \"file://securboration/main/resources/owl/transcom/metatagger/1.0\"\n      },\n      \"metrics\": {\n        \"classCount\": 4742,\n        \"datatypeCount\": 90,\n        \"objectPropertyCount\": 355,\n        \"datatypePropertyCount\": 90,\n        \"propertyCount\": 445,\n        \"nodeCount\": 4832,\n        \"axiomCount\": 41345,\n        \"individualCount\": 3322\n      },\n      class: [],\n      classAttribute: [],\n      datatype: [],\n      datatypeAttribute: [],\n      property: [],\n      propertyAttribute: []\n    };\n\n    // copyArray(ontologyJson.class, theSubset.class);\n    // copyArray(ontologyJson.classAttribute, theSubset.classAttribute);\n    // copyArray(ontologyJson.datatype, theSubset.datatype);\n    // copyArray(ontologyJson.datatypeAttribute, theSubset.datatypeAttribute);\n    // copyArray(ontologyJson.property, theSubset.property);\n    // copyArray(ontologyJson.propertyAttribute, theSubset.propertyAttribute);\n\n    var filtedClassIds = [];\n    if (startingClassId === \"Thing\") {\n      for (var i = 0; i < myClassHierarchy.topLevel.length; i++) {\n        pushItemIfNotExist(myClassHierarchy.topLevel[i].id, filtedClassIds);\n        for (var j = 0; j < myClassHierarchy.topLevel[i].children.length; j++) {\n          pushItemIfNotExist(myClassHierarchy.topLevel[i].children[j].id, filtedClassIds);\n        }\n      }\n    } else {\n      var startingClass = myClassHierarchy.cache.classAttribute[startingClassId];\n      pushItemIfNotExist(startingClass.id, filtedClassIds);\n      //Walk up one level if possible\n      if (startingClass.superClassesIntact !== undefined) {\n        for (var i = 0; i < startingClass.superClassesIntact.length; i++) {\n          var startClassParent = myClassHierarchy.cache.classAttribute[startingClass.superClassesIntact[i]];\n          pushItemIfNotExist(startClassParent.id, filtedClassIds);\n          //For Symmetry include the parent's subclasses as well\n          if (startClassParent.subClassesIntact !== undefined) {\n            for (var p = 0; p < startClassParent.subClassesIntact.length; p++) {\n              pushItemIfNotExist(startClassParent.subClassesIntact[p], filtedClassIds);\n            }\n          }\n        }\n      }\n      for (var j = 0; j < startingClass.children.length; j++) {\n        var lvl1 = startingClass.children[j];\n        pushItemIfNotExist(lvl1.id, filtedClassIds);\n        for (var h = 0; h < lvl1.children.length; h++) {\n          var lvl2 = lvl1.children[h];\n          pushItemIfNotExist(lvl2.id, filtedClassIds);\n          //  for (var k = 0; k < lvl2.children.length; k++) {\n          // \t var lvl3 = lvl2.children[k];\n          // \t pushItemIfNotExist(lvl3.id, filtedClassIds);\n          // }\n        }\n      }\n    }\n\n\n    //classAttribute\n    for (var i = 0; i < filtedClassIds.length; i++) {\n      var ca = myClassHierarchy.cache.classAttribute[filtedClassIds[i]];\n      //Remove\n      if (ca.subClasses !== undefined) {\n        if (ca.subClassesIntact === undefined) {\n          ca.subClassesIntact = [];\n          copyArray(ca.subClasses, ca.subClassesIntact);\n        }\n        ca.subClasses = ca.subClassesIntact.filter(function(x) {\n          return filtedClassIds.indexOf(x) !== -1;\n        });\n      }\n      if (ca.superClasses !== undefined) {\n        if (ca.superClassesIntact === undefined) {\n          ca.superClassesIntact = [];\n          copyArray(ca.superClasses, ca.superClassesIntact);\n        }\n        ca.superClasses = ca.superClasses.filter(function(x) {\n          return filtedClassIds.indexOf(x) !== -1;\n        });\n      }\n      if (ca.equivalent !== undefined) {\n        if (ca.equivalentIntact === undefined) {\n          ca.equivalentIntact = [];\n          copyArray(ca.equivalent, ca.equivalentIntact);\n        }\n        ca.equivalent = ca.equivalent.filter(function(x) {\n          return filtedClassIds.indexOf(x) !== -1;\n        });\n      }\n      if (ca.intersection !== undefined) {\n        if (ca.intersectionIntact === undefined) {\n          ca.intersectionIntact = [];\n          copyArray(ca.intersection, ca.intersectionIntact);\n        }\n        ca.intersection = ca.intersection.filter(function(x) {\n          return filtedClassIds.indexOf(x) !== -1;\n        });\n      }\n      if (ca.union !== undefined) { //TODO: I'm not sure if unions should be treated in the same manner as sub/super classes\n        if (ca.unionIntact === undefined) {\n          ca.unionIntact = [];\n          copyArray(ca.union, ca.unionIntact);\n        }\n        ca.union = ca.union.filter(function(x) {\n          return filtedClassIds.indexOf(x) !== -1;\n        });\n      }\n      theSubset.classAttribute.push(ca);\n    }\n    //propertyAttribute\n    var filtedPropertyIds = [];\n    for (var i = 0; i < ontologyJson.propertyAttribute.length; i++) {\n      var pa = ontologyJson.propertyAttribute[i];\n      var propertyHit = false;\n      if (filtedClassIds.indexOf(pa.domain) !== -1 && filtedClassIds.indexOf(pa.range) !== -1) { //Both classes are in filtedClassIds\n        propertyHit = true;\n      } else if (filtedClassIds.indexOf(pa.domain) !== -1 && myClassHierarchy.thingIds.indexOf(pa.range) !== -1) { //Find classes that link to thing\n        propertyHit = true;\n        var thingId = pa.range;\n        if (filtedClassIds.indexOf(thingId) === -1) {\n          filtedClassIds.push(thingId);\n          theSubset.classAttribute.push(myClassHierarchy.cache.classAttribute[thingId]);\n        }\n      } else if (filtedClassIds.indexOf(pa.range) !== -1 && myClassHierarchy.thingIds.indexOf(pa.domain) !== -1) { //Find classes that link to thing\n        propertyHit = true;\n        var thingId = pa.domain;\n        if (filtedClassIds.indexOf(thingId) === -1) {\n          filtedClassIds.push(thingId);\n          theSubset.classAttribute.push(myClassHierarchy.cache.classAttribute[thingId]);\n        }\n      }\n      if (propertyHit === true) {\n        pushItemIfNotExist(pa.id, filtedPropertyIds);\n        delete pa.subproperty;\n        delete pa.superproperty;\n        delete pa.inverse;\n      }\n      //TODO Also check to see if domain or range is something other than a class. i.e. (dataType or thing)\n    }\n    //class\n    for (var i = 0; i < filtedClassIds.length; i++) {\n      theSubset.class.push(myClassHierarchy.cache.class[filtedClassIds[i]]);\n    }\n    //propertyAttribute/property\n    for (var i = 0; i < filtedPropertyIds.length; i++) {\n      theSubset.propertyAttribute.push(myClassHierarchy.cache.propertyAttribute[filtedPropertyIds[i]]);\n      theSubset.property.push(myClassHierarchy.cache.property[filtedPropertyIds[i]]);\n    }\n    return theSubset;\n  }\n\n  function pushItemIfNotExist(item, dest) {\n    if (dest.indexOf(item) === -1) {\n      dest.push(item);\n    }\n  }\n\n  function pushIfNotExist(source, dest) {\n    for (var i = 0; i < source.length; i++) {\n      if (dest.indexOf(source[i]) === -1) {\n        dest.push(source[i]);\n      }\n    }\n  }\n  // function copyFromCache(sourceHashMap, destArray){\n  // \tfor (var i = 0; i <  source.length; i++) {\n  // \t\tdestHashMap[source[i].id] =  source[i];\n  // \t}\n  // }\n\n  function copyArray(source, dest) {\n    for (var i = 0; i < source.length; i++) {\n      dest.push(source[i]);\n    }\n  }\n\n  function buildCache(source, destHashMap) {\n    for (var i = 0; i < source.length; i++) {\n      destHashMap[source[i].id] = source[i];\n    }\n  }\n\n  function buildClassHierarchy(ontologyJson) {\n    // console.clear();\n    var myClassHierarchy = {\n      cache: {\n        class: {},\n        classAttribute: {},\n        datatype: {},\n        datatypeAttribute: {},\n        property: {},\n        propertyAttribute: {}\n      },\n      topLevel: [],\n      things: [],\n      thingIds: []\n    };\n    buildCache(ontologyJson.class, myClassHierarchy.cache.class);\n    // buildCache(ontologyJson.classAttribute, myClassHierarchy.cache.classAttribute);\n    // buildCache(ontologyJson.datatype, myClassHierarchy.cache.datatype);\n    // buildCache(ontologyJson.datatypeAttribute, myClassHierarchy.cache.datatypeAttribute);\n    buildCache(ontologyJson.property, myClassHierarchy.cache.property);\n    buildCache(ontologyJson.propertyAttribute, myClassHierarchy.cache.propertyAttribute);\n\n    var excludeClassTypes = [\"rdfs:Datatype\", \"rdfs:Literal\"];\n      //Find top level nodes/classAttributes\n      for (var i = 0; i < ontologyJson.classAttribute.length; i++) {\n        //Add name field. Used for the Tree display\n        var classType = myClassHierarchy.cache.class[ontologyJson.classAttribute[i].id].type;\n        if (excludeClassTypes.indexOf(classType) > -1) {\n          ontologyJson.classAttribute[i].name = \"\";\n        } else if (ontologyJson.classAttribute[i].label === undefined) {\n          ontologyJson.classAttribute[i].name = \"\";\n        } else {\n          if (ontologyJson.classAttribute[i].label[\"undefined\"] !== undefined) { //Use label if it exist\n            ontologyJson.classAttribute[i].name = ontologyJson.classAttribute[i].label[\"undefined\"];\n          } else if (ontologyJson.classAttribute[i].label[\"IRI-based\"] !== undefined) {\n            ontologyJson.classAttribute[i].name = ontologyJson.classAttribute[i].label[\"IRI-based\"];\n          } else {\n            console.log(\"Should not happen: Both Label and IRI-based Id are empty\");\n            ontologyJson.classAttribute[i].name = \"\";\n          }\n        }\n\n      myClassHierarchy.cache.classAttribute[ontologyJson.classAttribute[i].id] = ontologyJson.classAttribute[i]; //Add classAttribute to cache\n      if (ontologyJson.classAttribute[i].superClasses === undefined) { //These are top level classes\n        if (ontologyJson.classAttribute[i].name === \"Thing\") {\n          myClassHierarchy.things.push(ontologyJson.classAttribute[i]);\n          myClassHierarchy.thingIds.push(ontologyJson.classAttribute[i].id);\n        } else if (ontologyJson.classAttribute[i].name !== \"\" && ontologyJson.classAttribute[i].name !== \"anonymous\") {\n          myClassHierarchy.topLevel.push(ontologyJson.classAttribute[i]);\n        }\n      }\n    }\n    //Sort top level nodes\n    sortClassArray(myClassHierarchy.topLevel);\n    //Recursively add children\n    for (var j = 0; j < myClassHierarchy.topLevel.length; j++) {\n      buildClassHierarchyChildren(myClassHierarchy.topLevel[j], myClassHierarchy.cache.classAttribute, 0);\n    }\n    return myClassHierarchy;\n  }\n\n  function buildClassHierarchyChildren(theClass, classCacheByClassId, depth) {\n    // if (depth === 1) {\n    // \treturn;\n    // }\n    theClass.children = []; //Create children array\n    //Create a copy of subClasses/superClasses/equivalent as the original arrays will be modified for the graph.\n    if (theClass.subClasses !== undefined) {\n      if (theClass.subClassesIntact === undefined) {\n        theClass.subClassesIntact = [];\n        copyArray(theClass.subClasses, theClass.subClassesIntact);\n      }\n    }\n    if (theClass.superClasses !== undefined) {\n      if (theClass.superClassesIntact === undefined) {\n        theClass.superClassesIntact = [];\n        copyArray(theClass.superClasses, theClass.superClassesIntact);\n      }\n    }\n    if (theClass.equivalent !== undefined) {\n      if (theClass.equivalentIntact === undefined) {\n        theClass.equivalentIntact = [];\n        copyArray(theClass.equivalent, theClass.equivalentIntact);\n      }\n    }\n    //Structure class attibutes into a object tree\n    if (theClass.subClasses !== undefined) {\n      for (var sc = 0; sc < theClass.subClasses.length; sc++) {\n        var subClass = classCacheByClassId[theClass.subClasses[sc]];\n        theClass.children.push(subClass);\n        buildClassHierarchyChildren(subClass, classCacheByClassId, depth += 1);\n      }\n      sortClassArray(theClass.children);\n    }\n  }\n\n  function sortClassArray(classArray) {\n    classArray.sort(function(a, b) {\n      var aKey = a.name.toUpperCase();\n      var bKey = b.name.toUpperCase();\n      if (aKey > bKey) {\n        return 1;\n      } else if (aKey < bKey) {\n        return -1;\n      }\n      return 0;\n    });\n  }\n\n  var treeDivInner = \"\";\n  var classcnt = 0;\n\n  function printTreeAll(classHierarchy) {\n    treeDivInner = \"\";\n    classcnt = 0;\n    printTree(classHierarchy.topLevel, 1);\n    //  document.getElementById('myTreeDiv').innerHTML = \"Class Count: \" + classcnt + \"<br>\" + treeDivInner;\n    document.getElementById('myTreeDiv').innerHTML = treeDivInner;\n  }\n\n  function printTree(classArray, depth) {\n    for (var i = 0; i < classArray.length; i++) {\n      classcnt += 1;\n      treeDivInner += Array(depth).join(\"&nbsp;\") + classArray[i].name + \"<br>\";\n      if (classArray[i].children !== undefined) {\n        printTree(classArray[i].children, depth += 1);\n      }\n    }\n  }\n\n  /**\n   * Applies the data of the graph options object and parses it. The graph is not redrawn.\n   */\n  function refreshGraphData() {\n    var preprocessedNodes = unfilteredNodes,\n      preprocessedProperties = unfilteredProperties;\n\n    // Filter the data\n    options.filterModules().forEach(function(module) {\n      links = linkCreator.createLinks(preprocessedProperties);\n      storeLinksOnNodes(preprocessedNodes, links);\n\n      module.filter(preprocessedNodes, preprocessedProperties);\n      preprocessedNodes = module.filteredNodes();\n      preprocessedProperties = module.filteredProperties();\n    });\n\n    classNodes = preprocessedNodes;\n    properties = preprocessedProperties;\n    links = linkCreator.createLinks(properties);\n    labelNodes = links.map(function(link) {\n      return link.label();\n    });\n    storeLinksOnNodes(classNodes, links);\n\n    setForceLayoutData(classNodes, labelNodes, links);\n  }\n\n  function storeLinksOnNodes(nodes, links) {\n    for (var i = 0, nodesLength = nodes.length; i < nodesLength; i++) {\n      var node = nodes[i],\n        connectedLinks = [];\n\n      // look for properties where this node is the domain or range\n      for (var j = 0, linksLength = links.length; j < linksLength; j++) {\n        var link = links[j];\n\n        if (link.domain() === node || link.range() === node) {\n          connectedLinks.push(link);\n        }\n      }\n\n      node.links(connectedLinks);\n    }\n  }\n\n  function setForceLayoutData(classNodes, labelNodes, links) {\n    var d3Links = [];\n    links.forEach(function(link) {\n      d3Links = d3Links.concat(link.linkParts());\n    });\n\n    var d3Nodes = [].concat(classNodes).concat(labelNodes);\n    setPositionOfOldLabelsOnNewLabels(force.nodes(), labelNodes);\n\n    force.nodes(d3Nodes)\n      .links(d3Links);\n  }\n\n  /**\n   * The label nodes are positioned randomly, because they are created from scratch if the data changes and lose\n   * their position information. With this hack the position of old labels is copied to the new labels.\n   */\n  function setPositionOfOldLabelsOnNewLabels(oldLabelNodes, labelNodes) {\n    labelNodes.forEach(function(labelNode) {\n      for (var i = 0; i < oldLabelNodes.length; i++) {\n        var oldNode = oldLabelNodes[i];\n        if (oldNode.equals(labelNode)) {\n          labelNode.x = oldNode.x;\n          labelNode.y = oldNode.y;\n          break;\n        }\n      }\n    });\n  }\n\n\n  /**\n   * Applies all options that don't change the graph data.\n   */\n  function refreshGraphStyle() {\n    zoom = zoom.scaleExtent([options.minMagnification(), options.maxMagnification()]);\n    if (graphContainer) {\n      zoom.event(graphContainer);\n    }\n\n    force.charge(function(element) {\n        var charge = options.charge();\n        if (elementTools.isLabel(element)) {\n          charge *= 0.8;\n        }\n        return charge;\n      })\n      .size([options.width(), options.height()])\n      .linkDistance(calculateLinkPartDistance)\n      .gravity(options.gravity())\n      .linkStrength(options.linkStrength()); // Flexibility of links\n  }\n\n  /**\n   * Removes all elements from the graph container.\n   */\n  function remove() {\n    if (graphContainer) {\n      // Select the parent element because the graph container is a group (e.g. for zooming)\n      d3.select(graphContainer.node().parentNode).remove();\n    }\n  }\n\n  graph.options = function() {\n    return options;\n  };\n\n  graph.language = function(newLanguage) {\n    if (!arguments.length) return language;\n\n    // Just update if the language changes\n    if (language !== newLanguage) {\n      language = newLanguage || \"default\";\n      redrawContent();\n      recalculatePositions();\n    }\n    return graph;\n  };\n\n\n  return graph;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/graph.js\n ** module id = 47\n ** module chunks = 0\n **/","/**\r\n * Contains a collection of mathematical functions with some additional data\r\n * used for WebVOWL.\r\n */\r\nmodule.exports = (function () {\r\n\r\n\tvar math = {},\r\n\t\tloopFunction = d3.svg.line()\r\n\t\t\t.x(function (d) {\r\n\t\t\t\treturn d.x;\r\n\t\t\t})\r\n\t\t\t.y(function (d) {\r\n\t\t\t\treturn d.y;\r\n\t\t\t})\r\n\t\t\t.interpolate(\"cardinal\")\r\n\t\t\t.tension(-1);\r\n\r\n\r\n\t/**\r\n\t * Calculates the normal vector of the path between the two nodes.\r\n\t * @param source the first node\r\n\t * @param target the second node\r\n\t * @param length the length of the calculated normal vector\r\n\t * @returns {{x: number, y: number}}\r\n\t */\r\n\tmath.calculateNormalVector = function (source, target, length) {\r\n\t\tvar dx = target.x - source.x,\r\n\t\t\tdy = target.y - source.y;\r\n\r\n\t\tvar nx = -dy,\r\n\t\t\tny = dx;\r\n\r\n\t\tvar vlength = Math.sqrt(nx * nx + ny * ny);\r\n\r\n\t\tvar ratio = vlength !== 0 ? length / vlength : 0;\r\n\r\n\t\treturn {\"x\": nx * ratio, \"y\": ny * ratio};\r\n\t};\r\n\r\n\t/**\r\n\t * Calculates the path for a link, if it is a loop. Currently only working for circlular nodes.\r\n\t * @param link the link\r\n\t * @returns {*}\r\n\t */\r\n\tmath.calculateLoopPath = function (link) {\r\n\t\tvar node = link.domain(),\r\n\t\t\tlabel = link.label();\r\n\r\n\t\tvar fairShareLoopAngle = 360 / link.loops().length,\r\n\t\t\tfairShareLoopAngleWithMargin = fairShareLoopAngle * 0.8,\r\n\t\t\tloopAngle = Math.min(60, fairShareLoopAngleWithMargin);\r\n\r\n\t\tvar dx = label.x - node.x,\r\n\t\t\tdy = label.y - node.y,\r\n\t\t\tlabelRadian = Math.atan2(dy, dx),\r\n\t\t\tlabelAngle = calculateAngle(labelRadian);\r\n\r\n\t\tvar startAngle = labelAngle - loopAngle / 2,\r\n\t\t\tendAngle = labelAngle + loopAngle / 2;\r\n\r\n\t\tvar arcFrom = calculateRadian(startAngle),\r\n\t\t\tarcTo = calculateRadian(endAngle),\r\n\r\n\t\t\tx1 = Math.cos(arcFrom) * node.actualRadius(),\r\n\t\t\ty1 = Math.sin(arcFrom) * node.actualRadius(),\r\n\r\n\t\t\tx2 = Math.cos(arcTo) * node.actualRadius(),\r\n\t\t\ty2 = Math.sin(arcTo) * node.actualRadius(),\r\n\r\n\t\t\tfixPoint1 = {\"x\": node.x + x1, \"y\": node.y + y1},\r\n\t\t\tfixPoint2 = {\"x\": node.x + x2, \"y\": node.y + y2};\r\n\r\n\t\treturn loopFunction([fixPoint1, link.label(), fixPoint2]);\r\n\t};\r\n\r\n\t/**\r\n\t * @param angle\r\n\t * @returns {number} the radian of the angle\r\n\t */\r\n\tfunction calculateRadian(angle) {\r\n\t\tangle = angle % 360;\r\n\t\tif (angle < 0) {\r\n\t\t\tangle = angle + 360;\r\n\t\t}\r\n\t\treturn (Math.PI * angle) / 180;\r\n\t}\r\n\r\n\t/**\r\n\t * @param radian\r\n\t * @returns {number} the angle of the radian\r\n\t */\r\n\tfunction calculateAngle(radian) {\r\n\t\treturn radian * (180 / Math.PI);\r\n\t}\r\n\r\n\t/**\r\n\t * Calculates the point where the link between the source and target node\r\n\t * intersects the border of the target node.\r\n\t * @param source the source node\r\n\t * @param target the target node\r\n\t * @param additionalDistance additional distance the\r\n\t * @returns {{x: number, y: number}}\r\n\t */\r\n\tmath.calculateIntersection = function (source, target, additionalDistance) {\r\n\t\tvar dx = target.x - source.x,\r\n\t\t\tdy = target.y - source.y,\r\n\t\t\tlength = Math.sqrt(dx * dx + dy * dy);\r\n\r\n\t\tif (length === 0) {\r\n\t\t\treturn {x: source.x, y: source.y};\r\n\t\t}\r\n\r\n\t\tvar innerDistance = target.distanceToBorder(dx, dy);\r\n\r\n\t\tvar ratio = (length - (innerDistance + additionalDistance)) / length,\r\n\t\t\tx = dx * ratio + source.x,\r\n\t\t\ty = dy * ratio + source.y;\r\n\r\n\t\treturn {x: x, y: y};\r\n\t};\r\n\r\n\t/**\r\n\t * Calculates the position between the two points.\r\n\t * @param firstPoint\r\n\t * @param secondPoint\r\n\t * @returns {{x: number, y: number}}\r\n\t */\r\n\tmath.calculateCenter = function (firstPoint, secondPoint) {\r\n\t\treturn {\r\n\t\t\tx: (firstPoint.x + secondPoint.x) / 2,\r\n\t\t\ty: (firstPoint.y + secondPoint.y) / 2\r\n\t\t};\r\n\t};\r\n\r\n\r\n\treturn function () {\r\n\t\t/* Use a function here to keep a consistent style like webvowl.path.to.module()\r\n\t\t * despite having just a single math object. */\r\n\t\treturn math;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/math.js\n ** module id = 48\n ** module chunks = 0\n **/","/**\r\n * Stores the passed properties in links.\r\n * @returns {Function}\r\n */\r\nmodule.exports = (function () {\r\n\tvar linkCreator = {};\r\n\r\n\t/**\r\n\t * Creates links from the passed properties.\r\n\t * @param properties\r\n\t */\r\n\tlinkCreator.createLinks = function (properties) {\r\n\t\tvar links = groupPropertiesToLinks(properties);\r\n\r\n\t\tfor (var i = 0, l = links.length; i < l; i++) {\r\n\t\t\tvar link = links[i];\r\n\r\n\t\t\tcountAndSetLayers(link, links);\r\n\t\t\tcountAndSetLoops(link, links);\r\n\t\t}\r\n\r\n\t\treturn links;\r\n\t};\r\n\r\n\t/**\r\n\t * Creates links of properties and - if existing - their inverses.\r\n\t * @param properties the properties\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction groupPropertiesToLinks(properties) {\r\n\t\tvar links = [],\r\n\t\t\tproperty,\r\n\t\t\taddedProperties = require(\"../util/set\")();\r\n\r\n\t\tfor (var i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tproperty = properties[i];\r\n\r\n\t\t\tif (!addedProperties.has(property)) {\r\n\t\t\t\tvar link = require(\"../elements/links/link\")(property.domain(), property.range(), property);\r\n\r\n\t\t\t\tproperty.link(link);\r\n\t\t\t\tif (property.inverse()) {\r\n\t\t\t\t\tproperty.inverse().link(link);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlinks.push(link);\r\n\r\n\t\t\t\taddedProperties.add(property);\r\n\t\t\t\tif (property.inverse()) {\r\n\t\t\t\t\taddedProperties.add(property.inverse());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn links;\r\n\t}\r\n\r\n\tfunction countAndSetLayers(link, allLinks) {\r\n\t\tvar layer,\r\n\t\t\tlayers,\r\n\t\t\ti, l;\r\n\r\n\t\tif (typeof link.layers() === \"undefined\") {\r\n\t\t\tlayers = [];\r\n\r\n\t\t\t// Search for other links that are another layer\r\n\t\t\tfor (i = 0, l = allLinks.length; i < l; i++) {\r\n\t\t\t\tvar otherLink = allLinks[i];\r\n\t\t\t\tif (link.domain() === otherLink.domain() && link.range() === otherLink.range() ||\r\n\t\t\t\t\tlink.domain() === otherLink.range() && link.range() === otherLink.domain()) {\r\n\t\t\t\t\tlayers.push(otherLink);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set the results on each of the layers\r\n\t\t\tfor (i = 0, l = layers.length; i < l; ++i) {\r\n\t\t\t\tlayer = layers[i];\r\n\r\n\t\t\t\tlayer.layerIndex(i);\r\n\t\t\t\tlayer.layers(layers);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction countAndSetLoops(link, allLinks) {\r\n\t\tvar loop,\r\n\t\t\tloops,\r\n\t\t\ti, l;\r\n\r\n\t\tif (typeof link.loops() === \"undefined\") {\r\n\t\t\tloops = [];\r\n\r\n\t\t\t// Search for other links that are also loops of the same node\r\n\t\t\tfor (i = 0, l = allLinks.length; i < l; i++) {\r\n\t\t\t\tvar otherLink = allLinks[i];\r\n\t\t\t\tif (link.domain() === otherLink.domain() && link.domain() === otherLink.range()) {\r\n\t\t\t\t\tloops.push(otherLink);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set the results on each of the loops\r\n\t\t\tfor (i = 0, l = loops.length; i < l; ++i) {\r\n\t\t\t\tloop = loops[i];\r\n\r\n\t\t\t\tloop.loopIndex(i);\r\n\t\t\t\tloop.loops(loops);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn function () {\r\n\t\t// Return a function to keep module interfaces consistent\r\n\t\treturn linkCreator;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/parsing/linkCreator.js\n ** module id = 49\n ** module chunks = 0\n **/","/**\r\n * A simple incomplete encapsulation of the d3 set, which is able to store webvowl\r\n * elements by using their id.\r\n */\r\nmodule.exports = function (array) {\r\n\r\n\tvar set = {},\r\n\t\td3Set = d3.set(array);\r\n\r\n\tset.has = function (webvowlElement) {\r\n\t\treturn d3Set.has(webvowlElement.id());\r\n\t};\r\n\r\n\tset.add = function (webvowlElement) {\r\n\t\treturn d3Set.add(webvowlElement.id());\r\n\t};\r\n\r\n\tset.remove = function (webvowlElement) {\r\n\t\treturn d3Set.remove(webvowlElement.id());\r\n\t};\r\n\r\n\tset.empty = function () {\r\n\t\treturn d3Set.empty();\r\n\t};\r\n\r\n\tset.size = function () {\r\n\t\treturn d3Set.size();\r\n\t};\r\n\r\n\treturn set;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/set.js\n ** module id = 50\n ** module chunks = 0\n **/","var Label = require('./Label');\r\n\r\n/**\r\n * A link connects at least two VOWL nodes.\r\n * The properties connecting the VOWL nodes are stored separately into the label.\r\n * @param _domain\r\n * @param _range\r\n * @param _property\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (_domain, _range, _property) {\r\n\tvar link = {},\r\n\t\tdomain = _domain,\r\n\t\tlayers,\r\n\t\tlayerIndex,\r\n\t\tloops,\r\n\t\tloopIndex,\r\n\t\tlabel = new Label(_property, link),\r\n\t\trange = _range;\r\n\r\n\tvar backPart = require(\"./linkPart\")(domain, label, link),\r\n\t\tfrontPart = require(\"./linkPart\")(label, range, link);\r\n\r\n\r\n\tlink.layers = function (p) {\r\n\t\tif (!arguments.length) return layers;\r\n\t\tlayers = p;\r\n\t\treturn link;\r\n\t};\r\n\r\n\tlink.layerIndex = function (p) {\r\n\t\tif (!arguments.length) return layerIndex;\r\n\t\tlayerIndex = p;\r\n\t\treturn link;\r\n\t};\r\n\r\n\tlink.loops = function (p) {\r\n\t\tif (!arguments.length) return loops;\r\n\t\tloops = p;\r\n\t\treturn link;\r\n\t};\r\n\r\n\tlink.loopIndex = function (p) {\r\n\t\tif (!arguments.length) return loopIndex;\r\n\t\tloopIndex = p;\r\n\t\treturn link;\r\n\t};\r\n\r\n\r\n\tlink.domain = function () {\r\n\t\treturn domain;\r\n\t};\r\n\r\n\tlink.inverse = function () {\r\n\t\treturn label.inverse();\r\n\t};\r\n\r\n\tlink.isLoop = function() {\r\n\t\treturn domain === range;\r\n\t};\r\n\r\n\tlink.label = function () {\r\n\t\treturn label;\r\n\t};\r\n\r\n\tlink.linkParts = function () {\r\n\t\treturn [frontPart, backPart];\r\n\t};\r\n\r\n\tlink.property = function () {\r\n\t\treturn label.property();\r\n\t};\r\n\r\n\tlink.range = function () {\r\n\t\treturn range;\r\n\t};\r\n\r\n\r\n\tlink.draw = function (linkGroup, markerContainer) {\r\n\t\tvar property = label.property();\r\n\t\tvar inverse = label.inverse();\r\n\r\n\t\tproperty.linkGroup(linkGroup);\r\n\t\tif (inverse) {\r\n\t\t\tinverse.linkGroup(linkGroup);\r\n\t\t}\r\n\r\n\t\t// Marker for this property\r\n\t\tproperty.markerElement(markerContainer.append(\"marker\")\r\n\t\t\t.datum(property)\r\n\t\t\t.attr(\"id\", property.markerId())\r\n\t\t\t.attr(\"viewBox\", \"0 -8 14 16\")\r\n\t\t\t.attr(\"refX\", 12)\r\n\t\t\t.attr(\"refY\", 0)\r\n\t\t\t.attr(\"markerWidth\", 12)  // ArrowSize\r\n\t\t\t.attr(\"markerHeight\", 12)\r\n\t\t\t.attr(\"markerUnits\", \"userSpaceOnUse\")\r\n\t\t\t.attr(\"orient\", \"auto\")  // Orientation of Arrow\r\n\t\t\t.attr(\"class\", property.markerType() + \"Marker\"));\r\n\t\tproperty.markerElement()\r\n\t\t\t.append(\"path\")\r\n\t\t\t.attr(\"d\", \"M0,-8L12,0L0,8Z\");\r\n\r\n\t\t// Marker for the inverse property\r\n\t\tif (inverse) {\r\n\t\t\tinverse.markerElement(markerContainer.append(\"marker\")\r\n\t\t\t\t.datum(inverse)\r\n\t\t\t\t.attr(\"id\", inverse.markerId())\r\n\t\t\t\t.attr(\"viewBox\", \"0 -8 14 16\")\r\n\t\t\t\t.attr(\"refX\", 0)\r\n\t\t\t\t.attr(\"refY\", 0)\r\n\t\t\t\t.attr(\"markerWidth\", 12)  // ArrowSize\r\n\t\t\t\t.attr(\"markerHeight\", 12)\r\n\t\t\t\t.attr(\"markerUnits\", \"userSpaceOnUse\")\r\n\t\t\t\t.attr(\"orient\", \"auto\")  // Orientation of Arrow\r\n\t\t\t\t.attr(\"class\", inverse.markerType() + \"Marker\"));\r\n\t\t\tinverse.markerElement().append(\"path\")\r\n\t\t\t\t.attr(\"d\", \"M12,-8L0,0L12,8Z\");\r\n\t\t}\r\n\r\n\t\t// Draw the link\r\n\t\tlinkGroup.append(\"path\")\r\n\t\t\t.classed(\"link-path\", true)\r\n\t\t\t.classed(domain.cssClassOfNode(), true)\r\n\t\t\t.classed(range.cssClassOfNode(), true)\r\n\t\t\t.classed(property.linkType(), true)\r\n\t\t\t.attr(\"marker-end\", function (l) {\r\n\t\t\t\tif (!l.label().property().isSpecialLink()) {\r\n\t\t\t\t\treturn \"url(#\" + l.label().property().markerId() + \")\";\r\n\t\t\t\t}\r\n\t\t\t\treturn \"\";\r\n\t\t\t})\r\n\t\t\t.attr(\"marker-start\", function (l) {\r\n\t\t\t\tvar inverse = l.label().inverse();\r\n\t\t\t\tif (inverse && !inverse.isSpecialLink()) {\r\n\t\t\t\t\treturn \"url(#\" + inverse.markerId() + \")\";\r\n\t\t\t\t}\r\n\t\t\t\treturn \"\";\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\treturn link;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/links/link.js\n ** module id = 51\n ** module chunks = 0\n **/","var forceLayoutNodeFunctions = require(\"../forceLayoutNodeFunctions\")();\r\n\r\n\r\nmodule.exports = Label;\r\n\r\n/**\r\n * A label represents the element(s) which further describe a link.\r\n * It encapsulates the property and its inverse property.\r\n * @param property the property; the inverse is inferred\r\n * @param link the link this label belongs to\r\n */\r\nfunction Label(property, link) {\r\n\tforceLayoutNodeFunctions.addTo(this);\r\n\r\n\tthis.link = function () {\r\n\t\treturn link;\r\n\t};\r\n\r\n\tthis.property = function () {\r\n\t\treturn property;\r\n\t};\r\n}\r\n\r\nLabel.prototype.actualRadius = function () {\r\n\treturn this.property().actualRadius();\r\n};\r\n\r\nLabel.prototype.draw = function (container) {\r\n\treturn this.property().draw(container);\r\n};\r\n\r\nLabel.prototype.inverse = function () {\r\n\treturn this.property().inverse();\r\n};\r\n\r\nLabel.prototype.equals = function (other) {\r\n\tif (!other) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tvar instance = other instanceof Label;\r\n\tvar equalProperty = this.property().equals(other.property());\r\n\r\n\tvar equalInverse = false;\r\n\tif (this.inverse()) {\r\n\t\tequalInverse = this.inverse().equals(other.inverse());\r\n\t} else if (!other.inverse()) {\r\n\t\tequalInverse = true;\r\n\t}\r\n\r\n\treturn instance && equalProperty && equalInverse;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/links/Label.js\n ** module id = 52\n ** module chunks = 0\n **/","/**\r\n * A linkPart connects two force layout nodes.\r\n * It reprents a link which can be used in d3's force layout.\r\n * @param _domain\r\n * @param _range\r\n * @param _link\r\n */\r\nmodule.exports = function (_domain, _range, _link) {\r\n\tvar linkPart = {},\r\n\t\tdomain = _domain,\r\n\t\tlink = _link,\r\n\t\trange = _range;\r\n\r\n\t// Define d3 properties\r\n\tObject.defineProperties(linkPart, {\r\n\t\t\"source\": {value: domain, writable: true},\r\n\t\t\"target\": {value: range, writable: true}\r\n\t});\r\n\r\n\r\n\tlinkPart.domain = function () {\r\n\t\treturn domain;\r\n\t};\r\n\r\n\tlinkPart.link = function () {\r\n\t\treturn link;\r\n\t};\r\n\r\n\tlinkPart.range = function () {\r\n\t\treturn range;\r\n\t};\r\n\r\n\r\n\treturn linkPart;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/elements/links/linkPart.js\n ** module id = 53\n ** module chunks = 0\n **/","var BaseProperty = require(\"../elements/properties/BaseProperty\");\r\nvar BaseNode = require(\"../elements/nodes/BaseNode\");\r\nvar DatatypeNode = require(\"../elements/nodes/DatatypeNode\");\r\nvar ObjectProperty = require(\"../elements/properties/implementations/OwlObjectProperty\");\r\nvar DatatypeProperty = require(\"../elements/properties/implementations/OwlDatatypeProperty\");\r\nvar RdfsSubClassOf = require(\"../elements/properties/implementations/RdfsSubClassOf\");\r\nvar Label = require(\"../elements/links/Label\");\r\n\r\nmodule.exports = (function () {\r\n\tvar tools = {};\r\n\r\n\ttools.isLabel = function (element) {\r\n\t\treturn element instanceof Label;\r\n\t};\r\n\r\n\ttools.isNode = function (element) {\r\n\t\treturn element instanceof BaseNode;\r\n\t};\r\n\r\n\ttools.isDatatype = function (node) {\r\n\t\treturn node instanceof DatatypeNode;\r\n\t};\r\n\r\n\ttools.isProperty = function(element) {\r\n\t\treturn element instanceof BaseProperty;\r\n\t};\r\n\r\n\ttools.isObjectProperty = function (element) {\r\n\t\treturn element instanceof ObjectProperty;\r\n\t};\r\n\r\n\ttools.isDatatypeProperty = function (element) {\r\n\t\treturn element instanceof DatatypeProperty;\r\n\t};\r\n\r\n\ttools.isRdfsSubClassOf = function (property) {\r\n\t\treturn property instanceof RdfsSubClassOf;\r\n\t};\r\n\r\n\treturn function () {\r\n\t\treturn tools;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/elementTools.js\n ** module id = 54\n ** module chunks = 0\n **/","module.exports = function () {\r\n\t/**\r\n\t * @constructor\r\n\t */\r\n\tvar options = {},\r\n\t\tdata,\r\n\t\tgraphContainerSelector,\r\n\t\tclassDistance = 200,\r\n\t\tdatatypeDistance = 120,\r\n\t\tloopDistance = 100,\r\n\t\tcharge = -500,\r\n\t\tgravity = 0.025,\r\n\t\tlinkStrength = 1,\r\n\t\theight = 600,\r\n\t\twidth = 800,\r\n\t\tselectionModules = [],\r\n\t\tfilterModules = [],\r\n\t\tminMagnification = 0.1,\r\n\t\tmaxMagnification = 4,\r\n\t\tcompactNotation = false,\r\n\t\tscaleNodesByIndividuals = false;\r\n\r\n\r\n\toptions.charge = function (p) {\r\n\t\tif (!arguments.length) return charge;\r\n\t\tcharge = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.classDistance = function (p) {\r\n\t\tif (!arguments.length) return classDistance;\r\n\t\tclassDistance = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.compactNotation = function (p) {\r\n\t\tif (!arguments.length) return compactNotation;\r\n\t\tcompactNotation = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.data = function (p) {\r\n\t\tif (!arguments.length) return data;\r\n\t\tdata = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.datatypeDistance = function (p) {\r\n\t\tif (!arguments.length) return datatypeDistance;\r\n\t\tdatatypeDistance = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.filterModules = function (p) {\r\n\t\tif (!arguments.length) return filterModules;\r\n\t\tfilterModules = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.graphContainerSelector = function (p) {\r\n\t\tif (!arguments.length) return graphContainerSelector;\r\n\t\tgraphContainerSelector = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.gravity = function (p) {\r\n\t\tif (!arguments.length) return gravity;\r\n\t\tgravity = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.height = function (p) {\r\n\t\tif (!arguments.length) return height;\r\n\t\theight = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.linkStrength = function (p) {\r\n\t\tif (!arguments.length) return linkStrength;\r\n\t\tlinkStrength = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.loopDistance = function (p) {\r\n\t\tif (!arguments.length) return loopDistance;\r\n\t\tloopDistance = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.minMagnification = function (p) {\r\n\t\tif (!arguments.length) return minMagnification;\r\n\t\tminMagnification = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.maxMagnification = function (p) {\r\n\t\tif (!arguments.length) return maxMagnification;\r\n\t\tmaxMagnification = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.scaleNodesByIndividuals = function (p) {\r\n\t\tif (!arguments.length) return scaleNodesByIndividuals;\r\n\t\tscaleNodesByIndividuals = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.selectionModules = function (p) {\r\n\t\tif (!arguments.length) return selectionModules;\r\n\t\tselectionModules = p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\toptions.width = function (p) {\r\n\t\tif (!arguments.length) return width;\r\n\t\twidth = +p;\r\n\t\treturn options;\r\n\t};\r\n\r\n\treturn options;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/options.js\n ** module id = 55\n ** module chunks = 0\n **/","var OwlThing = require(\"./elements/nodes/implementations/OwlThing\");\r\nvar RdfsLiteral = require(\"./elements/nodes/implementations/RdfsLiteral\");\r\nvar OwlDisjointWith = require(\"./elements/properties/implementations/OwlDisjointWith\");\r\nvar attributeParser = require(\"./parsing/attributeParser\")();\r\nvar elementTools = require(\"./util/elementTools\")();\r\nvar nodePrototypeMap = require(\"./elements/nodes/nodeMap\")();\r\nvar propertyPrototypeMap = require(\"./elements/properties/propertyMap\")();\r\n\r\n/**\r\n * Encapsulates the parsing and preparation logic of the input data.\r\n * @param graph the graph object that will be passed to the elements\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph) {\r\n\tvar parser = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tclassMap,\r\n\t\tpropertyMap;\r\n\r\n\t/**\r\n\t * Parses the ontology data and preprocesses it (e.g. connecting inverse properties and so on).\r\n\t * @param ontologyData the loaded ontology json file\r\n\t */\r\n\tparser.parse = function (ontologyData) {\r\n\t\tif (!ontologyData) {\r\n\t\t\tnodes = [];\r\n\t\t\tproperties = [];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar classes = combineClasses(ontologyData.class, ontologyData.classAttribute),\r\n\t\t\tdatatypes = combineClasses(ontologyData.datatype, ontologyData.datatypeAttribute),\r\n\t\t\tcombinedClassesAndDatatypes = classes.concat(datatypes),\r\n\t\t\tcombinedProperties;\r\n\r\n\t\t// Inject properties for unions, intersections, ...\r\n\t\taddSetOperatorProperties(combinedClassesAndDatatypes, ontologyData.property);\r\n\r\n\t\tcombinedProperties = combineProperties(ontologyData.property, ontologyData.propertyAttribute);\r\n\r\n\t\tclassMap = mapElements(combinedClassesAndDatatypes);\r\n\t\tpropertyMap = mapElements(combinedProperties);\r\n\r\n\t\tmergeRangesOfEquivalentProperties(combinedProperties, combinedClassesAndDatatypes);\r\n\r\n\t\t// Process the graph data\r\n\t\tconvertTypesToIris(combinedClassesAndDatatypes, ontologyData.namespace);\r\n\t\tconvertTypesToIris(combinedProperties, ontologyData.namespace);\r\n\r\n\t\tnodes = createNodeStructure(combinedClassesAndDatatypes, classMap);\r\n\t\tproperties = createPropertyStructure(combinedProperties, classMap, propertyMap);\r\n\t};\r\n\r\n\t/**\r\n\t * @return {Array} the preprocessed nodes\r\n\t */\r\n\tparser.nodes = function () {\r\n\t\treturn nodes;\r\n\t};\r\n\r\n\t/**\r\n\t * @returns {Array} the preprocessed properties\r\n\t */\r\n\tparser.properties = function () {\r\n\t\treturn properties;\r\n\t};\r\n\r\n\t/**\r\n\t * Combines the passed objects with its attributes and prototypes. This also applies\r\n\t * attributes defined in the base of the prototype.\r\n\t */\r\n\tfunction combineClasses(baseObjects, attributes) {\r\n\t\tvar combinations = [];\r\n\t\tvar prototypeMap = createLowerCasePrototypeMap(nodePrototypeMap);\r\n\r\n\t\tif (baseObjects) {\r\n\t\t\tbaseObjects.forEach(function (element) {\r\n\t\t\t\tvar matchingAttribute;\r\n\r\n\t\t\t\tif (attributes) {\r\n\t\t\t\t\t// Look for an attribute with the same id and merge them\r\n\t\t\t\t\tfor (var i = 0; i < attributes.length; i++) {\r\n\t\t\t\t\t\tvar attribute = attributes[i];\r\n\t\t\t\t\t\tif (element.id === attribute.id) {\r\n\t\t\t\t\t\t\tmatchingAttribute = attribute;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\taddAdditionalAttributes(element, matchingAttribute);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Then look for a prototype to add its properties\r\n\t\t\t\tvar Prototype = prototypeMap.get(element.type.toLowerCase());\r\n\r\n\t\t\t\tif (Prototype) {\r\n\t\t\t\t\taddAdditionalAttributes(element, Prototype); // TODO might be unnecessary\r\n\r\n\t\t\t\t\tvar node = new Prototype(graph);\r\n\t\t\t\t\tnode.annotations(element.annotations)\r\n\t\t\t\t\t\t.comment(element.comment)\r\n\t\t\t\t\t\t.complement(element.complement)\r\n\t\t\t\t\t\t.description(element.description)\r\n\t\t\t\t\t\t.equivalents(element.equivalent)\r\n\t\t\t\t\t\t.id(element.id)\r\n\t\t\t\t\t\t.intersection(element.intersection)\r\n\t\t\t\t\t\t.label(element.label)\r\n\t\t\t\t\t\t// .type(element.type) Ignore, because we predefined it\r\n\t\t\t\t\t\t.union(element.union)\r\n\t\t\t\t\t\t.iri(element.iri);\r\n\r\n\t\t\t\t\t// Create node objects for all individuals\r\n\t\t\t\t\tif (element.individuals) {\r\n\t\t\t\t\t\telement.individuals.forEach(function (individual) {\r\n\t\t\t\t\t\t\tvar individualNode = new Prototype(graph);\r\n\t\t\t\t\t\t\tindividualNode.label(individual.labels)\r\n\t\t\t\t\t\t\t\t.iri(individual.iri);\r\n\r\n\t\t\t\t\t\t\tnode.individuals().push(individualNode);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (element.attributes) {\r\n\t\t\t\t\t\tvar deduplicatedAttributes = d3.set(element.attributes.concat(node.attributes()));\r\n\t\t\t\t\t\tnode.attributes(deduplicatedAttributes.values());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcombinations.push(node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(\"Unknown element type: \" + element.type);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn combinations;\r\n\t}\r\n\r\n\tfunction combineProperties(baseObjects, attributes) {\r\n\t\tvar combinations = [];\r\n\t\tvar prototypeMap = createLowerCasePrototypeMap(propertyPrototypeMap);\r\n\r\n\t\tif (baseObjects) {\r\n\t\t\tbaseObjects.forEach(function (element) {\r\n\t\t\t\tvar matchingAttribute;\r\n\r\n\t\t\t\tif (attributes) {\r\n\t\t\t\t\t// Look for an attribute with the same id and merge them\r\n\t\t\t\t\tfor (var i = 0; i < attributes.length; i++) {\r\n\t\t\t\t\t\tvar attribute = attributes[i];\r\n\t\t\t\t\t\tif (element.id === attribute.id) {\r\n\t\t\t\t\t\t\tmatchingAttribute = attribute;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\taddAdditionalAttributes(element, matchingAttribute);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Then look for a prototype to add its properties\r\n\t\t\t\tvar Prototype = prototypeMap.get(element.type.toLowerCase());\r\n\r\n\t\t\t\tif (Prototype) {\r\n\t\t\t\t\t// Create the matching object and set the properties\r\n\t\t\t\t\tvar property = new Prototype(graph);\r\n\t\t\t\t\tproperty.annotations(element.annotations)\r\n\t\t\t\t\t\t.cardinality(element.cardinality)\r\n\t\t\t\t\t\t.comment(element.comment)\r\n\t\t\t\t\t\t.domain(element.domain)\r\n\t\t\t\t\t\t.description(element.description)\r\n\t\t\t\t\t\t.equivalents(element.equivalent)\r\n\t\t\t\t\t\t.id(element.id)\r\n\t\t\t\t\t\t.inverse(element.inverse)\r\n\t\t\t\t\t\t.label(element.label)\r\n\t\t\t\t\t\t.minCardinality(element.minCardinality)\r\n\t\t\t\t\t\t.maxCardinality(element.maxCardinality)\r\n\t\t\t\t\t\t.range(element.range)\r\n\t\t\t\t\t\t.subproperties(element.subproperty)\r\n\t\t\t\t\t\t.superproperties(element.superproperty)\r\n\t\t\t\t\t\t// .type(element.type) Ignore, because we predefined it\r\n\t\t\t\t\t\t.iri(element.iri);\r\n\r\n\t\t\t\t\tif (element.attributes) {\r\n\t\t\t\t\t\tvar deduplicatedAttributes = d3.set(element.attributes.concat(property.attributes()));\r\n\t\t\t\t\t\tproperty.attributes(deduplicatedAttributes.values());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcombinations.push(property);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error(\"Unknown element type: \" + element.type);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn combinations;\r\n\t}\r\n\r\n\tfunction createLowerCasePrototypeMap(prototypeMap) {\r\n\t\treturn d3.map(prototypeMap.values(), function (Prototype) {\r\n\t\t\treturn new Prototype().type().toLowerCase();\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Really dirty implementation of the range merging of equivalent Ids,\r\n\t * but this will be moved to the converter.\r\n\t * @param properties\r\n\t * @param nodes\r\n\t */\r\n\tfunction mergeRangesOfEquivalentProperties(properties, nodes) {\r\n\t\tvar backedUpNodes = nodes.slice(),\r\n\t\t\thiddenNodeIds = d3.set(),\r\n\t\t\ti, l, j, k,\r\n\t\t\tprefix = \"GENERATED-MERGED_RANGE-\";\r\n\r\n\t\t// clear the original array\r\n\t\tnodes.length = 0;\r\n\r\n\t\tfor (i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tvar property = properties[i],\r\n\t\t\t\tequivalents = property.equivalents();\r\n\r\n\t\t\tif (equivalents.length === 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// quickfix, because all equivalent properties have the equivalent attribute\r\n\t\t\tif (property.range().indexOf(prefix) === 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar mergedRange;\r\n\t\t\tif (elementTools.isDatatypeProperty(property)) {\r\n\t\t\t\tmergedRange = new RdfsLiteral(graph);\r\n\t\t\t} else {\r\n\t\t\t\tmergedRange = new OwlThing(graph);\r\n\t\t\t}\r\n\t\t\tmergedRange.id(prefix + property.id());\r\n\t\t\tnodes.push(mergedRange);\r\n\r\n\t\t\tvar hiddenNodeId = property.range();\r\n\t\t\tproperty.range(mergedRange.id());\r\n\r\n\t\t\tfor (j = 0, k = equivalents.length; j < k; j++) {\r\n\t\t\t\tvar equivalentId = equivalents[j],\r\n\t\t\t\t\tequivProperty = propertyMap[equivalentId];\r\n\r\n\t\t\t\tvar oldRange = equivProperty.range();\r\n\t\t\t\tequivProperty.range(mergedRange.id());\r\n\t\t\t\tif (!isDomainOrRangeOfOtherProperty(oldRange, properties)) {\r\n\t\t\t\t\thiddenNodeIds.add(oldRange);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// only merge if this property was the only connected one\r\n\t\t\tif (!isDomainOrRangeOfOtherProperty(hiddenNodeId, properties)) {\r\n\t\t\t\thiddenNodeIds.add(hiddenNodeId);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0, l = backedUpNodes.length; i < l; i++) {\r\n\t\t\tvar node = backedUpNodes[i];\r\n\r\n\t\t\tif (!hiddenNodeIds.has(node.id())) {\r\n\t\t\t\tnodes.push(node);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Create a map again\r\n\t\tclassMap = mapElements(nodes);\r\n\t}\r\n\r\n\tfunction isDomainOrRangeOfOtherProperty(nodeId, properties) {\r\n\t\tvar i, l;\r\n\r\n\t\tfor (i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tvar property = properties[i];\r\n\t\t\tif (property.domain() === nodeId || property.range() === nodeId) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * Checks all attributes which have to be rewritten.\r\n\t * For example:\r\n\t * <b>equivalent</b> is filled with only ID's of the corresponding nodes. It would be better to used the\r\n\t * object instead of the ID so we swap the ID's with the correct object reference and can delete it from drawing\r\n\t * because it is not necessary.\r\n\t */\r\n\tfunction createNodeStructure(rawNodes, classMap) {\r\n\t\tvar nodes = [];\r\n\r\n\t\t// Set the default values\r\n\t\tvar maxIndividualCount = 0;\r\n\t\trawNodes.forEach(function (node) {\r\n\t\t\tmaxIndividualCount = Math.max(maxIndividualCount, node.individuals().length);\r\n\t\t\tnode.visible(true);\r\n\t\t});\r\n\r\n\t\trawNodes.forEach(function (node) {\r\n\t\t\t// Merge and connect the equivalent nodes\r\n\t\t\tprocessEquivalentIds(node, classMap);\r\n\r\n\t\t\tattributeParser.parseClassAttributes(node);\r\n\r\n\t\t\tnode.maxIndividualCount(maxIndividualCount);\r\n\t\t});\r\n\r\n\t\t// Collect all nodes that should be displayed\r\n\t\trawNodes.forEach(function (node) {\r\n\t\t\tif (node.visible()) {\r\n\t\t\t\tnodes.push(node);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn nodes;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the disjoint attribute of the nodes if a disjoint label is found.\r\n\t * @param property\r\n\t */\r\n\tfunction processDisjoints(property) {\r\n\t\tif (property instanceof OwlDisjointWith === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar domain = property.domain(),\r\n\t\t\trange = property.range();\r\n\r\n\t\t// Check the domain.\r\n\t\tif (!domain.disjointWith()) {\r\n\t\t\tdomain.disjointWith([]);\r\n\t\t}\r\n\r\n\t\t// Check the range.\r\n\t\tif (!range.disjointWith()) {\r\n\t\t\trange.disjointWith([]);\r\n\t\t}\r\n\r\n\t\tdomain.disjointWith().push(property.range());\r\n\t\trange.disjointWith().push(property.domain());\r\n\t}\r\n\r\n\t/**\r\n\t * Connect all properties and also their sub- and superproperties.\r\n\t * We iterate over the rawProperties array because it is way faster than iterating\r\n\t * over an object and its attributes.\r\n\t *\r\n\t * @param rawProperties the properties\r\n\t * @param classMap a map of all classes\r\n\t * @param propertyMap the properties in a map\r\n\t */\r\n\tfunction createPropertyStructure(rawProperties, classMap, propertyMap) {\r\n\t\tvar properties = [];\r\n\r\n\t\t// Set default values\r\n\t\trawProperties.forEach(function (property) {\r\n\t\t\tproperty.visible(true);\r\n\t\t});\r\n\r\n\t\t// Connect properties\r\n\t\trawProperties.forEach(function (property) {\r\n\t\t\tvar domain,\r\n\t\t\t\trange,\r\n\t\t\t\tdomainObject,\r\n\t\t\t\trangeObject,\r\n\t\t\t\tinverse;\r\n\r\n\t\t\t/* Skip properties that have no information about their domain and range, like\r\n\t\t\t inverse properties with optional inverse and optional domain and range attributes */\r\n\t\t\tif ((property.domain() && property.range()) || property.inverse()) {\r\n\r\n\t\t\t\tvar inversePropertyId = findId(property.inverse());\r\n\t\t\t\t// Look if an inverse property exists\r\n\t\t\t\tif (inversePropertyId) {\r\n\t\t\t\t\tinverse = propertyMap[inversePropertyId];\r\n\t\t\t\t\tif (!inverse) {\r\n\t\t\t\t\t\tconsole.warn(\"No inverse property was found for id: \" + inversePropertyId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Either domain and range are set on this property or at the inverse\r\n\t\t\t\tif (typeof property.domain() !== \"undefined\" && typeof property.range() !== \"undefined\") {\r\n\t\t\t\t\tdomain = findId(property.domain());\r\n\t\t\t\t\trange = findId(property.range());\r\n\r\n\t\t\t\t\tdomainObject = classMap[domain];\r\n\t\t\t\t\trangeObject = classMap[range];\r\n\t\t\t\t} else if (inverse) {\r\n\t\t\t\t\t// Domain and range need to be switched\r\n\t\t\t\t\tdomain = findId(inverse.range());\r\n\t\t\t\t\trange = findId(inverse.domain());\r\n\r\n\t\t\t\t\tdomainObject = classMap[domain];\r\n\t\t\t\t\trangeObject = classMap[range];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Domain and range not found for property: \" + property.id());\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set the references on this property\r\n\t\t\t\tproperty.domain(domainObject);\r\n\t\t\t\tproperty.range(rangeObject);\r\n\r\n\t\t\t\t// Also set the attributes of the inverse property\r\n\t\t\t\tif (inverse) {\r\n\t\t\t\t\tproperty.inverse(inverse);\r\n\t\t\t\t\tinverse.inverse(property);\r\n\r\n\t\t\t\t\t// Switch domain and range\r\n\t\t\t\t\tinverse.domain(rangeObject);\r\n\t\t\t\t\tinverse.range(domainObject);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Reference sub- and superproperties\r\n\t\t\treferenceSubOrSuperProperties(property.subproperties());\r\n\t\t\treferenceSubOrSuperProperties(property.superproperties());\r\n\t\t});\r\n\r\n\t\t// Merge equivalent properties and process disjoints.\r\n\t\trawProperties.forEach(function (property) {\r\n\t\t\tprocessEquivalentIds(property, propertyMap);\r\n\t\t\tprocessDisjoints(property);\r\n\r\n\t\t\tattributeParser.parsePropertyAttributes(property);\r\n\t\t});\r\n\r\n\t\t// Add additional information to the properties\r\n\t\trawProperties.forEach(function (property) {\r\n\r\n\t\t\t// Properties of merged classes should point to/from the visible equivalent class\r\n\t\t\tvar propertyWasRerouted = false;\r\n\t\t\tif (wasNodeMerged(property.domain())) {\r\n\t\t\t\tproperty.domain(property.domain().equivalentBase());\r\n\t\t\t\tpropertyWasRerouted = true;\r\n\t\t\t}\r\n\t\t\tif (wasNodeMerged(property.range())) {\r\n\t\t\t\tproperty.range(property.range().equivalentBase());\r\n\t\t\t\tpropertyWasRerouted = true;\r\n\t\t\t}\r\n\r\n\t\t\t// But there should not be two equal properties between the same domain and range\r\n\t\t\tvar equalProperty = getOtherEqualProperty(rawProperties, property);\r\n\t\t\tif (propertyWasRerouted && equalProperty) {\r\n\t\t\t\tproperty.visible(false);\r\n\r\n\t\t\t\tequalProperty.redundantProperties().push(property);\r\n\t\t\t}\r\n\r\n\t\t\t// Hide property if source or target node is hidden\r\n\t\t\tif (!property.domain().visible() || !property.range().visible()) {\r\n\t\t\t\tproperty.visible(false);\r\n\t\t\t}\r\n\r\n\t\t\t// Collect all properties that should be displayed\r\n\t\t\tif (property.visible()) {\r\n\t\t\t\tproperties.push(property);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn properties;\r\n\t}\r\n\r\n\tfunction referenceSubOrSuperProperties(subOrSuperPropertiesArray) {\r\n\t\tvar i, l;\r\n\r\n\t\tif (!subOrSuperPropertiesArray) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, l = subOrSuperPropertiesArray.length; i < l; ++i) {\r\n\t\t\tvar subOrSuperPropertyId = findId(subOrSuperPropertiesArray[i]);\r\n\t\t\tvar subOrSuperProperty = propertyMap[subOrSuperPropertyId];\r\n\r\n\t\t\tif (subOrSuperProperty) {\r\n\t\t\t\t// Replace id with object\r\n\t\t\t\tsubOrSuperPropertiesArray[i] = subOrSuperProperty;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"No sub-/superproperty was found for id: \" + subOrSuperPropertyId);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction wasNodeMerged(node) {\r\n\t\treturn !node.visible() && node.equivalentBase();\r\n\t}\r\n\r\n\tfunction getOtherEqualProperty(properties, referenceProperty) {\r\n\t\tvar i, l, property;\r\n\r\n\t\tfor (i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tproperty = properties[i];\r\n\r\n\t\t\tif (referenceProperty === property) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (referenceProperty.domain() !== property.domain() ||\r\n\t\t\t\treferenceProperty.range() !== property.range()) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Check for an equal IRI, if non existent compare label and type\r\n\t\t\tif (referenceProperty.iri() && property.iri()) {\r\n\t\t\t\tif (referenceProperty.iri() === property.iri()) {\r\n\t\t\t\t\treturn property;\r\n\t\t\t\t}\r\n\t\t\t} else if (referenceProperty.type() === property.type() &&\r\n\t\t\t\treferenceProperty.defaultLabel() === property.defaultLabel()) {\r\n\t\t\t\treturn property;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t/**\r\n\t * Generates and adds properties for links to set operators.\r\n\t * @param classes unprocessed classes\r\n\t * @param properties unprocessed properties\r\n\t */\r\n\tfunction addSetOperatorProperties(classes, properties) {\r\n\t\tfunction addProperties(domainId, rangeIds, operatorType) {\r\n\t\t\tif (!rangeIds) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\trangeIds.forEach(function (rangeId, index) {\r\n\t\t\t\tvar property = {\r\n\t\t\t\t\tid: \"GENERATED-\" + operatorType + \"-\" + domainId + \"-\" + rangeId + \"-\" + index,\r\n\t\t\t\t\ttype: \"setOperatorProperty\",\r\n\t\t\t\t\tdomain: domainId,\r\n\t\t\t\t\trange: rangeId\r\n\t\t\t\t};\r\n\r\n\t\t\t\tproperties.push(property);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tclasses.forEach(function (clss) {\r\n\t\t\taddProperties(clss.id(), clss.complement(), \"COMPLEMENT\");\r\n\t\t\taddProperties(clss.id(), clss.intersection(), \"INTERSECTION\");\r\n\t\t\taddProperties(clss.id(), clss.union(), \"UNION\");\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Replaces the ids of equivalent nodes/properties with the matching objects, cross references them\r\n\t * and tags them as processed.\r\n\t * @param element a node or a property\r\n\t * @param elementMap a map where nodes/properties can be looked up\r\n\t */\r\n\tfunction processEquivalentIds(element, elementMap) {\r\n\t\tvar eqIds = element.equivalents();\r\n\r\n\t\tif (!eqIds || element.equivalentBase()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Replace ids with the corresponding objects\r\n\t\tfor (var i = 0, l = eqIds.length; i < l; ++i) {\r\n\t\t\tvar eqId = findId(eqIds[i]);\r\n\t\t\tvar eqObject = elementMap[eqId];\r\n\r\n\t\t\tif (eqObject) {\r\n\t\t\t\t// Cross reference both objects\r\n\t\t\t\teqObject.equivalents(eqObject.equivalents());\r\n\t\t\t\teqObject.equivalents().push(element);\r\n\t\t\t\teqObject.equivalentBase(element);\r\n\t\t\t\teqIds[i] = eqObject;\r\n\r\n\t\t\t\t// Hide other equivalent nodes\r\n\t\t\t\teqObject.visible(false);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.warn(\"No class/property was found for equivalent id: \" + eqId);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Tries to convert the type to an iri and sets it.\r\n\t * @param elements classes or properties\r\n\t * @param namespaces an array of namespaces\r\n\t */\r\n\tfunction convertTypesToIris(elements, namespaces) {\r\n\t\telements.forEach(function (element) {\r\n\t\t\tif (typeof element.iri() === \"string\") {\r\n\t\t\t\telement.iri(replaceNamespace(element.iri(), namespaces));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a map by mapping the array with the passed function.\r\n\t * @param array the array\r\n\t * @returns {{}}\r\n\t */\r\n\tfunction mapElements(array) {\r\n\t\tvar map = {};\r\n\t\tfor (var i = 0, length = array.length; i < length; i++) {\r\n\t\t\tvar element = array[i];\r\n\t\t\tmap[element.id()] = element;\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the attributes of the additional object to the base object, but doesn't\r\n\t * overwrite existing ones.\r\n\t *\r\n\t * @param base the base object\r\n\t * @param addition the object with additional data\r\n\t * @returns the combination is also returned\r\n\t */\r\n\tfunction addAdditionalAttributes(base, addition) {\r\n\t\t// Check for an undefined value\r\n\t\taddition = addition || {};\r\n\r\n\t\tfor (var addAttribute in addition) {\r\n\t\t\t// Add the attribute if it doesn't exist\r\n\t\t\tif (!(addAttribute in base) && addition.hasOwnProperty(addAttribute)) {\r\n\t\t\t\tbase[addAttribute] = addition[addAttribute];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn base;\r\n\t}\r\n\r\n\t/**\r\n\t * Replaces the namespace (and the separator) if one exists and returns the new value.\r\n\t * @param address the address with a namespace in it\r\n\t * @param namespaces an array of namespaces\r\n\t * @returns {string} the processed address with the (possibly) replaced namespace\r\n\t */\r\n\tfunction replaceNamespace(address, namespaces) {\r\n\t\tvar separatorIndex = address.indexOf(\":\");\r\n\t\tif (separatorIndex === -1) {\r\n\t\t\treturn address;\r\n\t\t}\r\n\r\n\t\tvar namespaceName = address.substring(0, separatorIndex);\r\n\r\n\t\tfor (var i = 0, length = namespaces.length; i < length; ++i) {\r\n\t\t\tvar namespace = namespaces[i];\r\n\t\t\tif (namespaceName === namespace.name) {\r\n\t\t\t\treturn namespace.iri + address.substring(separatorIndex + 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn address;\r\n\t}\r\n\r\n\t/**\r\n\t * Looks whether the passed object is already the id or if it was replaced\r\n\t * with the object that belongs to the id.\r\n\t * @param object an id, a class or a property\r\n\t * @returns {string} the id of the passed object or undefined\r\n\t */\r\n\tfunction findId(object) {\r\n\t\tif (!object) {\r\n\t\t\treturn undefined;\r\n\t\t} else if (typeof object === \"string\") {\r\n\t\t\treturn object;\r\n\t\t} else if (\"id\" in object) {\r\n\t\t\treturn object.id();\r\n\t\t} else {\r\n\t\t\tconsole.warn(\"No Id was found for this object: \" + object);\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\t}\r\n\r\n\treturn parser;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/parser.js\n ** module id = 56\n ** module chunks = 0\n **/","/**\r\n * Parses the attributes an element has and sets the corresponding attributes.\r\n * @returns {Function}\r\n */\r\nmodule.exports = (function () {\r\n\tvar attributeParser = {},\r\n\t// Style\r\n\t\tDEPRECATED = \"deprecated\",\r\n\t\tEXTERNAL = \"external\",\r\n\t\tDATATYPE = \"datatype\",\r\n\t\tOBJECT = \"object\",\r\n\t\tRDF = \"rdf\",\r\n\t// Representations\r\n\t\tFUNCTIONAL = \"functional\",\r\n\t\tINVERSE_FUNCTIONAL = \"inverse functional\",\r\n\t\tTRANSITIVE = \"transitive\",\r\n\t\tSYMMETRIC = \"symmetric\";\r\n\r\n\t/**\r\n\t * Parses and sets the attributes of a class.\r\n\t * @param clazz\r\n\t */\r\n\tattributeParser.parseClassAttributes = function (clazz) {\r\n\t\tif (!(clazz.attributes() instanceof Array)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparseVisualAttributes(clazz);\r\n\t\tparseClassIndications(clazz);\r\n\t};\r\n\r\n\tfunction parseVisualAttributes(element) {\r\n\t\tvar orderedAttributes = [DEPRECATED, EXTERNAL, DATATYPE, OBJECT, RDF],\r\n\t\t\ti, l, attribute;\r\n\r\n\t\tfor (i = 0, l = orderedAttributes.length; i < l; i++) {\r\n\t\t\tattribute = orderedAttributes[i];\r\n\t\t\tif (element.attributes().indexOf(attribute) >= 0) {\r\n\t\t\t\telement.visualAttribute(attribute);\r\n\r\n\t\t\t\t// Just a single attribute is possible\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction parseClassIndications(clazz) {\r\n\t\tvar indications = [DEPRECATED, EXTERNAL],\r\n\t\t\ti, l, indication;\r\n\r\n\t\tfor (i = 0, l = indications.length; i < l; i++) {\r\n\t\t\tindication = indications[i];\r\n\r\n\t\t\tif (clazz.attributes().indexOf(indication) >= 0) {\r\n\t\t\t\tclazz.indications().push(indication);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Parses and sets the attributes of a property.\r\n\t * @param property\r\n\t */\r\n\tattributeParser.parsePropertyAttributes = function (property) {\r\n\t\tif (!(property.attributes() instanceof Array)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tparseVisualAttributes(property);\r\n\t\tparsePropertyIndications(property);\r\n\t};\r\n\r\n\tfunction parsePropertyIndications(property) {\r\n\t\tvar indications = [FUNCTIONAL, INVERSE_FUNCTIONAL, SYMMETRIC, TRANSITIVE],\r\n\t\t\ti, l, indication;\r\n\r\n\t\tfor (i = 0, l = indications.length; i < l; i++) {\r\n\t\t\tindication = indications[i];\r\n\r\n\t\t\tif (property.attributes().indexOf(indication) >= 0) {\r\n\t\t\t\tproperty.indications().push(indication);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn function () {\r\n\t\t// Return a function to keep module interfaces consistent\r\n\t\treturn attributeParser;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/parsing/attributeParser.js\n ** module id = 57\n ** module chunks = 0\n **/","/**\r\n * This module abuses the filter function a bit like the statistics module. Nothing is filtered.\r\n *\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph) {\r\n\r\n\tvar DEFAULT_STATE = false;\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tenabled = DEFAULT_STATE,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties;\r\n\r\n\r\n\t/**\r\n\t * If enabled, redundant details won't be drawn anymore.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tgraph.options().compactNotation(enabled);\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\tfilter.reset = function () {\r\n\t\tenabled = DEFAULT_STATE;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/compactNotationSwitch.js\n ** module id = 58\n ** module chunks = 0\n **/","var elementTools = require(\"../util/elementTools\")();\r\nvar filterTools = require(\"../util/filterTools\")();\r\n\r\nmodule.exports = function () {\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tenabled = false,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties;\r\n\r\n\r\n\t/**\r\n\t * If enabled, all datatypes and literals including connected properties are filtered.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tif (this.enabled()) {\r\n\t\t\tremoveDatatypesAndLiterals();\r\n\t\t}\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfunction removeDatatypesAndLiterals() {\r\n\t\tvar filteredData = filterTools.filterNodesAndTidy(nodes, properties, isNoDatatypeOrLiteral);\r\n\r\n\t\tnodes = filteredData.nodes;\r\n\t\tproperties = filteredData.properties;\r\n\t}\r\n\r\n\tfunction isNoDatatypeOrLiteral(node) {\r\n\t\treturn !elementTools.isDatatype(node);\r\n\t}\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/datatypeFilter.js\n ** module id = 59\n ** module chunks = 0\n **/","var elementTools = require(\"./elementTools\")();\r\n\r\nmodule.exports = (function () {\r\n\r\n\tvar tools = {};\r\n\r\n\t/**\r\n\t * Filters the passed nodes and removes dangling properties.\r\n\t * @param nodes\r\n\t * @param properties\r\n\t * @param shouldKeepNode function that returns true if the node should be kept\r\n\t * @returns {{nodes: Array, properties: Array}} the filtered nodes and properties\r\n\t */\r\n\ttools.filterNodesAndTidy = function (nodes, properties, shouldKeepNode) {\r\n\t\tvar removedNodes = require(\"./set\")(),\r\n\t\t\tcleanedNodes = [],\r\n\t\t\tcleanedProperties = [];\r\n\r\n\t\tnodes.forEach(function (node) {\r\n\t\t\tif (shouldKeepNode(node)) {\r\n\t\t\t\tcleanedNodes.push(node);\r\n\t\t\t} else {\r\n\t\t\t\tremovedNodes.add(node);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tproperties.forEach(function (property) {\r\n\t\t\tif (propertyHasVisibleNodes(removedNodes, property)) {\r\n\t\t\t\tcleanedProperties.push(property);\r\n\t\t\t} else if (elementTools.isDatatypeProperty(property)) {\r\n\t\t\t\t// Remove floating datatypes/literals, because they belong to their datatype property\r\n\t\t\t\tvar index = cleanedNodes.indexOf(property.range());\r\n\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\tcleanedNodes.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tnodes: cleanedNodes,\r\n\t\t\tproperties: cleanedProperties\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true, if the domain and the range of this property have not been removed.\r\n\t * @param removedNodes\r\n\t * @param property\r\n\t * @returns {boolean} true if property isn't dangling\r\n\t */\r\n\tfunction propertyHasVisibleNodes(removedNodes, property) {\r\n\t\treturn !removedNodes.has(property.domain()) && !removedNodes.has(property.range());\r\n\t}\r\n\r\n\r\n\treturn function () {\r\n\t\treturn tools;\r\n\t};\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/util/filterTools.js\n ** module id = 60\n ** module chunks = 0\n **/","var OwlDisjointWith = require(\"../elements/properties/implementations/OwlDisjointWith\");\r\n\r\nmodule.exports = function () {\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t// According to the specification enabled by default\r\n\t\tenabled = true,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties;\r\n\r\n\r\n\t/**\r\n\t * If enabled, all disjoint with properties are filtered.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tif (this.enabled()) {\r\n\t\t\tremoveDisjointWithProperties();\r\n\t\t}\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfunction removeDisjointWithProperties() {\r\n\t\tvar cleanedProperties = [],\r\n\t\t\ti, l, property;\r\n\r\n\t\tfor (i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tproperty = properties[i];\r\n\r\n\t\t\tif (!(property instanceof OwlDisjointWith)) {\r\n\t\t\t\tcleanedProperties.push(property);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tproperties = cleanedProperties;\r\n\t}\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/disjointFilter.js\n ** module id = 61\n ** module chunks = 0\n **/","module.exports = function () {\r\n\tvar focuser = {},\r\n\t\tfocusedElement;\r\n\r\n\tfocuser.handle = function (selectedElement) {\r\n\t\t// Don't display details on a drag event, which will be prevented\r\n\t\tif (d3.event.defaultPrevented) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (focusedElement !== undefined) {\r\n\t\t\tfocusedElement.toggleFocus();\r\n\t\t}\r\n\r\n\t\tif (focusedElement !== selectedElement) {\r\n\t\t\tselectedElement.toggleFocus();\r\n\t\t\tfocusedElement = selectedElement;\r\n\t\t} else {\r\n\t\t\tfocusedElement = undefined;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Removes the focus if an element is focussed.\r\n\t */\r\n\tfocuser.reset = function () {\r\n\t\tif (focusedElement) {\r\n\t\t\tfocusedElement.toggleFocus();\r\n\t\t\tfocusedElement = undefined;\r\n\t\t}\r\n\t};\r\n\r\n\treturn focuser;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/focuser.js\n ** module id = 62\n ** module chunks = 0\n **/","var elementTools = require(\"../util/elementTools\")();\r\nvar filterTools = require(\"../util/filterTools\")();\r\n\r\nmodule.exports = function () {\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tenabled = true,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties,\r\n\t\tmaxDegreeSetter,\r\n\t\tdegreeQueryFunction;\r\n\r\n\r\n\t/**\r\n\t * If enabled, all nodes are filter by their node degree.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tsetMaxLinkCount();\r\n\r\n\t\tif (this.enabled()) {\r\n\t\t\tif (degreeQueryFunction instanceof Function) {\r\n\t\t\t\tfilterByNodeDegree(degreeQueryFunction());\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(\"No degree query function set.\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfunction setMaxLinkCount() {\r\n\t\tvar maxLinkCount = 0;\r\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\r\n\t\t\tvar linksWithoutDatatypes = filterOutDatatypes(nodes[i].links());\r\n\r\n\t\t\tmaxLinkCount = Math.max(maxLinkCount, linksWithoutDatatypes.length);\r\n\t\t}\r\n\r\n\t\tif (maxDegreeSetter instanceof Function) {\r\n\t\t\tmaxDegreeSetter(maxLinkCount);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction filterOutDatatypes(links) {\r\n\t\treturn links.filter(function (link) {\r\n\t\t\treturn !elementTools.isDatatypeProperty(link.property());\r\n\t\t});\r\n\t}\r\n\r\n\tfunction filterByNodeDegree(minDegree) {\r\n\t\tvar filteredData = filterTools.filterNodesAndTidy(nodes, properties, hasRequiredDegree(minDegree));\r\n\r\n\t\tnodes = filteredData.nodes;\r\n\t\tproperties = filteredData.properties;\r\n\t}\r\n\r\n\tfunction hasRequiredDegree(minDegree) {\r\n\t\treturn function (node) {\r\n\t\t\treturn filterOutDatatypes(node.links()).length >= minDegree;\r\n\t\t};\r\n\t}\r\n\r\n\tfilter.setMaxDegreeSetter = function (maxNodeDegreeSetter) {\r\n\t\tmaxDegreeSetter = maxNodeDegreeSetter;\r\n\t};\r\n\r\n\tfilter.setDegreeQueryFunction = function (nodeDegreeQueryFunction) {\r\n\t\tdegreeQueryFunction = nodeDegreeQueryFunction;\r\n\t};\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/nodeDegreeFilter.js\n ** module id = 63\n ** module chunks = 0\n **/","/**\r\n * This module abuses the filter function a bit like the statistics module. Nothing is filtered.\r\n *\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph) {\r\n\r\n\tvar DEFAULT_STATE = true;\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tenabled = DEFAULT_STATE,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties;\r\n\r\n\r\n\t/**\r\n\t * If enabled, the scaling of nodes according to individuals will be enabled.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tgraph.options().scaleNodesByIndividuals(enabled);\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\tfilter.reset = function () {\r\n\t\tenabled = DEFAULT_STATE;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/nodeScalingSwitch.js\n ** module id = 64\n ** module chunks = 0\n **/","var elementTools = require(\"../util/elementTools\")();\r\n\r\nmodule.exports = function () {\r\n\tvar pap = {},\r\n\t\tenabled = false,\r\n\t\tpinnedNodes = [];\r\n\r\n\tpap.handle = function (selectedElement) {\r\n\t\tif (!enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!elementTools.isDatatype(selectedElement) && !selectedElement.pinned()) {\r\n\t\t\tselectedElement.drawPin();\r\n\t\t\tpinnedNodes.push(selectedElement);\r\n\t\t}\r\n\t};\r\n\r\n\tpap.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn pap;\r\n\t};\r\n\r\n\tpap.reset = function () {\r\n\t\tvar i = 0, l = pinnedNodes.length;\r\n\t\tfor (; i < l; i++) {\r\n\t\t\tpinnedNodes[i].removePin();\r\n\t\t}\r\n\t\t// Clear the array of stored nodes\r\n\t\tpinnedNodes.length = 0;\r\n\t};\r\n\r\n\treturn pap;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/pickAndPin.js\n ** module id = 65\n ** module chunks = 0\n **/","module.exports = function (handlerFunction) {\r\n\tvar viewer = {},\r\n\t\tlastSelectedElement;\r\n\r\n\tviewer.handle = function (selectedElement) {\r\n\t\t// Don't display details on a drag event, which will be prevented\r\n\t\tif (d3.event.defaultPrevented) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar isSelection = true;\r\n\r\n\t\t// Deselection of the focused element\r\n\t\tif (lastSelectedElement === selectedElement) {\r\n\t\t\tisSelection = false;\r\n\t\t}\r\n\r\n\t\tif (handlerFunction instanceof Function) {\r\n\t\t\tif (isSelection) {\r\n\t\t\t\thandlerFunction(selectedElement);\r\n\t\t\t} else {\r\n\t\t\t\thandlerFunction(undefined);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isSelection) {\r\n\t\t\tlastSelectedElement = selectedElement;\r\n\t\t} else {\r\n\t\t\tlastSelectedElement = undefined;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Resets the displayed information to its default.\r\n\t */\r\n\tviewer.reset = function () {\r\n\t\tif (lastSelectedElement) {\r\n\t\t\thandlerFunction(undefined);\r\n\t\t\tlastSelectedElement = undefined;\r\n\t\t}\r\n\t};\r\n\r\n\treturn viewer;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/selectionDetailsDisplayer.js\n ** module id = 66\n ** module chunks = 0\n **/","var SetOperatorNode = require(\"../elements/nodes/SetOperatorNode\");\r\n\r\nmodule.exports = function () {\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tenabled = false,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties,\r\n\t\tfilterTools = require(\"../util/filterTools\")();\r\n\r\n\r\n\t/**\r\n\t * If enabled, all set operators including connected properties are filtered.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tif (this.enabled()) {\r\n\t\t\tremoveSetOperators();\r\n\t\t}\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfunction removeSetOperators() {\r\n\t\tvar filteredData = filterTools.filterNodesAndTidy(nodes, properties, isNoSetOperator);\r\n\r\n\t\tnodes = filteredData.nodes;\r\n\t\tproperties = filteredData.properties;\r\n\t}\r\n\r\n\tfunction isNoSetOperator(node) {\r\n\t\treturn !(node instanceof SetOperatorNode);\r\n\t}\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/setOperatorFilter.js\n ** module id = 67\n ** module chunks = 0\n **/","var SetOperatorNode = require(\"../elements/nodes/SetOperatorNode\");\r\nvar OwlThing = require(\"../elements/nodes/implementations/OwlThing\");\r\nvar OwlNothing = require(\"../elements/nodes/implementations/OwlNothing\");\r\nvar elementTools = require(\"../util/elementTools\")();\r\n\r\nmodule.exports = function () {\r\n\r\n\tvar statistics = {},\r\n\t\tnodeCount,\r\n\t\toccurencesOfClassAndDatatypeTypes = {},\r\n\t\tedgeCount,\r\n\t\toccurencesOfPropertyTypes = {},\r\n\t\tclassCount,\r\n\t\tdatatypeCount,\r\n\t\tdatatypePropertyCount,\r\n\t\tobjectPropertyCount,\r\n\t\tpropertyCount,\r\n\t\ttotalIndividualCount,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties;\r\n\r\n\r\n\tstatistics.filter = function (classesAndDatatypes, properties) {\r\n\t\tresetStoredData();\r\n\r\n\t\tstoreTotalCounts(classesAndDatatypes, properties);\r\n\t\tstoreClassAndDatatypeCount(classesAndDatatypes);\r\n\t\tstorePropertyCount(properties);\r\n\r\n\t\tstoreOccurencesOfTypes(classesAndDatatypes, occurencesOfClassAndDatatypeTypes);\r\n\t\tstoreOccurencesOfTypes(properties, occurencesOfPropertyTypes);\r\n\r\n\t\tstoreTotalIndividualCount(classesAndDatatypes);\r\n\r\n\t\tfilteredNodes = classesAndDatatypes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfunction resetStoredData() {\r\n\t\tnodeCount = 0;\r\n\t\tedgeCount = 0;\r\n\t\tclassCount = 0;\r\n\t\tdatatypeCount = 0;\r\n\t\tdatatypePropertyCount = 0;\r\n\t\tobjectPropertyCount = 0;\r\n\t\tpropertyCount = 0;\r\n\t\ttotalIndividualCount = 0;\r\n\t}\r\n\r\n\tfunction storeTotalCounts(classesAndDatatypes, properties) {\r\n\t\tnodeCount = classesAndDatatypes.length;\r\n\r\n\t\tvar seenProperties = require(\"../util/set\")(), i, l, property;\r\n\t\tfor (i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tproperty = properties[i];\r\n\t\t\tif (!seenProperties.has(property)) {\r\n\t\t\t\tedgeCount += 1;\r\n\t\t\t}\r\n\r\n\t\t\tseenProperties.add(property);\r\n\t\t\tif (property.inverse()) {\r\n\t\t\t\tseenProperties.add(property.inverse());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction storeClassAndDatatypeCount(classesAndDatatypes) {\r\n\t\t// Each datatype should be counted just a single time\r\n\t\tvar datatypeSet = d3.set(),\r\n\t\t\thasThing = false,\r\n\t\t\thasNothing = false;\r\n\r\n\t\tclassesAndDatatypes.forEach(function (node) {\r\n\t\t\tif (elementTools.isDatatype(node)) {\r\n\t\t\t\tdatatypeSet.add(node.defaultLabel());\r\n\t\t\t} else if (!(node instanceof SetOperatorNode)) {\r\n\t\t\t\tif (node instanceof OwlThing) {\r\n\t\t\t\t\thasThing = true;\r\n\t\t\t\t} else if (node instanceof OwlNothing) {\r\n\t\t\t\t\thasNothing = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclassCount += 1;\r\n\t\t\t\t\tclassCount += countElementArray(node.equivalents());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// count things and nothings just a single time\r\n\t\tclassCount += hasThing ? 1 : 0;\r\n\t\tclassCount += hasNothing ? 1 : 0;\r\n\r\n\t\tdatatypeCount = datatypeSet.size();\r\n\t}\r\n\r\n\tfunction storePropertyCount(properties) {\r\n\t\tfor (var i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tvar property = properties[i];\r\n\r\n\t\t\tif (elementTools.isObjectProperty(property)) {\r\n\t\t\t\tobjectPropertyCount += getExtendedPropertyCount(property);\r\n\t\t\t} else if (elementTools.isDatatypeProperty(properties)) {\r\n\t\t\t\tdatatypePropertyCount += getExtendedPropertyCount(property);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpropertyCount = objectPropertyCount + datatypePropertyCount;\r\n\t}\r\n\r\n\tfunction getExtendedPropertyCount(property) {\r\n\t\t// count the property itself\r\n\t\tvar count = 1;\r\n\r\n\t\t// and count properties this property represents\r\n\t\tcount += countElementArray(property.equivalents());\r\n\t\tcount += countElementArray(property.redundantProperties());\r\n\r\n\t\treturn count;\r\n\t}\r\n\r\n\tfunction countElementArray(properties) {\r\n\t\tif (properties) {\r\n\t\t\treturn properties.length;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfunction storeOccurencesOfTypes(elements, storage) {\r\n\t\telements.forEach(function (element) {\r\n\t\t\tvar type = element.type(),\r\n\t\t\t\ttypeCount = storage[type];\r\n\r\n\t\t\tif (typeof typeCount === \"undefined\") {\r\n\t\t\t\ttypeCount = 0;\r\n\t\t\t} else {\r\n\t\t\t\ttypeCount += 1;\r\n\t\t\t}\r\n\t\t\tstorage[type] = typeCount;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction storeTotalIndividualCount(nodes) {\r\n\t\tvar totalCount = 0;\r\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\r\n\t\t\ttotalCount += nodes[i].individuals().length || 0;\r\n\t\t}\r\n\t\ttotalIndividualCount = totalCount;\r\n\t}\r\n\r\n\r\n\tstatistics.nodeCount = function () {\r\n\t\treturn nodeCount;\r\n\t};\r\n\r\n\tstatistics.occurencesOfClassAndDatatypeTypes = function () {\r\n\t\treturn occurencesOfClassAndDatatypeTypes;\r\n\t};\r\n\r\n\tstatistics.edgeCount = function () {\r\n\t\treturn edgeCount;\r\n\t};\r\n\r\n\tstatistics.occurencesOfPropertyTypes = function () {\r\n\t\treturn occurencesOfPropertyTypes;\r\n\t};\r\n\r\n\tstatistics.classCount = function () {\r\n\t\treturn classCount;\r\n\t};\r\n\r\n\tstatistics.datatypeCount = function () {\r\n\t\treturn datatypeCount;\r\n\t};\r\n\r\n\tstatistics.datatypePropertyCount = function () {\r\n\t\treturn datatypePropertyCount;\r\n\t};\r\n\r\n\tstatistics.objectPropertyCount = function () {\r\n\t\treturn objectPropertyCount;\r\n\t};\r\n\r\n\tstatistics.propertyCount = function () {\r\n\t\treturn propertyCount;\r\n\t};\r\n\r\n\tstatistics.totalIndividualCount = function () {\r\n\t\treturn totalIndividualCount;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tstatistics.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tstatistics.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn statistics;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/statistics.js\n ** module id = 68\n ** module chunks = 0\n **/","var elementTools = require(\"../util/elementTools\")();\r\n\r\nmodule.exports = function () {\r\n\r\n\tvar filter = {},\r\n\t\tnodes,\r\n\t\tproperties,\r\n\t\tenabled = false,\r\n\t\tfilteredNodes,\r\n\t\tfilteredProperties;\r\n\r\n\r\n\t/**\r\n\t * If enabled subclasses that have only subclass properties are filtered.\r\n\t * @param untouchedNodes\r\n\t * @param untouchedProperties\r\n\t */\r\n\tfilter.filter = function (untouchedNodes, untouchedProperties) {\r\n\t\tnodes = untouchedNodes;\r\n\t\tproperties = untouchedProperties;\r\n\r\n\t\tif (this.enabled()) {\r\n\t\t\thideSubclassesWithoutOwnProperties();\r\n\t\t}\r\n\r\n\t\tfilteredNodes = nodes;\r\n\t\tfilteredProperties = properties;\r\n\t};\r\n\r\n\tfunction hideSubclassesWithoutOwnProperties() {\r\n\t\tvar unneededProperties = [],\r\n\t\t\tunneededClasses = [],\r\n\t\t\tsubclasses = [],\r\n\t\t\tconnectedProperties,\r\n\t\t\tsubclass,\r\n\t\t\tproperty,\r\n\t\t\ti, // index,\r\n\t\t\tl; // length\r\n\r\n\r\n\t\tfor (i = 0, l = properties.length; i < l; i++) {\r\n\t\t\tproperty = properties[i];\r\n\t\t\tif (elementTools.isRdfsSubClassOf(property)) {\r\n\t\t\t\tsubclasses.push(property.domain());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0, l = subclasses.length; i < l; i++) {\r\n\t\t\tsubclass = subclasses[i];\r\n\t\t\tconnectedProperties = findRelevantConnectedProperties(subclass, properties);\r\n\r\n\t\t\t// Only remove the node and its properties, if they're all subclassOf properties\r\n\t\t\tif (areOnlySubclassProperties(connectedProperties) &&\r\n\t\t\t\tdoesNotInheritFromMultipleClasses(subclass, connectedProperties)) {\r\n\r\n\t\t\t\tunneededProperties = unneededProperties.concat(connectedProperties);\r\n\t\t\t\tunneededClasses.push(subclass);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnodes = removeUnneededElements(nodes, unneededClasses);\r\n\t\tproperties = removeUnneededElements(properties, unneededProperties);\r\n\t}\r\n\r\n\t/**\r\n\t * Looks recursively for connected properties. Because just subclasses are relevant,\r\n\t * we just look recursively for their properties.\r\n\t *\r\n\t * @param node\r\n\t * @param allProperties\r\n\t * @param visitedNodes a visited nodes which is used on recursive invocation\r\n\t * @returns {Array}\r\n\t */\r\n\tfunction findRelevantConnectedProperties(node, allProperties, visitedNodes) {\r\n\t\tvar connectedProperties = [],\r\n\t\t\tproperty,\r\n\t\t\ti,\r\n\t\t\tl;\r\n\r\n\t\tfor (i = 0, l = allProperties.length; i < l; i++) {\r\n\t\t\tproperty = allProperties[i];\r\n\t\t\tif (property.domain() === node ||\r\n\t\t\t\tproperty.range() === node) {\r\n\r\n\t\t\t\tconnectedProperties.push(property);\r\n\r\n\r\n\t\t\t\t/* Special case: SuperClass <-(1) Subclass <-(2) Subclass ->(3) e.g. Datatype\r\n\t\t\t\t * We need to find the last property recursively. Otherwise, we would remove the subClassOf\r\n\t\t\t\t * property (1) because we didn't see the datatype property (3).\r\n\t\t\t\t */\r\n\r\n\t\t\t\t// Look only for subclass properties, because these are the relevant properties\r\n\t\t\t\tif (elementTools.isRdfsSubClassOf(property)) {\r\n\t\t\t\t\tvar domain = property.domain();\r\n\t\t\t\t\tvisitedNodes = visitedNodes || require(\"../util/set\")();\r\n\r\n\t\t\t\t\t// If we have the range, there might be a nested property on the domain\r\n\t\t\t\t\tif (node === property.range() && !visitedNodes.has(domain)) {\r\n\t\t\t\t\t\tvisitedNodes.add(domain);\r\n\t\t\t\t\t\tvar nestedConnectedProperties = findRelevantConnectedProperties(domain, allProperties, visitedNodes);\r\n\t\t\t\t\t\tconnectedProperties = connectedProperties.concat(nestedConnectedProperties);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn connectedProperties;\r\n\t}\r\n\r\n\tfunction areOnlySubclassProperties(connectedProperties) {\r\n\t\tvar onlySubclassProperties = true,\r\n\t\t\tproperty,\r\n\t\t\ti,\r\n\t\t\tl;\r\n\r\n\t\tfor (i = 0, l = connectedProperties.length; i < l; i++) {\r\n\t\t\tproperty = connectedProperties[i];\r\n\r\n\t\t\tif (!elementTools.isRdfsSubClassOf(property)) {\r\n\t\t\t\tonlySubclassProperties = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn onlySubclassProperties;\r\n\t}\r\n\r\n\tfunction doesNotInheritFromMultipleClasses(subclass, connectedProperties) {\r\n\t\tvar superClassCount = 0;\r\n\r\n\t\tfor (var i = 0, l = connectedProperties.length; i < l; i++) {\r\n\t\t\tvar property = connectedProperties[i];\r\n\r\n\t\t\tif (property.domain() === subclass) {\r\n\t\t\t\tsuperClassCount += 1;\r\n\t\t\t}\r\n\r\n\t\t\tif (superClassCount > 1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction removeUnneededElements(array, removableElements) {\r\n\t\tvar disjoint = [],\r\n\t\t\telement,\r\n\t\t\ti,\r\n\t\t\tl;\r\n\r\n\t\tfor (i = 0, l = array.length; i < l; i++) {\r\n\t\t\telement = array[i];\r\n\t\t\tif (removableElements.indexOf(element) === -1) {\r\n\t\t\t\tdisjoint.push(element);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn disjoint;\r\n\t}\r\n\r\n\tfilter.enabled = function (p) {\r\n\t\tif (!arguments.length) return enabled;\r\n\t\tenabled = p;\r\n\t\treturn filter;\r\n\t};\r\n\r\n\r\n\t// Functions a filter must have\r\n\tfilter.filteredNodes = function () {\r\n\t\treturn filteredNodes;\r\n\t};\r\n\r\n\tfilter.filteredProperties = function () {\r\n\t\treturn filteredProperties;\r\n\t};\r\n\r\n\r\n\treturn filter;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webvowl/js/modules/subclassFilter.js\n ** module id = 69\n ** module chunks = 0\n **/"],"sourceRoot":""}