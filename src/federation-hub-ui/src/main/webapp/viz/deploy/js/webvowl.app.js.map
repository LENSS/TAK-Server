{"version":3,"sources":["webpack:///webpack/bootstrap 77ccdaf55732107f4077?5268","webpack:///./src/app/js/entry.js","webpack:///external \"d3\"?c0c4","webpack:///./src/app/css/toolstyle.css","webpack:///./src/app/js/browserWarning.js","webpack:///./src/app/js/app.js","webpack:///./src/app/js/sidebar.js","webpack:///./src/app/js/menu/exportMenu.js","webpack:///./src/app/js/menu/gravityMenu.js","webpack:///./src/app/js/menu/filterMenu.js","webpack:///./src/app/js/menu/modeMenu.js","webpack:///./src/app/js/menu/pauseMenu.js","webpack:///./src/app/js/menu/resetMenu.js","webpack:///./src/app/js/menu/ontologyMenu.js","webpack:///./src/app/data ^\\.\\/.*\\.json$","webpack:///./src/app/data/TranscomOntology.json","webpack:///./src/app/data/TranscomOntologySmall.json","webpack:///./src/app/data/benchmark.json","webpack:///./src/app/data/foaf.json","webpack:///./src/app/data/goodrelations.json","webpack:///./src/app/data/muto.json","webpack:///./src/app/data/ontovibe.json","webpack:///./src/app/data/personasonto.json","webpack:///./src/app/data/sioc.json","webpack:///./src/app/data/template.json"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;;;;;;;;;;;;ACHA,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,0C;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,GAAG,SAAS,GAAG;AAC9C;AACA;AACA;AACA,GAAE;AACF;AACA,wCAAuC,GAAG,SAAS,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACpCA;;AAEA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;AC7ZA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAW;AACX,iCAAgC;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,cAAa,gBAAgB;AAC7B;AACA;;AAEA;AACA;AACA,KAAI;AACJ,2CAA0C;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC;AAChC;AACA;AACA;;AAEA;AACA;;;;;;;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAqB;AACrB;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,mCAAmC;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;AACH;;;AAGA;AACA;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB,yDAAyD;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC;AACzC,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,+CAA+C;;AAE1D;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;;AAGA;AACA;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA,YAAW,cAAc;AACzB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;;AAGA;AACA;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yEAAwE,YAAY;AACpF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;ACxUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA,wG;;;;;;ACAA,6G;;;;;;ACAA,iG;;;;;;ACAA,4F;;;;;;ACAA,qG;;;;;;ACAA,4F;;;;;;ACAA,gG;;;;;;ACAA,oG;;;;;;ACAA,4F;;;;;;ACAA,gG","file":"js/webvowl.app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 77ccdaf55732107f4077\n **/","require(\"../css/toolstyle.css\");\r\nrequire(\"./browserWarning\");\r\n\r\nmodule.exports = require(\"./app\");\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/entry.js\n ** module id = 0\n ** module chunks = 1\n **/","module.exports = d3;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 6\n ** module chunks = 0 1\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/css/toolstyle.css\n ** module id = 70\n ** module chunks = 1\n **/","/* Taken from here: http://stackoverflow.com/a/17907562 */\r\nfunction getInternetExplorerVersion() {\r\n\tvar ua,\r\n\t\tre,\r\n\t\trv = -1;\r\n\tif (navigator.appName === \"Microsoft Internet Explorer\") {\r\n\t\tua = navigator.userAgent;\r\n\t\tre = new RegExp(\"MSIE ([0-9]{1,}[\\\\.0-9]{0,})\");\r\n\t\tif (re.exec(ua) !== null) {\r\n\t\t\trv = parseFloat(RegExp.$1);\r\n\t\t}\r\n\t} else if (navigator.appName === \"Netscape\") {\r\n\t\tua = navigator.userAgent;\r\n\t\tre = new RegExp(\"Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})\");\r\n\t\tif (re.exec(ua) !== null) {\r\n\t\t\trv = parseFloat(RegExp.$1);\r\n\t\t}\r\n\t}\r\n\treturn rv;\r\n}\r\n\r\nfunction showBrowserWarningIfRequired() {\r\n\tvar version = getInternetExplorerVersion();\r\n\tif (version > 0 && version <= 11) {\r\n\t\tdocument.write(\"<div id=\\\"browserCheck\\\">The WebVOWL demo does not work in Internet Explorer. Please use another browser, such as <a href=\\\"http://www.mozilla.org/firefox/\\\">Mozilla Firefox</a> or <a href=\\\"https://www.google.com/chrome/\\\">Google Chrome</a>, to run the WebVOWL demo.</div>\");\r\n\t\t// hiding any additional menus and features\r\n\t\tvar canvasArea = document.getElementById(\"canvasArea\"),\r\n\t\t\tdetailsArea = document.getElementById(\"detailsArea\"),\r\n\t\t\toptionsArea = document.getElementById(\"optionsArea\");\r\n\t\tcanvasArea.className = \"hidden\";\r\n\t\tdetailsArea.className = \"hidden\";\r\n\t\toptionsArea.className = \"hidden\";\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = showBrowserWarningIfRequired;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/browserWarning.js\n ** module id = 72\n ** module chunks = 1\n **/","module.exports = function () {\r\n\r\n\tvar app = {},\r\n\t\tgraph = webvowl.graph(),\r\n\t\toptions = graph.graphOptions(),\r\n\t\tlanguageTools = webvowl.util.languageTools(),\r\n\t\tgraphSelector = \"#graph\",\r\n\t// Modules for the webvowl app\r\n\t\tontologyMenu,\r\n\t\texportMenu,\r\n\t\tgravityMenu,\r\n\t\tfilterMenu,\r\n\t\tmodeMenu,\r\n\t\tresetMenu,\r\n\t\tpauseMenu,\r\n\t\tsidebar = require(\"./sidebar\")(graph),\r\n\t\tsetupableMenues,\r\n\t// Graph modules\r\n\t\tstatistics = webvowl.modules.statistics(),\r\n\t\tfocuser = webvowl.modules.focuser(),\r\n\t\tselectionDetailDisplayer = webvowl.modules.selectionDetailsDisplayer(sidebar.updateSelectionInformation),\r\n\t\tdatatypeFilter = webvowl.modules.datatypeFilter(),\r\n\t\tsubclassFilter = webvowl.modules.subclassFilter(),\r\n\t\tdisjointFilter = webvowl.modules.disjointFilter(),\r\n\t\tnodeDegreeFilter = webvowl.modules.nodeDegreeFilter(),\r\n\t\tsetOperatorFilter = webvowl.modules.setOperatorFilter(),\r\n\t\tnodeScalingSwitch = webvowl.modules.nodeScalingSwitch(graph),\r\n\t\tcompactNotationSwitch = webvowl.modules.compactNotationSwitch(graph),\r\n\t\tpickAndPin = webvowl.modules.pickAndPin();\r\n\r\n\tapp.initialize = function () {\r\n\t\toptions.graphContainerSelector(graphSelector);\r\n\t\toptions.selectionModules().push(focuser);\r\n\t\toptions.selectionModules().push(selectionDetailDisplayer);\r\n\t\toptions.selectionModules().push(pickAndPin);\r\n\t\toptions.filterModules().push(statistics);\r\n\t\toptions.filterModules().push(datatypeFilter);\r\n\t\toptions.filterModules().push(subclassFilter);\r\n\t\toptions.filterModules().push(disjointFilter);\r\n\t\toptions.filterModules().push(setOperatorFilter);\r\n\t\toptions.filterModules().push(nodeScalingSwitch);\r\n\t\toptions.filterModules().push(nodeDegreeFilter);\r\n\t\toptions.filterModules().push(compactNotationSwitch);\r\n\r\n\t\texportMenu = require(\"./menu/exportMenu\")(options.graphContainerSelector());\r\n\t\tgravityMenu = require(\"./menu/gravityMenu\")(graph);\r\n\t\tfilterMenu = require(\"./menu/filterMenu\")(graph, datatypeFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter);\r\n\t\tmodeMenu = require(\"./menu/modeMenu\")(graph, pickAndPin, nodeScalingSwitch, compactNotationSwitch);\r\n\t\tpauseMenu = require(\"./menu/pauseMenu\")(graph);\r\n\t\tresetMenu = require(\"./menu/resetMenu\")(graph, [gravityMenu, filterMenu, modeMenu,\r\n\t\t\tfocuser, selectionDetailDisplayer, pauseMenu]);\r\n\t\tontologyMenu = require(\"./menu/ontologyMenu\")(loadOntologyFromText);\r\n\r\n\t\td3.select(window).on(\"resize\", adjustSize);\r\n\r\n\t\t// setup all bottom bar modules\r\n\t\t// setupableMenues = [exportMenu, gravityMenu, filterMenu, modeMenu, resetMenu, pauseMenu, sidebar, ontologyMenu];\r\n\t\tsetupableMenues = [exportMenu, gravityMenu, filterMenu, modeMenu, resetMenu, pauseMenu, sidebar];\r\n\t\tsetupableMenues.forEach(function (menu) {\r\n\t\t\tmenu.setup();\r\n\t\t});\r\n\r\n\t\tgraph.start();\r\n\t\tadjustSize();\r\n\t};\r\n\r\n\tfunction loadOntologyFromText(jsonText, filename, alternativeFilename) {\r\n\t\tpauseMenu.reset();\r\n\r\n\t\tvar data;\r\n\t\tif (jsonText) {\r\n\t\t\tdata = JSON.parse(jsonText);\r\n\r\n\t\t\tif (!filename) {\r\n\t\t\t\t// First look if an ontology title exists, otherwise take the alternative filename\r\n\t\t\t\tvar ontologyNames = data.header ? data.header.title : undefined;\r\n\t\t\t\tvar ontologyName = languageTools.textInLanguage(ontologyNames);\r\n\r\n\t\t\t\tif (ontologyName) {\r\n\t\t\t\t\tfilename = ontologyName;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilename = alternativeFilename;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\texportMenu.setJsonText(jsonText);\r\n\r\n\t\toptions.data(data);\r\n\t\tgraph.reload();\r\n\t\tsidebar.updateOntologyInformation(data, statistics);\r\n\r\n\t\texportMenu.setFilename(filename);\r\n\t}\r\n\r\n\tfunction adjustSize() {\r\n\t\tvar graphContainer = d3.select(graphSelector),\r\n\t\t\tsvg = graphContainer.select(\"svg\"),\r\n\t\t\theight = window.innerHeight - 40,\r\n\t\t\twidth = window.innerWidth;// - (window.innerWidth * 0.22);\r\n\r\n\t\tgraphContainer.style(\"height\", height + \"px\");\r\n\t\tsvg.attr(\"width\", width)\r\n\t\t\t.attr(\"height\", height);\r\n\r\n\t\toptions.width(width)\r\n\t\t\t.height(height);\r\n\t\tgraph.updateStyle();\r\n\t}\r\n\r\n\treturn app;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/app.js\n ** module id = 73\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for the sidebar.\r\n * @param graph the graph that belongs to these controls\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph) {\r\n\r\n\tvar sidebar = {},\r\n\t\tlanguageTools = webvowl.util.languageTools(),\r\n\t\telementTools = webvowl.util.elementTools(),\r\n\t// Required for reloading when the language changes\r\n\t\tontologyInfo,\r\n\t\tlastSelectedElement;\r\n\r\n\r\n\t/**\r\n\t * Setup the menu bar.\r\n\t */\r\n\tsidebar.setup = function () {\r\n\t\tsetupCollapsing();\r\n\t};\r\n\r\n\tfunction setupCollapsing() {\r\n\t\t// adapted version of this example: http://www.normansblog.de/simple-jquery-accordion/\r\n\t\tfunction collapseContainers(containers) {\r\n\t\t\tcontainers.classed(\"hidden\", true);\r\n\t\t}\r\n\r\n\t\tfunction expandContainers(containers) {\r\n\t\t\tcontainers.classed(\"hidden\", false);\r\n\t\t}\r\n\r\n\t\tvar triggers = d3.selectAll(\".accordion-trigger\");\r\n\r\n\t\t// Collapse all inactive triggers on startup\r\n\t\tcollapseContainers(d3.selectAll(\".accordion-trigger:not(.accordion-trigger-active) + div\"));\r\n\r\n\t\ttriggers.on(\"click\", function () {\r\n\t\t\tvar selectedTrigger = d3.select(this),\r\n\t\t\t\tactiveTriggers = d3.selectAll(\".accordion-trigger-active\");\r\n\r\n\t\t\tif (selectedTrigger.classed(\"accordion-trigger-active\")) {\r\n\t\t\t\t// Collapse the active (which is also the selected) trigger\r\n\t\t\t\tcollapseContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n\t\t\t\tselectedTrigger.classed(\"accordion-trigger-active\", false);\r\n\t\t\t} else {\r\n\t\t\t\t// Collapse the other trigger ...\r\n\t\t\t\tcollapseContainers(d3.selectAll(\".accordion-trigger-active + div\"));\r\n\t\t\t\tactiveTriggers.classed(\"accordion-trigger-active\", false);\r\n\t\t\t\t// ... and expand the selected one\r\n\t\t\t\texpandContainers(d3.select(selectedTrigger.node().nextElementSibling));\r\n\t\t\t\tselectedTrigger.classed(\"accordion-trigger-active\", true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the information of the passed ontology.\r\n\t * @param data the graph data\r\n\t * @param statistics the statistics module\r\n\t */\r\n\tsidebar.updateOntologyInformation = function (data, statistics) {\r\n\t\tdata = data || {};\r\n\t\tontologyInfo = data.header || {};\r\n\r\n\t\tupdateGraphInformation();\r\n\t\tdisplayGraphStatistics(data.metrics, statistics);\r\n\t\tdisplayMetadata(ontologyInfo.other);\r\n\r\n\t\t// Reset the sidebar selection\r\n\t\tsidebar.updateSelectionInformation(undefined);\r\n\r\n\t\tsetLanguages(ontologyInfo.languages);\r\n\t};\r\n\r\n\tfunction setLanguages(languages) {\r\n\t\tlanguages = languages || [];\r\n\r\n\t\t// Put the default and unset label on top of the selection labels\r\n\t\tlanguages.sort(function (a, b) {\r\n\t\t\tif (a === webvowl.util.constants().LANG_IRIBASED) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else if (b === webvowl.util.constants().LANG_IRIBASED) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\tif (a === webvowl.util.constants().LANG_UNDEFINED) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else if (b === webvowl.util.constants().LANG_UNDEFINED) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn a.localeCompare(b);\r\n\t\t});\r\n\r\n\t\tvar languageSelection = d3.select(\"#language\")\r\n\t\t\t.on(\"change\", function () {\r\n\t\t\t\tgraph.language(d3.event.target.value);\r\n\t\t\t\tupdateGraphInformation();\r\n\t\t\t\tsidebar.updateSelectionInformation(lastSelectedElement);\r\n\t\t\t});\r\n\r\n\t\tlanguageSelection.selectAll(\"option\").remove();\r\n\t\tlanguageSelection.selectAll(\"option\")\r\n\t\t\t.data(languages)\r\n\t\t\t.enter().append(\"option\")\r\n\t\t\t.attr(\"value\", function (d) {\r\n\t\t\t\treturn d;\r\n\t\t\t})\r\n\t\t\t.text(function (d) {\r\n\t\t\t\treturn d;\r\n\t\t\t});\r\n\r\n\t\tif (!trySelectDefaultLanguage(languageSelection, languages, \"en\")) {\r\n\t\t\tif (!trySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_UNDEFINED)) {\r\n\t\t\t\ttrySelectDefaultLanguage(languageSelection, languages, webvowl.util.constants().LANG_IRIBASED);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction trySelectDefaultLanguage(selection, languages, language) {\r\n\t\tvar langIndex = languages.indexOf(language);\r\n\t\tif (langIndex >= 0) {\r\n\t\t\tselection.property(\"selectedIndex\", langIndex);\r\n\t\t\tgraph.language(language);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction updateGraphInformation() {\r\n\t\tvar title = languageTools.textInLanguage(ontologyInfo.title, graph.language());\r\n\t\td3.select(\"#title\").text(title || \"No title available\");\r\n\t\td3.select(\"#about\").attr(\"href\", ontologyInfo.iri).attr(\"target\", \"_blank\").text(ontologyInfo.iri);\r\n\t\td3.select(\"#version\").text(ontologyInfo.version || \"--\");\r\n\t\tvar authors = ontologyInfo.author;\r\n\t\tif (typeof authors === \"string\") {\r\n\t\t\t// Stay compatible with author info as strings after change in january 2015\r\n\t\t\td3.select(\"#authors\").text(authors);\r\n\t\t} else if (authors instanceof Array) {\r\n\t\t\td3.select(\"#authors\").text(authors.join(\", \"));\r\n\t\t} else {\r\n\t\t\td3.select(\"#authors\").text(\"--\");\r\n\t\t}\r\n\r\n\t\tvar description = languageTools.textInLanguage(ontologyInfo.description, graph.language());\r\n\t\td3.select(\"#description\").text(description || \"No description available.\");\r\n\t}\r\n\r\n\tfunction displayGraphStatistics(deliveredMetrics, statistics) {\r\n\t\t// Metrics are optional and may be undefined\r\n\t\tdeliveredMetrics = deliveredMetrics || {};\r\n\r\n\t\td3.select(\"#classCount\")\r\n\t\t\t.text(deliveredMetrics.classCount || statistics.classCount());\r\n\t\td3.select(\"#objectPropertyCount\")\r\n\t\t\t.text(deliveredMetrics.objectPropertyCount || statistics.objectPropertyCount());\r\n\t\td3.select(\"#datatypePropertyCount\")\r\n\t\t\t.text(deliveredMetrics.datatypePropertyCount || statistics.datatypePropertyCount());\r\n\t\td3.select(\"#individualCount\")\r\n\t\t\t.text(deliveredMetrics.totalIndividualCount || statistics.totalIndividualCount());\r\n\t\td3.select(\"#nodeCount\")\r\n\t\t\t.text(statistics.nodeCount());\r\n\t\td3.select(\"#edgeCount\")\r\n\t\t\t.text(statistics.edgeCount());\r\n\t}\r\n\r\n\tfunction displayMetadata(metadata) {\r\n\t\tvar container = d3.select(\"#ontology-metadata\");\r\n\t\tcontainer.selectAll(\"*\").remove();\r\n\r\n\t\tlistAnnotations(container, metadata);\r\n\r\n\t\tif (container.selectAll(\".annotation\").size() <= 0) {\r\n\t\t\tcontainer.append(\"p\").text(\"No annotations available.\");\r\n\t\t}\r\n\t}\r\n\r\n\tfunction listAnnotations(container, annotationObject) {\r\n\t\tannotationObject = annotationObject || {};  //todo\r\n\r\n\t\t// Collect the annotations in an array for simpler processing\r\n\t\tvar annotations = [];\r\n\t\tfor (var annotation in annotationObject) {\r\n\t\t\tif (annotationObject.hasOwnProperty(annotation)) {\r\n\t\t\t\tannotations.push(annotationObject[annotation][0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcontainer.selectAll(\".annotation\").remove();\r\n\t\tcontainer.selectAll(\".annotation\").data(annotations).enter().append(\"p\")\r\n\t\t\t.classed(\"annotation\", true)\r\n\t\t\t.classed(\"statisticDetails\", true)\r\n\t\t\t.text(function (d) {\r\n\t\t\t\treturn d.identifier + \":\";\r\n\t\t\t})\r\n\t\t\t.append(\"span\")\r\n\t\t\t.each(function (d) {\r\n\t\t\t\tappendIriLabel(d3.select(this), d.value, d.type === \"iri\" ? d.value : undefined);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Update the information of the selected node.\r\n\t * @param selectedElement the selection or null if nothing is selected\r\n\t */\r\n\tsidebar.updateSelectionInformation = function (selectedElement) {\r\n\t\tlastSelectedElement = selectedElement;\r\n\r\n\t\t// Click event was prevented when dragging\r\n\t\tif (d3.event && d3.event.defaultPrevented) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tvar isTriggerActive = d3.select(\"#selection-details-trigger\").classed(\"accordion-trigger-active\");\r\n\t\tif (selectedElement && !isTriggerActive) {\r\n\t\t\td3.select(\"#selection-details-trigger\").node().click();\r\n\t\t} else if (!selectedElement && isTriggerActive) {\r\n\t\t\tshowSelectionAdvice();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (elementTools.isProperty(selectedElement)) {\r\n\t\t\tdisplayPropertyInformation(selectedElement);\r\n\t\t} else if (elementTools.isNode(selectedElement)) {\r\n\t\t\tdisplayNodeInformation(selectedElement);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction showSelectionAdvice() {\r\n\t\tsetSelectionInformationVisibility(false, false, true);\r\n\t}\r\n\r\n\tfunction setSelectionInformationVisibility(showClasses, showProperties, showAdvice) {\r\n\t\td3.select(\"#classSelectionInformation\").classed(\"hidden\", !showClasses);\r\n\t\td3.select(\"#propertySelectionInformation\").classed(\"hidden\", !showProperties);\r\n\t\td3.select(\"#noSelectionInformation\").classed(\"hidden\", !showAdvice);\r\n\t}\r\n\r\n\tfunction displayPropertyInformation(property) {\r\n\t\tshowPropertyInformations();\r\n\r\n\t\tsetIriLabel(d3.select(\"#propname\"), property.labelForCurrentLanguage(), property.iri());\r\n\t\td3.select(\"#typeProp\").text(property.type());\r\n\r\n\t\tif (property.inverse() !== undefined) {\r\n\t\t\td3.select(\"#inverse\").classed(\"hidden\", false);\r\n\t\t\tsetIriLabel(d3.select(\"#inverse span\"), property.inverse().labelForCurrentLanguage(), property.inverse().iri());\r\n\t\t} else {\r\n\t\t\td3.select(\"#inverse\").classed(\"hidden\", true);\r\n\t\t}\r\n\r\n\t\tvar equivalentIriSpan = d3.select(\"#propEquivUri\");\r\n\t\tlistNodeArray(equivalentIriSpan, property.equivalents());\r\n\r\n\t\tlistNodeArray(d3.select(\"#subproperties\"), property.subproperties());\r\n\t\tlistNodeArray(d3.select(\"#superproperties\"), property.superproperties());\r\n\r\n\t\tif (property.minCardinality() !== undefined) {\r\n\t\t\td3.select(\"#infoCardinality\").classed(\"hidden\", true);\r\n\t\t\td3.select(\"#minCardinality\").classed(\"hidden\", false);\r\n\t\t\td3.select(\"#minCardinality span\").text(property.minCardinality());\r\n\t\t\td3.select(\"#maxCardinality\").classed(\"hidden\", false);\r\n\r\n\t\t\tif (property.maxCardinality() !== undefined) {\r\n\t\t\t\td3.select(\"#maxCardinality span\").text(property.maxCardinality());\r\n\t\t\t} else {\r\n\t\t\t\td3.select(\"#maxCardinality span\").text(\"*\");\r\n\t\t\t}\r\n\r\n\t\t} else if (property.cardinality() !== undefined) {\r\n\t\t\td3.select(\"#minCardinality\").classed(\"hidden\", true);\r\n\t\t\td3.select(\"#maxCardinality\").classed(\"hidden\", true);\r\n\t\t\td3.select(\"#infoCardinality\").classed(\"hidden\", false);\r\n\t\t\td3.select(\"#infoCardinality span\").text(property.cardinality());\r\n\t\t} else {\r\n\t\t\td3.select(\"#infoCardinality\").classed(\"hidden\", true);\r\n\t\t\td3.select(\"#minCardinality\").classed(\"hidden\", true);\r\n\t\t\td3.select(\"#maxCardinality\").classed(\"hidden\", true);\r\n\t\t}\r\n\r\n\t\tsetIriLabel(d3.select(\"#domain\"), property.domain().labelForCurrentLanguage(), property.domain().iri());\r\n\t\tsetIriLabel(d3.select(\"#range\"), property.range().labelForCurrentLanguage(), property.range().iri());\r\n\r\n\t\tdisplayAttributes(property.attributes(), d3.select(\"#propAttributes\"));\r\n\r\n\t\tsetTextAndVisibility(d3.select(\"#propDescription\"), property.descriptionForCurrentLanguage());\r\n\t\tsetTextAndVisibility(d3.select(\"#propComment\"), property.commentForCurrentLanguage());\r\n\r\n\t\tlistAnnotations(d3.select(\"#propertySelectionInformation\"), property.annotations());\r\n\t}\r\n\r\n\tfunction showPropertyInformations() {\r\n\t\tsetSelectionInformationVisibility(false, true, false);\r\n\t}\r\n\r\n\tfunction setIriLabel(element, name, iri) {\r\n\t\telement.selectAll(\"*\").remove();\r\n\t\tappendIriLabel(element, name, iri);\r\n\t}\r\n\r\n\tfunction appendIriLabel(element, name, iri) {\r\n\t\tvar tag;\r\n\r\n\t\tif (iri) {\r\n\t\t\ttag = element.append(\"a\")\r\n\t\t\t\t.attr(\"href\", iri)\r\n\t\t\t\t.attr(\"title\", iri)\r\n\t\t\t\t.attr(\"target\", \"_blank\");\r\n\t\t} else {\r\n\t\t\ttag = element.append(\"span\");\r\n\t\t}\r\n\t\ttag.text(name);\r\n\t}\r\n\r\n\tfunction displayAttributes(attributes, textSpan) {\r\n\t\tvar spanParent = d3.select(textSpan.node().parentNode);\r\n\r\n\t\tif (attributes && attributes.length > 0) {\r\n\t\t\t// Remove redundant redundant attributes for sidebar\r\n\t\t\tremoveElementFromArray(\"object\", attributes);\r\n\t\t\tremoveElementFromArray(\"datatype\", attributes);\r\n\t\t\tremoveElementFromArray(\"rdf\", attributes);\r\n\t\t}\r\n\r\n\t\tif (attributes && attributes.length > 0) {\r\n\t\t\ttextSpan.text(attributes.join(\", \"));\r\n\r\n\t\t\tspanParent.classed(\"hidden\", false);\r\n\t\t} else {\r\n\t\t\tspanParent.classed(\"hidden\", true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction removeElementFromArray(element, array) {\r\n\t\tvar index = array.indexOf(element);\r\n\t\tif (index > -1) {\r\n\t\t\tarray.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction displayNodeInformation(node) {\r\n\t\tshowClassInformations();\r\n\r\n\t\tsetIriLabel(d3.select(\"#name\"), node.labelForCurrentLanguage(), node.iri());\r\n\r\n\t\t/* Equivalent stuff. */\r\n\t\tvar equivalentIriSpan = d3.select(\"#classEquivUri\");\r\n\t\tlistNodeArray(equivalentIriSpan, node.equivalents());\r\n\r\n\t\td3.select(\"#typeNode\").text(node.type());\r\n\t\tlistNodeArray(d3.select(\"#individuals\"), node.individuals());\r\n\r\n\t\t/* Disjoint stuff. */\r\n\t\tvar disjointNodes = d3.select(\"#disjointNodes\");\r\n\t\tvar disjointNodesParent = d3.select(disjointNodes.node().parentNode);\r\n\r\n\t\tif (node.disjointWith() !== undefined) {\r\n\t\t\tdisjointNodes.selectAll(\"*\").remove();\r\n\r\n\t\t\tnode.disjointWith().forEach(function (element, index) {\r\n\t\t\t\tif (index > 0) {\r\n\t\t\t\t\tdisjointNodes.append(\"span\").text(\", \");\r\n\t\t\t\t}\r\n\t\t\t\tappendIriLabel(disjointNodes, element.labelForCurrentLanguage(), element.iri());\r\n\t\t\t});\r\n\r\n\t\t\tdisjointNodesParent.classed(\"hidden\", false);\r\n\t\t} else {\r\n\t\t\tdisjointNodesParent.classed(\"hidden\", true);\r\n\t\t}\r\n\r\n\t\tdisplayAttributes(node.attributes(), d3.select(\"#classAttributes\"));\r\n\r\n\t\tsetTextAndVisibility(d3.select(\"#nodeDescription\"), node.descriptionForCurrentLanguage());\r\n\t\tsetTextAndVisibility(d3.select(\"#nodeComment\"), node.commentForCurrentLanguage());\r\n\r\n\t\tlistAnnotations(d3.select(\"#classSelectionInformation\"), node.annotations());\r\n\t}\r\n\r\n\tfunction showClassInformations() {\r\n\t\tsetSelectionInformationVisibility(true, false, false);\r\n\t}\r\n\r\n\tfunction listNodeArray(textSpan, nodes) {\r\n\t\tvar spanParent = d3.select(textSpan.node().parentNode);\r\n\r\n\t\tif (nodes && nodes.length) {\r\n\t\t\ttextSpan.selectAll(\"*\").remove();\r\n\t\t\tnodes.forEach(function (element, index) {\r\n\t\t\t\tif (index > 0) {\r\n\t\t\t\t\ttextSpan.append(\"span\").text(\", \");\r\n\t\t\t\t}\r\n\t\t\t\tappendIriLabel(textSpan, element.labelForCurrentLanguage(), element.iri());\r\n\t\t\t});\r\n\r\n\t\t\tspanParent.classed(\"hidden\", false);\r\n\t\t} else {\r\n\t\t\tspanParent.classed(\"hidden\", true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setTextAndVisibility(label, value) {\r\n\t\tvar parentNode = d3.select(label.node().parentNode);\r\n\t\tvar hasValue = !!value;\r\n\t\tif (value) {\r\n\t\t\tlabel.text(value);\r\n\t\t}\r\n\t\tparentNode.classed(\"hidden\", !hasValue);\r\n\t}\r\n\r\n\r\n\treturn sidebar;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/sidebar.js\n ** module id = 74\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for the export button.\r\n *\r\n * @param graphSelector the associated graph svg selector\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graphSelector) {\r\n\r\n\tvar exportMenu = {},\r\n\t\texportSvgButton,\r\n\t\texportFilename,\r\n\t\texportJsonButton,\r\n\t\texportableJsonText;\r\n\r\n\r\n\t/**\r\n\t * Adds the export button to the website.\r\n\t */\r\n\texportMenu.setup = function () {\r\n\t\texportSvgButton = d3.select(\"#exportSvg\")\r\n\t\t\t.on(\"click\", exportSvg);\r\n\t\texportJsonButton = d3.select(\"#exportJson\")\r\n\t\t\t.on(\"click\", exportJson);\r\n\t};\r\n\r\n\texportMenu.setFilename = function (filename) {\r\n\t\texportFilename = filename || \"export\";\r\n\t};\r\n\r\n\texportMenu.setJsonText = function (jsonText) {\r\n\t\texportableJsonText = jsonText;\r\n\t};\r\n\r\n\tfunction exportSvg() {\r\n\t\t// Get the d3js SVG element\r\n\t\tvar graphSvg = d3.select(graphSelector).select(\"svg\"),\r\n\t\t\tgraphSvgCode,\r\n\t\t\tescapedGraphSvgCode,\r\n\t\t\tdataURI;\r\n\r\n\t\t// inline the styles, so that the exported svg code contains the css rules\r\n\t\tinlineVowlStyles();\r\n\t\thideNonExportableElements();\r\n\r\n\t\tgraphSvgCode = graphSvg.attr(\"version\", 1.1)\r\n\t\t\t.attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\r\n\t\t\t.node().parentNode.innerHTML;\r\n\r\n\t\t// Insert the reference to VOWL\r\n\t\tgraphSvgCode = \"<!-- Created with WebVOWL (version \" + webvowl.version + \")\" +\r\n\t\t\", http://vowl.visualdataweb.org -->\\n\" + graphSvgCode;\r\n\r\n\t\tescapedGraphSvgCode = escapeUnicodeCharacters(graphSvgCode);\r\n\t\t//btoa(); Creates a base-64 encoded ASCII string from a \"string\" of binary data.\r\n\t\tdataURI = \"data:image/svg+xml;base64,\" + btoa(escapedGraphSvgCode);\r\n\r\n\t\texportSvgButton.attr(\"href\", dataURI)\r\n\t\t\t.attr(\"download\", exportFilename + \".svg\");\r\n\r\n\t\t// remove graphic styles for interaction to go back to normal\r\n\t\tremoveVowlInlineStyles();\r\n\t\tshowNonExportableElements();\r\n\t}\r\n\r\n\tfunction escapeUnicodeCharacters(text) {\r\n\t\tvar textSnippets = [],\r\n\t\t\ti, textLength = text.length,\r\n\t\t\tcharacter,\r\n\t\t\tcharCode;\r\n\r\n\t\tfor (i = 0; i < textLength; i++) {\r\n\t\t\tcharacter = text.charAt(i);\r\n\t\t\tcharCode = character.charCodeAt(0);\r\n\r\n\t\t\tif (charCode < 128) {\r\n\t\t\t\ttextSnippets.push(character);\r\n\t\t\t} else {\r\n\t\t\t\ttextSnippets.push(\"&#\" + charCode + \";\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn textSnippets.join(\"\");\r\n\t}\r\n\r\n\tfunction inlineVowlStyles() {\r\n\t\td3.selectAll(\".text\").style(\"font-family\", \"Helvetica, Arial, sans-serif\").style(\"font-size\", \"12px\");\r\n\t\td3.selectAll(\".subtext\").style(\"font-size\", \"9px\");\r\n\t\td3.selectAll(\".text.instance-count\").style(\"fill\", \"#666\");\r\n\t\td3.selectAll(\".external + text .instance-count\").style(\"fill\", \"#aaa\");\r\n\t\td3.selectAll(\".cardinality\").style(\"font-size\", \"10px\");\r\n\t\td3.selectAll(\".text, .embedded\").style(\"pointer-events\", \"none\");\r\n\t\td3.selectAll(\".class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty\").style(\"fill\", \"#acf\");\r\n\t\td3.selectAll(\".label .datatype, .datatypeproperty\").style(\"fill\", \"#9c6\");\r\n\t\td3.selectAll(\".rdf, .rdfproperty\").style(\"fill\", \"#c9c\");\r\n\t\td3.selectAll(\".literal, .node .datatype\").style(\"fill\", \"#fc3\");\r\n\t\td3.selectAll(\".deprecated, .deprecatedproperty\").style(\"fill\", \"#ccc\");\r\n\t\td3.selectAll(\".external, .externalproperty\").style(\"fill\", \"#36c\");\r\n\t\td3.selectAll(\"path, .nofill\").style(\"fill\", \"none\");\r\n\t\td3.selectAll(\".symbol\").style(\"fill\", \"#69c\");\r\n\t\td3.selectAll(\".arrowhead, marker path\").style(\"fill\", \"#000\");\r\n\t\td3.selectAll(\".class, path, line, .fineline\").style(\"stroke\", \"#000\");\r\n\t\td3.selectAll(\".white, .subclass, .dottedMarker path, .subclassproperty, .external + text\").style(\"fill\", \"#fff\");\r\n\t\td3.selectAll(\".class.hovered, .property.hovered, path.arrowhead.hovered, .cardinality.hovered, .normalMarker path.hovered, .cardinality.focused, .normalMarker path.focused, circle.pin\").style(\"fill\", \"#f00\").style(\"cursor\", \"pointer\");\r\n\t\td3.selectAll(\".focused, path.hovered\").style(\"stroke\", \"#f00\");\r\n\t\td3.selectAll(\".label .indirectHighlighting, .feature:hover\").style(\"fill\", \"#f90\");\r\n\t\td3.selectAll(\".class, path, line\").style(\"stroke-width\", \"2\");\r\n\t\td3.selectAll(\".fineline\").style(\"stroke-width\", \"1\");\r\n\t\td3.selectAll(\".special\").style(\"stroke-dasharray\", \"8\");\r\n\t\td3.selectAll(\".dotted\").style(\"stroke-dasharray\", \"3\");\r\n\t\td3.selectAll(\"rect.focused, circle.focused\").style(\"stroke-width\", \"4px\");\r\n\t\td3.selectAll(\".nostroke\").style(\"stroke\", \"none\");\r\n\t\td3.selectAll(\"#width-test\").style(\"position\", \"absolute\").style(\"float\", \"left\").style(\"white-space\", \"nowrap\").style(\"visibility\", \"hidden\");\r\n\t\td3.selectAll(\"marker path\").style(\"stroke-dasharray\", \"50\");\r\n\t}\r\n\r\n\t/**\r\n\t * For example the pin of the pick&pin module should be invisible in the exported graphic.\r\n\t */\r\n\tfunction hideNonExportableElements() {\r\n\t\td3.selectAll(\".hidden-in-export\").style(\"display\", \"none\");\r\n\t}\r\n\r\n\tfunction removeVowlInlineStyles() {\r\n\t\td3.selectAll(\".text, .subtext, .text.instance-count, .external + text .instance-count, .cardinality, .text, .embedded, .class, .object, .disjoint, .objectproperty, .disjointwith, .equivalentproperty, .transitiveproperty, .functionalproperty, .inversefunctionalproperty, .symmetricproperty, .label .datatype, .datatypeproperty, .rdf, .rdfproperty, .literal, .node .datatype, .deprecated, .deprecatedproperty, .external, .externalproperty, path, .nofill, .symbol, .arrowhead, marker path, .class, path, line, .fineline, .white, .subclass, .dottedMarker path, .subclassproperty, .external + text, .class.hovered, .property.hovered, path.arrowhead.hovered, .cardinality.hovered, .normalMarker path.hovered, .cardinality.focused, .normalMarker path.focused, circle.pin, .focused, path.hovered, .label .indirectHighlighting, .feature:hover, .class, path, line, .fineline, .special, .dotted, rect.focused, circle.focused, .nostroke, #width-test, marker path\").attr(\"style\", null);\r\n\t}\r\n\r\n\tfunction showNonExportableElements() {\r\n\t\td3.selectAll(\".hidden-in-export\").style(\"display\", null);\r\n\t}\r\n\r\n\tfunction exportJson() {\r\n\t\tif (!exportableJsonText) {\r\n\t\t\talert(\"No graph data available.\");\r\n\t\t\t// Stop the redirection to the path of the href attribute\r\n\t\t\td3.event.preventDefault();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar dataURI = \"data:text/json;charset=utf-8,\" + encodeURIComponent(exportableJsonText);\r\n\t\texportJsonButton.attr(\"href\", dataURI)\r\n\t\t\t.attr(\"download\", exportFilename + \".json\");\r\n\t}\r\n\r\n\treturn exportMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/exportMenu.js\n ** module id = 75\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for setting up the gravity sliders.\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph) {\r\n\r\n\tvar gravityMenu = {},\r\n\t\tsliders = [],\r\n\t\toptions = graph.graphOptions(),\r\n\t\tdefaultCharge = options.charge();\r\n\r\n\r\n\t/**\r\n\t * Adds the gravity sliders to the website.\r\n\t */\r\n\tgravityMenu.setup = function () {\r\n\t\taddDistanceSlider(\"#classSliderOption\", \"class\", \"Class distance\", options.classDistance);\r\n\t\taddDistanceSlider(\"#datatypeSliderOption\", \"datatype\", \"Datatype distance\", options.datatypeDistance);\r\n\t};\r\n\r\n\tfunction addDistanceSlider(selector, identifier, label, distanceFunction) {\r\n\t\tvar defaultLinkDistance = distanceFunction();\r\n\r\n\t\tvar sliderContainer,\r\n\t\t\tsliderValueLabel;\r\n\r\n\t\tsliderContainer = d3.select(selector)\r\n\t\t\t.append(\"div\")\r\n\t\t\t.datum({distanceFunction: distanceFunction}) // connect the options-function with the slider\r\n\t\t\t.classed(\"distanceSliderContainer\", true);\r\n\r\n\t\tvar slider = sliderContainer.append(\"input\")\r\n\t\t\t.attr(\"id\", identifier + \"DistanceSlider\")\r\n\t\t\t.attr(\"type\", \"range\")\r\n\t\t\t.attr(\"min\", 10)\r\n\t\t\t.attr(\"max\", 600)\r\n\t\t\t.attr(\"value\", distanceFunction())\r\n\t\t\t.attr(\"step\", 10);\r\n\r\n\t\tsliderContainer.append(\"label\")\r\n\t\t\t.classed(\"description\", true)\r\n\t\t\t.attr(\"for\", identifier + \"DistanceSlider\")\r\n\t\t\t.text(label);\r\n\r\n\t\tsliderValueLabel = sliderContainer.append(\"label\")\r\n\t\t\t.classed(\"value\", true)\r\n\t\t\t.attr(\"for\", identifier + \"DistanceSlider\")\r\n\t\t\t.text(distanceFunction());\r\n\r\n\t\t// Store slider for easier resetting\r\n\t\tsliders.push(slider);\r\n\r\n\t\tslider.on(\"input\", function () {\r\n\t\t\tvar distance = slider.property(\"value\");\r\n\t\t\tdistanceFunction(distance);\r\n\t\t\tadjustCharge(defaultLinkDistance);\r\n\t\t\tsliderValueLabel.text(distance);\r\n\t\t\tgraph.updateStyle();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction adjustCharge(defaultLinkDistance) {\r\n\t\tvar greaterDistance = Math.max(options.classDistance(), options.datatypeDistance()),\r\n\t\t\tratio = greaterDistance / defaultLinkDistance,\r\n\t\t\tnewCharge = defaultCharge * ratio;\r\n\r\n\t\toptions.charge(newCharge);\r\n\t}\r\n\r\n\t/**\r\n\t * Resets the gravity sliders to their default.\r\n\t */\r\n\tgravityMenu.reset = function () {\r\n\t\tsliders.forEach(function (slider) {\r\n\t\t\tslider.property(\"value\", function (d) {\r\n\t\t\t\t// Simply reload the distance from the options\r\n\t\t\t\treturn d.distanceFunction();\r\n\t\t\t});\r\n\t\t\tslider.on(\"input\")();\r\n\t\t});\r\n\t};\r\n\r\n\r\n\treturn gravityMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/gravityMenu.js\n ** module id = 76\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for connecting the filters with the website.\r\n *\r\n * @param graph required for calling a refresh after a filter change\r\n * @param datatypeFilter filter for all datatypes\r\n * @param subclassFilter filter for all subclasses\r\n * @param disjointFilter filter for all disjoint with properties\r\n * @param setOperatorFilter filter for all set operators with properties\r\n * @param nodeDegreeFilter filters nodes by their degree\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph, datatypeFilter, subclassFilter, disjointFilter, setOperatorFilter, nodeDegreeFilter) {\r\n\r\n\tvar filterMenu = {},\r\n\t\tcheckboxData = [],\r\n\t\tdegreeSlider;\r\n\r\n\r\n\t/**\r\n\t * Connects the website with graph filters.\r\n\t */\r\n\tfilterMenu.setup = function () {\r\n\t\taddFilterItem(datatypeFilter, \"datatype\", \"Datatype prop.\", \"#datatypeFilteringOption\");\r\n\t\taddFilterItem(subclassFilter, \"subclass\", \"Solitary subclass.\", \"#subclassFilteringOption\");\r\n\t\taddFilterItem(disjointFilter, \"disjoint\", \"Disjointness info\", \"#disjointFilteringOption\");\r\n\t\taddFilterItem(setOperatorFilter, \"setoperator\", \"Set operators\", \"#setOperatorFilteringOption\");\r\n\r\n\t\taddNodeDegreeFilter(\"#nodeDegreeFilteringOption\");\r\n\t};\r\n\r\n\r\n\tfunction addFilterItem(filter, identifier, pluralNameOfFilteredItems, selector) {\r\n\t\tvar filterContainer,\r\n\t\t\tfilterCheckbox;\r\n\r\n\t\tfilterContainer = d3.select(selector)\r\n\t\t\t.append(\"div\")\r\n\t\t\t.classed(\"checkboxContainer\", true);\r\n\r\n\t\tfilterCheckbox = filterContainer.append(\"input\")\r\n\t\t\t.classed(\"filterCheckbox\", true)\r\n\t\t\t.attr(\"id\", identifier + \"FilterCheckbox\")\r\n\t\t\t.attr(\"type\", \"checkbox\")\r\n\t\t\t.property(\"checked\", filter.enabled());\r\n\r\n\t\t// Store for easier resetting\r\n\t\tcheckboxData.push({checkbox: filterCheckbox, defaultState: filter.enabled()});\r\n\r\n\t\tfilterCheckbox.on(\"click\", function () {\r\n\t\t\t// There might be no parameters passed because of a manual\r\n\t\t\t// invocation when resetting the filters\r\n\t\t\tvar isEnabled = filterCheckbox.property(\"checked\");\r\n\t\t\tfilter.enabled(isEnabled);\r\n\t\t\tgraph.update();\r\n\t\t});\r\n\r\n\t\tfilterContainer.append(\"label\")\r\n\t\t\t.attr(\"for\", identifier + \"FilterCheckbox\")\r\n\t\t\t.text(pluralNameOfFilteredItems);\r\n\t}\r\n\r\n\tfunction addNodeDegreeFilter(selector) {\r\n\t\tnodeDegreeFilter.setMaxDegreeSetter(function (maxDegree) {\r\n\t\t\tdegreeSlider.attr(\"max\", maxDegree);\r\n\t\t\tdegreeSlider.property(\"value\", Math.min(maxDegree, degreeSlider.property(\"value\")));\r\n\t\t\t//  degreeSlider.property(\"value\", 1);  //Hide nodes with no connections\r\n\t\t});\r\n\r\n\t\tnodeDegreeFilter.setDegreeQueryFunction(function () {\r\n\t\t\treturn degreeSlider.property(\"value\");\r\n\t\t});\r\n\r\n\t\tvar sliderContainer,\r\n\t\t\tsliderValueLabel;\r\n\r\n\t\tsliderContainer = d3.select(selector)\r\n\t\t\t.append(\"div\")\r\n\t\t\t.classed(\"distanceSliderContainer\", true);\r\n\r\n\t\tdegreeSlider = sliderContainer.append(\"input\")\r\n\t\t\t.attr(\"id\", \"nodeDegreeDistanceSlider\")\r\n\t\t\t.attr(\"type\", \"range\")\r\n\t\t\t.attr(\"min\", 0)\r\n\t\t\t.attr(\"step\", 1);\r\n\r\n\t\tsliderContainer.append(\"label\")\r\n\t\t\t.classed(\"description\", true)\r\n\t\t\t.attr(\"for\", \"nodeDegreeDistanceSlider\")\r\n\t\t\t.text(\"Degree of collapsing\");\r\n\r\n\t\tsliderValueLabel = sliderContainer.append(\"label\")\r\n\t\t\t.classed(\"value\", true)\r\n\t\t\t.attr(\"for\", \"nodeDegreeDistanceSlider\")\r\n\t\t\t.text(0);\r\n\r\n\t\tdegreeSlider.on(\"change\", function () {\r\n\t\t\tgraph.update();\r\n\t\t});\r\n\r\n\t\tdegreeSlider.on(\"input\", function () {\r\n\t\t\tvar degree = degreeSlider.property(\"value\");\r\n\t\t\tsliderValueLabel.text(degree);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Resets the filters (and also filtered elements) to their default.\r\n\t */\r\n\tfilterMenu.reset = function () {\r\n\t\tcheckboxData.forEach(function (checkboxData) {\r\n\t\t\tvar checkbox = checkboxData.checkbox,\r\n\t\t\t\tenabledByDefault = checkboxData.defaultState,\r\n\t\t\t\tisChecked = checkbox.property(\"checked\");\r\n\r\n\t\t\tif (isChecked !== enabledByDefault) {\r\n\t\t\t\tcheckbox.property(\"checked\", enabledByDefault);\r\n\t\t\t\t// Call onclick event handlers programmatically\r\n\t\t\t\tcheckbox.on(\"click\")();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdegreeSlider.property(\"value\", 0);\r\n\t\tdegreeSlider.on(\"change\")();\r\n\t\tdegreeSlider.on(\"input\")();\r\n\t};\r\n\r\n\r\n\treturn filterMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/filterMenu.js\n ** module id = 77\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for connecting the modes with the website.\r\n *\r\n * @param graph the graph that belongs to these controls\r\n * @param pickAndPin mode for picking and pinning of nodes\r\n * @param nodeScaling mode for toggling node scaling\r\n * @param compactNotation mode for toggling the compact node\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph, pickAndPin, nodeScaling, compactNotation) {\r\n\r\n\tvar modeMenu = {},\r\n\t\tcheckboxes = [];\r\n\r\n\r\n\t/**\r\n\t * Connects the website with the available graph modes.\r\n\t */\r\n\tmodeMenu.setup = function () {\r\n\t\taddModeItem(pickAndPin, \"pickandpin\", \"Pick & Pin\", \"#pickAndPinOption\", false);\r\n\t\taddModeItem(nodeScaling, \"nodescaling\", \"Node Scaling\", \"#nodeScalingOption\", true);\r\n\t\taddModeItem(compactNotation, \"compactnotation\", \"Compact Notation\", \"#compactNotationOption\", true);\r\n\t};\r\n\r\n\tfunction addModeItem(module, identifier, modeName, selector, updateGraphOnClick) {\r\n\t\tvar moduleOptionContainer,\r\n\t\t\tmoduleCheckbox;\r\n\r\n\t\tmoduleOptionContainer = d3.select(selector)\r\n\t\t\t.append(\"div\")\r\n\t\t\t.classed(\"checkboxContainer\", true)\r\n\t\t\t.datum({module: module, defaultState: module.enabled()});\r\n\r\n\t\tmoduleCheckbox = moduleOptionContainer.append(\"input\")\r\n\t\t\t.classed(\"moduleCheckbox\", true)\r\n\t\t\t.attr(\"id\", identifier + \"ModuleCheckbox\")\r\n\t\t\t.attr(\"type\", \"checkbox\")\r\n\t\t\t.property(\"checked\", module.enabled());\r\n\r\n\t\t// Store for easier resetting all modes\r\n\t\tcheckboxes.push(moduleCheckbox);\r\n\r\n\t\tmoduleCheckbox.on(\"click\", function (d) {\r\n\t\t\tvar isEnabled = moduleCheckbox.property(\"checked\");\r\n\t\t\td.module.enabled(isEnabled);\r\n\r\n\t\t\tif (updateGraphOnClick) {\r\n\t\t\t\tgraph.update();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmoduleOptionContainer.append(\"label\")\r\n\t\t\t.attr(\"for\", identifier + \"ModuleCheckbox\")\r\n\t\t\t.text(modeName);\r\n\t}\r\n\r\n\t/**\r\n\t * Resets the modes to their default.\r\n\t */\r\n\tmodeMenu.reset = function () {\r\n\t\tcheckboxes.forEach(function (checkbox) {\r\n\t\t\tvar defaultState = checkbox.datum().defaultState,\r\n\t\t\t\tisChecked = checkbox.property(\"checked\");\r\n\r\n\t\t\tif (isChecked !== defaultState) {\r\n\t\t\t\tcheckbox.property(\"checked\", defaultState);\r\n\t\t\t\t// Call onclick event handlers programmatically\r\n\t\t\t\tcheckbox.on(\"click\")(checkbox.datum());\r\n\t\t\t}\r\n\r\n\t\t\t// Reset the module that is connected with the checkbox\r\n\t\t\tcheckbox.datum().module.reset();\r\n\t\t});\r\n\t};\r\n\r\n\r\n\treturn modeMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/modeMenu.js\n ** module id = 78\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for the pause and resume button.\r\n *\r\n * @param graph the associated webvowl graph\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph) {\r\n\r\n\tvar pauseMenu = {},\r\n\t\tpauseButton;\r\n\r\n\r\n\t/**\r\n\t * Adds the pause button to the website.\r\n\t */\r\n\tpauseMenu.setup = function () {\r\n\t\tpauseButton = d3.select(\"#pause-button\")\r\n\t\t\t.datum({paused: false})\r\n\t\t\t.on(\"click\", function (d) {\r\n\t\t\t\tif (d.paused) {\r\n\t\t\t\t\tgraph.unfreeze();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgraph.freeze();\r\n\t\t\t\t}\r\n\t\t\t\td.paused = !d.paused;\r\n\t\t\t\tupdatePauseButton();\r\n\t\t\t});\r\n\r\n\t\t// Set these properties the first time manually\r\n\t\tupdatePauseButton();\r\n\t};\r\n\r\n\tfunction updatePauseButton() {\r\n\t\tupdatePauseButtonClass();\r\n\t\tupdatePauseButtonText();\r\n\t}\r\n\r\n\tfunction updatePauseButtonClass() {\r\n\t\tpauseButton.classed(\"paused\", function (d) {\r\n\t\t\treturn d.paused;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction updatePauseButtonText() {\r\n\t\tif (pauseButton.datum().paused) {\r\n\t\t\tpauseButton.text(\"Resume\");\r\n\t\t} else {\r\n\t\t\tpauseButton.text(\"Pause\");\r\n\t\t}\r\n\t}\r\n\r\n\tpauseMenu.reset = function () {\r\n\t\t// Simulate resuming\r\n\t\tpauseButton.datum().paused = false;\r\n\t\tgraph.unfreeze();\r\n\t\tupdatePauseButton();\r\n\t};\r\n\r\n\r\n\treturn pauseMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/pauseMenu.js\n ** module id = 79\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for the reset button.\r\n *\r\n * @param graph the associated webvowl graph\r\n * @param resettableModules modules that can be resetted\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (graph, resettableModules) {\r\n\r\n\tvar resetMenu = {},\r\n\t\toptions = graph.graphOptions(),\r\n\t\tuntouchedOptions = webvowl.options();\r\n\r\n\r\n\t/**\r\n\t * Adds the reset button to the website.\r\n\t */\r\n\tresetMenu.setup = function () {\r\n\t\td3.select(\"#reset-button\").on(\"click\", resetGraph);\r\n\t};\r\n\r\n\tfunction resetGraph() {\r\n\t\toptions.classDistance(untouchedOptions.classDistance());\r\n\t\toptions.datatypeDistance(untouchedOptions.datatypeDistance());\r\n\t\toptions.charge(untouchedOptions.charge());\r\n\t\toptions.gravity(untouchedOptions.gravity());\r\n\t\toptions.linkStrength(untouchedOptions.linkStrength());\r\n\t\tgraph.reset();\r\n\r\n\t\tresettableModules.forEach(function (module) {\r\n\t\t\tmodule.reset();\r\n\t\t});\r\n\r\n\t\tgraph.updateStyle();\r\n\t}\r\n\r\n\r\n\treturn resetMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/resetMenu.js\n ** module id = 80\n ** module chunks = 1\n **/","/**\r\n * Contains the logic for the ontology listing and conversion.\r\n *\r\n * @returns {{}}\r\n */\r\nmodule.exports = function (loadOntologyFromText) {\r\n\r\n\tvar ontologyMenu = {},\r\n\t\tdefaultJsonName = \"foaf\", // This file is loaded by default\r\n\t// Selections for the app\r\n\t\tloadingError = d3.select(\"#loading-error\"),\r\n\t\tloadingProgress = d3.select(\"#loading-progress\"),\r\n\t\tontologyMenuTimeout,\r\n\t\tcachedConversions = {};\r\n\r\n\tontologyMenu.setup = function () {\r\n\t\tsetupConverterButtons();\r\n\t\tsetupUploadButton();\r\n\r\n\t\tvar descriptionButton = d3.select(\"#error-description-button\").datum({open: false});\r\n\t\tdescriptionButton.on(\"click\", function (data) {\r\n\t\t\tvar errorContainer = d3.select(\"#error-description-container\");\r\n\t\t\tvar errorDetailsButton = d3.select(this);\r\n\r\n\t\t\t// toggle the state\r\n\t\t\tdata.open = !data.open;\r\n\t\t\tvar descriptionVisible = data.open;\r\n\t\t\tif (descriptionVisible) {\r\n\t\t\t\terrorDetailsButton.text(\"Hide error details\");\r\n\t\t\t} else {\r\n\t\t\t\terrorDetailsButton.text(\"Show error details\");\r\n\t\t\t}\r\n\t\t\terrorContainer.classed(\"hidden\", !descriptionVisible);\r\n\t\t});\r\n\r\n\t\tsetupUriListener();\r\n\t};\r\n\r\n\r\n\tfunction setupUriListener() {\r\n\t\t// parse the url initially\r\n\t\tparseUrlAndLoadOntology();\r\n\r\n\t\t// reload ontology when hash parameter gets changed manually\r\n\t\td3.select(window).on(\"hashchange\", function () {\r\n\t\t\tvar oldURL = d3.event.oldURL, newURL = d3.event.newURL;\r\n\r\n\t\t\tif (oldURL !== newURL) {\r\n\t\t\t\t// don't reload when just the hash parameter gets appended\r\n\t\t\t\tif (newURL === oldURL + \"#\") {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateNavigationHrefs();\r\n\t\t\t\tparseUrlAndLoadOntology();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tupdateNavigationHrefs();\r\n\t}\r\n\r\n\t/**\r\n\t * Quick fix: update all anchor tags that are used as buttons because a click on them\r\n\t * changes the url and this will load an other ontology.\r\n\t */\r\n\tfunction updateNavigationHrefs() {\r\n\t\td3.selectAll(\"#optionsMenu > li > a\").attr(\"href\", location.hash || \"#\");\r\n\t}\r\n\r\n\tfunction parseUrlAndLoadOntology() {\r\n\t\t// slice the \"#\" character\r\n\t\tvar hashParameter = location.hash.slice(1);\r\n\r\n\t\tif (!hashParameter) {\r\n\t\t\thashParameter = defaultJsonName;\r\n\t\t}\r\n\r\n\t\tvar ontologyOptions = d3.selectAll(\".select li\").classed(\"selected-ontology\", false);\r\n\r\n\t\t// IRI parameter\r\n\t\tvar iriKey = \"iri=\";\r\n\t\tvar fileKey = \"file=\";\r\n\t\tif (hashParameter.substr(0, fileKey.length) === fileKey) {\r\n\t\t\tvar filename = decodeURIComponent(hashParameter.slice(fileKey.length));\r\n\t\t\tloadOntologyFromFile(filename);\r\n\t\t} else if (hashParameter.substr(0, iriKey.length) === iriKey) {\r\n\t\t\tvar iri = decodeURIComponent(hashParameter.slice(iriKey.length));\r\n\t\t\tloadOntologyFromUri(\"converter.php?iri=\" + encodeURIComponent(iri), iri);\r\n\r\n\t\t\td3.select(\"#converter-option\").classed(\"selected-ontology\", true);\r\n\t\t} else {\r\n\t\t\t// id of an existing ontology as parameter\r\n\t\t\tloadOntologyFromUri(require(\"../../data/\" + hashParameter + \".json\"), hashParameter);\r\n\r\n\t\t\tontologyOptions.each(function () {\r\n\t\t\t\tvar ontologyOption = d3.select(this);\r\n\t\t\t\tif (ontologyOption.select(\"a\").size() > 0) {\r\n\r\n\t\t\t\t\tif (ontologyOption.select(\"a\").attr(\"href\") === \"#\" + hashParameter) {\r\n\t\t\t\t\t\tontologyOption.classed(\"selected-ontology\", true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadOntologyFromUri(relativePath, requestedUri) {\r\n\t\tvar cachedOntology = cachedConversions[relativePath];\r\n\t\tvar trimmedRequestedUri = requestedUri.replace(/\\/$/g, \"\");\r\n\t\tvar filename = trimmedRequestedUri.slice(trimmedRequestedUri.lastIndexOf(\"/\") + 1);\r\n\r\n\r\n\t\tif (cachedOntology) {\r\n\t\t\tloadOntologyFromText(cachedOntology, undefined, filename);\r\n\t\t\tsetLoadingStatus(true);\r\n\t\t} else {\r\n\t\t\tdisplayLoadingIndicators();\r\n\t\t\td3.xhr(relativePath, \"application/json\", function (error, request) {\r\n\t\t\t\tvar loadingSuccessful = !error;\r\n\t\t\t\tvar errorInfo;\r\n\r\n\t\t\t\tvar jsonText;\r\n\t\t\t\tif (loadingSuccessful) {\r\n\t\t\t\t\tjsonText = request.responseText;\r\n\t\t\t\t\tcachedConversions[relativePath] = jsonText;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (error.status === 404) {\r\n\t\t\t\t\t\terrorInfo = \"Connection to the OWL2VOWL interface could not be established.\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloadOntologyFromText(jsonText, undefined, filename);\r\n\r\n\t\t\t\tsetLoadingStatus(loadingSuccessful, error ? error.response : undefined, errorInfo);\r\n\t\t\t\thideLoadingInformations();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setupConverterButtons() {\r\n\t\tvar iriConverterButton = d3.select(\"#iri-converter-button\");\r\n\t\tvar iriConverterInput = d3.select(\"#iri-converter-input\");\r\n\r\n\t\tiriConverterInput.on(\"input\", function () {\r\n\t\t\tkeepOntologySelectionOpenShortly();\r\n\r\n\t\t\tvar inputIsEmpty = iriConverterInput.property(\"value\") === \"\";\r\n\t\t\tiriConverterButton.attr(\"disabled\", inputIsEmpty || undefined);\r\n\t\t}).on(\"click\", function () {\r\n\t\t\tkeepOntologySelectionOpenShortly();\r\n\t\t});\r\n\r\n\t\td3.select(\"#iri-converter-form\").on(\"submit\", function () {\r\n\t\t\tlocation.hash = \"iri=\" + iriConverterInput.property(\"value\");\r\n\t\t\tiriConverterInput.property(\"value\", \"\");\r\n\t\t\tiriConverterInput.on(\"input\")();\r\n\r\n\t\t\t// abort the form submission because we set the hash parameter manually to prevent the ? attached in chrome\r\n\t\t\td3.event.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction setupUploadButton() {\r\n\t\tvar input = d3.select(\"#file-converter-input\"),\r\n\t\t\tinputLabel = d3.select(\"#file-converter-label\"),\r\n\t\t\tuploadButton = d3.select(\"#file-converter-button\");\r\n\r\n\t\tinput.on(\"change\", function () {\r\n\t\t\tvar selectedFiles = input.property(\"files\");\r\n\t\t\tif (selectedFiles.length <= 0) {\r\n\t\t\t\tinputLabel.text(\"Please select a file\");\r\n\t\t\t\tuploadButton.property(\"disabled\", true);\r\n\t\t\t} else {\r\n\t\t\t\tinputLabel.text(selectedFiles[0].name);\r\n\t\t\t\tuploadButton.property(\"disabled\", false);\r\n\r\n\t\t\t\tkeepOntologySelectionOpenShortly();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tuploadButton.on(\"click\", function () {\r\n\t\t\tvar selectedFile = input.property(\"files\")[0];\r\n\t\t\tif (!selectedFile) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar newHashParameter = \"file=\" + selectedFile.name;\r\n\t\t\t// Trigger the reupload manually, because the iri is not changing\r\n\t\t\tif (location.hash === \"#\" + newHashParameter) {\r\n\t\t\t\tloadOntologyFromFile();\r\n\t\t\t} else {\r\n\t\t\t\tlocation.hash = newHashParameter;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction loadOntologyFromFile(filename) {\r\n\t\tvar cachedOntology = cachedConversions[filename];\r\n\t\tif (cachedOntology) {\r\n\t\t\tloadOntologyFromText(cachedOntology, filename);\r\n\t\t\tsetLoadingStatus(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar selectedFile = d3.select(\"#file-converter-input\").property(\"files\")[0];\r\n\t\t// No selection -> this was triggered by the iri. Unequal names -> reuploading another file\r\n\t\tif (!selectedFile || (filename && (filename !== selectedFile.name))) {\r\n\t\t\tloadOntologyFromText(undefined, undefined);\r\n\t\t\tsetLoadingStatus(false, undefined, \"No cached version of \\\"\" + filename + \"\\\" was found. Please reupload the file.\");\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tfilename = selectedFile.name;\r\n\t\t}\r\n\r\n\t\tif (filename.match(/\\.json$/)) {\r\n\t\t\tloadFromJson(selectedFile, filename);\r\n\t\t} else {\r\n\t\t\tloadFromOntology(selectedFile, filename);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadFromJson(file, filename) {\r\n\t\tvar reader = new FileReader();\r\n\t\treader.readAsText(file);\r\n\t\treader.onload = function () {\r\n\t\t\tloadOntologyFromTextAndTrimFilename(reader.result, filename);\r\n\t\t\tsetLoadingStatus(true);\r\n\t\t};\r\n\t}\r\n\r\n\tfunction loadFromOntology(selectedFile, filename) {\r\n\t\tvar uploadButton = d3.select(\"#file-converter-button\");\r\n\r\n\t\tdisplayLoadingIndicators();\r\n\t\tuploadButton.property(\"disabled\", true);\r\n\r\n\t\tvar formData = new FormData();\r\n\t\tformData.append(\"ontology\", selectedFile);\r\n\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open(\"POST\", \"converter.php\", true);\r\n\r\n\t\txhr.onload = function () {\r\n\t\t\tuploadButton.property(\"disabled\", false);\r\n\r\n\t\t\tif (xhr.status === 200) {\r\n\t\t\t\tloadOntologyFromTextAndTrimFilename(xhr.responseText, filename);\r\n\t\t\t\tcachedConversions[filename] = xhr.responseText;\r\n\t\t\t} else {\r\n\t\t\t\tloadOntologyFromText(undefined, undefined);\r\n\t\t\t\tsetLoadingStatus(false, xhr.responseText);\r\n\t\t\t}\r\n\t\t\thideLoadingInformations();\r\n\t\t};\r\n\r\n\t\txhr.send(formData);\r\n\t}\r\n\r\n\tfunction loadOntologyFromTextAndTrimFilename(text, filename) {\r\n\t\tvar trimmedFilename = filename.split(\".\")[0];\r\n\t\tloadOntologyFromText(text, trimmedFilename);\r\n\t}\r\n\r\n\tfunction keepOntologySelectionOpenShortly() {\r\n\t\t// Events in the menu should not be considered\r\n\t\tvar ontologySelection = d3.select(\"#select .toolTipMenu\");\r\n\t\tontologySelection.on(\"click\", function () {\r\n\t\t\td3.event.stopPropagation();\r\n\t\t}).on(\"keydown\", function () {\r\n\t\t\td3.event.stopPropagation();\r\n\t\t});\r\n\r\n\t\tontologySelection.style(\"display\", \"block\");\r\n\r\n\t\tfunction disableKeepingOpen() {\r\n\t\t\tontologySelection.style(\"display\", undefined);\r\n\r\n\t\t\tclearTimeout(ontologyMenuTimeout);\r\n\t\t\td3.select(window).on(\"click\", undefined).on(\"keydown\", undefined);\r\n\t\t\tontologySelection.on(\"mouseover\", undefined);\r\n\t\t}\r\n\r\n\t\t// Clear the timeout to handle fast calls of this function\r\n\t\tclearTimeout(ontologyMenuTimeout);\r\n\t\tontologyMenuTimeout = setTimeout(function () {\r\n\t\t\tdisableKeepingOpen();\r\n\t\t}, 3000);\r\n\r\n\t\t// Disable forced open selection on interaction\r\n\t\td3.select(window).on(\"click\", function () {\r\n\t\t\tdisableKeepingOpen();\r\n\t\t}).on(\"keydown\", function () {\r\n\t\t\tdisableKeepingOpen();\r\n\t\t});\r\n\r\n\t\tontologySelection.on(\"mouseover\", function () {\r\n\t\t\tdisableKeepingOpen();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction displayLoadingIndicators() {\r\n\t\tloadingError.classed(\"hidden\", true);\r\n\t\tloadingProgress.classed(\"hidden\", false);\r\n\t}\r\n\r\n\tfunction setLoadingStatus(success, description, information) {\r\n\t\tloadingError.classed(\"hidden\", success);\r\n\r\n\t\tvar errorInfo = d3.select(\"#error-info\");\r\n\t\tif (information) {\r\n\t\t\terrorInfo.text(information);\r\n\t\t} else {\r\n\t\t\terrorInfo.html(\"Ontology could not be loaded.<br>Is it a valid OWL ontology? Please check with <a target=\\\"_blank\\\"\" +\r\n\t\t\t\"href=\\\"http://mowl-power.cs.man.ac.uk:8080/validator/\\\">OWL Validator</a>.\");\r\n\t\t}\r\n\r\n\t\tvar descriptionMissing = !description;\r\n\t\tvar descriptionVisible = d3.select(\"#error-description-button\").classed(\"hidden\", descriptionMissing).datum().open;\r\n\t\td3.select(\"#error-description-container\").classed(\"hidden\", descriptionMissing || !descriptionVisible);\r\n\t\td3.select(\"#error-description\").text(description || \"\");\r\n\t}\r\n\r\n\tfunction hideLoadingInformations() {\r\n\t\tloadingProgress.classed(\"hidden\", true);\r\n\t}\r\n\r\n\treturn ontologyMenu;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/js/menu/ontologyMenu.js\n ** module id = 81\n ** module chunks = 1\n **/","var map = {\n\t\"./TranscomOntology.json\": 83,\n\t\"./TranscomOntologySmall.json\": 84,\n\t\"./benchmark.json\": 85,\n\t\"./foaf.json\": 86,\n\t\"./goodrelations.json\": 87,\n\t\"./muto.json\": 88,\n\t\"./ontovibe.json\": 89,\n\t\"./personasonto.json\": 90,\n\t\"./sioc.json\": 91,\n\t\"./template.json\": 92\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 82;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data ^\\.\\/.*\\.json$\n ** module id = 82\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/TranscomOntology.json?479f03ce4023f1cd8e0dc88ff6eb0a49\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/TranscomOntology.json\n ** module id = 83\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/TranscomOntologySmall.json?0b1fe41c8abcbf7f56004de98b1f7682\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/TranscomOntologySmall.json\n ** module id = 84\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/benchmark.json?169be55ae232739f0891259af14cbc66\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/benchmark.json\n ** module id = 85\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/foaf.json?c534ae8dd245e2bd2c3f2c40995e2e7b\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/foaf.json\n ** module id = 86\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/goodrelations.json?0d0d9d75c255cce24bf095b4fd05d705\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/goodrelations.json\n ** module id = 87\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/muto.json?dea5ed3ab0ba2b5a531fdc3582a58dc8\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/muto.json\n ** module id = 88\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/ontovibe.json?80e343a39fa9ad3941cb9adc7ccd51b3\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/ontovibe.json\n ** module id = 89\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/personasonto.json?5ca3dc1253468891b4dd125f30cfe4f2\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/personasonto.json\n ** module id = 90\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/sioc.json?81fa1e1c9687c388934cc0cedefa00da\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/sioc.json\n ** module id = 91\n ** module chunks = 1\n **/","module.exports = __webpack_public_path__ + \"data/template.json?f3438a62687f74bf3601a060fdbe31fa\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/data/template.json\n ** module id = 92\n ** module chunks = 1\n **/"],"sourceRoot":""}